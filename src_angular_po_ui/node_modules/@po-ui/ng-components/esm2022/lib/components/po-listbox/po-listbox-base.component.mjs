import { Directive, EventEmitter, Input, Output } from '@angular/core';
import { poLocaleDefault } from '../../services/po-language/po-language.constant';
import { PoItemListType } from './enums/po-item-list-type.enum';
import { convertToBoolean } from '../../utils/util';
import { PoItemListFilterMode } from './enums/po-item-list-filter-mode.enum';
import * as i0 from "@angular/core";
import * as i1 from "../../services/po-language/po-language.service";
export const poListBoxLiteralsDefault = {
    en: {
        noItems: 'No items found'
    },
    es: {
        noItems: 'No se encontraron artículos'
    },
    pt: {
        noItems: 'Nenhum item encontrado'
    },
    ru: {
        noItems: 'ничего не найдено'
    }
};
/**
 * @description
 * O componente `po-listbox` é uma caixa suspensa que aparece sobre a interface após ser acionado por um gatilho visível em tela, como o dropdown. Ele apoia trazendo agrupamentos de opções. O componente listbox é composto pelo componente [**PO Item List**](/documentation/po-item-list).
 */
export class PoListBoxBaseComponent {
    _items = [];
    _type;
    _literals;
    language = poLocaleDefault;
    visible = false;
    set type(value) {
        this._type = PoItemListType[value] ?? 'action';
    }
    get type() {
        return this._type;
    }
    set items(items) {
        this._items = Array.isArray(items) ? items : [];
    }
    get items() {
        return this._items;
    }
    set literals(value) {
        if (value instanceof Object && !(value instanceof Array)) {
            this._literals = {
                ...poListBoxLiteralsDefault[poLocaleDefault],
                ...poListBoxLiteralsDefault[this.language],
                ...value
            };
        }
        else {
            this._literals = poListBoxLiteralsDefault[this.language];
        }
    }
    get literals() {
        return this._literals || poListBoxLiteralsDefault[this.language];
    }
    get isItemListGroup() {
        return this.items.length && this.items[0].hasOwnProperty('options');
    }
    isTabs = false;
    // parâmetro que pode ser passado para o popup ao clicar em um item
    param;
    selectItem = new EventEmitter();
    closeEvent = new EventEmitter();
    // MULTISELECT PROPERTIES
    //output para evento do checkbox
    change = new EventEmitter();
    //output para evento do checkbox
    selectCombo = new EventEmitter();
    //output para evento do checkbox de selecionar todos
    changeAll = new EventEmitter();
    UpdateInfiniteScroll = new EventEmitter();
    //valor do checkbox de selecionar todos
    checkboxAllValue;
    // Propriedade que recebe a lista de opções selecionadas.
    selectedOptions = [];
    // Propriedade que recebe um item selecionado.
    selectedOption;
    fieldValue = 'value';
    fieldLabel = 'label';
    // Evento disparado a cada tecla digitada na pesquisa.
    changeSearch = new EventEmitter();
    // Propriedade que recebe as literais definidas no componente `po-multiselect`.
    literalSearch;
    // Propriedade que recebe o valor de comparação de pesquisa
    fieldValueSearch = 'value';
    // Propriedade que indica se o campo de pesquisa deverá ser escondido.
    hideSearch = false;
    // Propriedade que indica se o campo "Selecionar todos" deverá ser escondido.
    hideSelectAll = false;
    //Propriedades relacionados ao template customizado do multiselect
    multiselectTemplate;
    template;
    placeholderSearch;
    searchValue;
    isServerSearching = false;
    infiniteLoading = false;
    infiniteScroll = false;
    cache = false;
    infiniteScrollDistance = 100;
    filterMode = PoItemListFilterMode.contains;
    isFiltering = false;
    shouldMarkLetters = true;
    compareCache = false;
    comboService;
    // Evento disparado quando uma tab é ativada
    activatedTab = new EventEmitter();
    // Evento disparado no click de uma aba do tabs
    clickTab = new EventEmitter();
    changeStateTabs = new EventEmitter();
    constructor(languageService) {
        this.language = languageService.getShortLanguage();
    }
    static ɵfac = function PoListBoxBaseComponent_Factory(t) { return new (t || PoListBoxBaseComponent)(i0.ɵɵdirectiveInject(i1.PoLanguageService)); };
    static ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: PoListBoxBaseComponent, inputs: { visible: [i0.ɵɵInputFlags.HasDecoratorInputTransform, "p-visible", "visible", convertToBoolean], type: [i0.ɵɵInputFlags.None, "p-type", "type"], items: [i0.ɵɵInputFlags.None, "p-items", "items"], literals: [i0.ɵɵInputFlags.None, "p-literals", "literals"], isTabs: [i0.ɵɵInputFlags.HasDecoratorInputTransform, "p-is-tabs", "isTabs", convertToBoolean], param: [i0.ɵɵInputFlags.None, "p-param", "param"], checkboxAllValue: [i0.ɵɵInputFlags.None, "p-checkboxAllValue", "checkboxAllValue"], selectedOptions: [i0.ɵɵInputFlags.None, "p-selected-options", "selectedOptions"], selectedOption: [i0.ɵɵInputFlags.None, "p-selected-option", "selectedOption"], fieldValue: [i0.ɵɵInputFlags.None, "p-field-value", "fieldValue"], fieldLabel: [i0.ɵɵInputFlags.None, "p-field-label", "fieldLabel"], literalSearch: [i0.ɵɵInputFlags.None, "p-literal-search", "literalSearch"], fieldValueSearch: [i0.ɵɵInputFlags.None, "p-field-value-search", "fieldValueSearch"], hideSearch: [i0.ɵɵInputFlags.None, "p-hide-search", "hideSearch"], hideSelectAll: [i0.ɵɵInputFlags.None, "p-hide-select-all", "hideSelectAll"], multiselectTemplate: [i0.ɵɵInputFlags.None, "p-multiselect-template", "multiselectTemplate"], template: [i0.ɵɵInputFlags.None, "p-template", "template"], placeholderSearch: [i0.ɵɵInputFlags.None, "p-placeholder-search", "placeholderSearch"], searchValue: [i0.ɵɵInputFlags.None, "p-search-value", "searchValue"], isServerSearching: [i0.ɵɵInputFlags.HasDecoratorInputTransform, "p-is-searching", "isServerSearching", convertToBoolean], infiniteLoading: [i0.ɵɵInputFlags.HasDecoratorInputTransform, "p-infinite-loading", "infiniteLoading", convertToBoolean], infiniteScroll: [i0.ɵɵInputFlags.HasDecoratorInputTransform, "p-infinite-scroll", "infiniteScroll", convertToBoolean], cache: [i0.ɵɵInputFlags.HasDecoratorInputTransform, "p-cache", "cache", convertToBoolean], infiniteScrollDistance: [i0.ɵɵInputFlags.None, "p-infinite-scroll-distance", "infiniteScrollDistance"], filterMode: [i0.ɵɵInputFlags.None, "p-filter-mode", "filterMode"], isFiltering: [i0.ɵɵInputFlags.None, "p-filtering", "isFiltering"], shouldMarkLetters: [i0.ɵɵInputFlags.None, "p-should-mark-letter", "shouldMarkLetters"], compareCache: [i0.ɵɵInputFlags.None, "p-compare-cache", "compareCache"], comboService: [i0.ɵɵInputFlags.None, "p-combo-service", "comboService"] }, outputs: { selectItem: "p-select-item", closeEvent: "p-close", change: "p-change", selectCombo: "p-selectcombo-item", changeAll: "p-change-all", UpdateInfiniteScroll: "p-update-infinite-scroll", changeSearch: "p-change-search", activatedTab: "p-activated-tabs", clickTab: "p-click-tabs", changeStateTabs: "p-change-state-tabs" }, features: [i0.ɵɵInputTransformsFeature] });
}
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoListBoxBaseComponent, [{
        type: Directive
    }], () => [{ type: i1.PoLanguageService }], { visible: [{
            type: Input,
            args: [{ alias: 'p-visible', transform: convertToBoolean }]
        }], type: [{
            type: Input,
            args: ['p-type']
        }], items: [{
            type: Input,
            args: ['p-items']
        }], literals: [{
            type: Input,
            args: ['p-literals']
        }], isTabs: [{
            type: Input,
            args: [{ alias: 'p-is-tabs', transform: convertToBoolean }]
        }], param: [{
            type: Input,
            args: ['p-param']
        }], selectItem: [{
            type: Output,
            args: ['p-select-item']
        }], closeEvent: [{
            type: Output,
            args: ['p-close']
        }], change: [{
            type: Output,
            args: ['p-change']
        }], selectCombo: [{
            type: Output,
            args: ['p-selectcombo-item']
        }], changeAll: [{
            type: Output,
            args: ['p-change-all']
        }], UpdateInfiniteScroll: [{
            type: Output,
            args: ['p-update-infinite-scroll']
        }], checkboxAllValue: [{
            type: Input,
            args: ['p-checkboxAllValue']
        }], selectedOptions: [{
            type: Input,
            args: ['p-selected-options']
        }], selectedOption: [{
            type: Input,
            args: ['p-selected-option']
        }], fieldValue: [{
            type: Input,
            args: ['p-field-value']
        }], fieldLabel: [{
            type: Input,
            args: ['p-field-label']
        }], changeSearch: [{
            type: Output,
            args: ['p-change-search']
        }], literalSearch: [{
            type: Input,
            args: ['p-literal-search']
        }], fieldValueSearch: [{
            type: Input,
            args: ['p-field-value-search']
        }], hideSearch: [{
            type: Input,
            args: ['p-hide-search']
        }], hideSelectAll: [{
            type: Input,
            args: ['p-hide-select-all']
        }], multiselectTemplate: [{
            type: Input,
            args: ['p-multiselect-template']
        }], template: [{
            type: Input,
            args: ['p-template']
        }], placeholderSearch: [{
            type: Input,
            args: ['p-placeholder-search']
        }], searchValue: [{
            type: Input,
            args: ['p-search-value']
        }], isServerSearching: [{
            type: Input,
            args: [{ alias: 'p-is-searching', transform: convertToBoolean }]
        }], infiniteLoading: [{
            type: Input,
            args: [{ alias: 'p-infinite-loading', transform: convertToBoolean }]
        }], infiniteScroll: [{
            type: Input,
            args: [{ alias: 'p-infinite-scroll', transform: convertToBoolean }]
        }], cache: [{
            type: Input,
            args: [{ alias: 'p-cache', transform: convertToBoolean }]
        }], infiniteScrollDistance: [{
            type: Input,
            args: ['p-infinite-scroll-distance']
        }], filterMode: [{
            type: Input,
            args: ['p-filter-mode']
        }], isFiltering: [{
            type: Input,
            args: ['p-filtering']
        }], shouldMarkLetters: [{
            type: Input,
            args: ['p-should-mark-letter']
        }], compareCache: [{
            type: Input,
            args: ['p-compare-cache']
        }], comboService: [{
            type: Input,
            args: ['p-combo-service']
        }], activatedTab: [{
            type: Output,
            args: ['p-activated-tabs']
        }], clickTab: [{
            type: Output,
            args: ['p-click-tabs']
        }], changeStateTabs: [{
            type: Output,
            args: ['p-change-state-tabs']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbGlzdGJveC1iYXNlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby1saXN0Ym94L3BvLWxpc3Rib3gtYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBZSxNQUFNLGVBQWUsQ0FBQztBQUVwRixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saURBQWlELENBQUM7QUFFbEYsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBR2hFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHVDQUF1QyxDQUFDOzs7QUFLN0UsTUFBTSxDQUFDLE1BQU0sd0JBQXdCLEdBQUc7SUFDdEMsRUFBRSxFQUFxQjtRQUNyQixPQUFPLEVBQUUsZ0JBQWdCO0tBQzFCO0lBQ0QsRUFBRSxFQUFxQjtRQUNyQixPQUFPLEVBQUUsNkJBQTZCO0tBQ3ZDO0lBQ0QsRUFBRSxFQUFxQjtRQUNyQixPQUFPLEVBQUUsd0JBQXdCO0tBQ2xDO0lBQ0QsRUFBRSxFQUFxQjtRQUNyQixPQUFPLEVBQUUsbUJBQW1CO0tBQzdCO0NBQ0YsQ0FBQztBQUVGOzs7R0FHRztBQUVILE1BQU0sT0FBTyxzQkFBc0I7SUFDekIsTUFBTSxHQUEwRCxFQUFFLENBQUM7SUFDbkUsS0FBSyxDQUFrQjtJQUN2QixTQUFTLENBQW9CO0lBQzdCLFFBQVEsR0FBVyxlQUFlLENBQUM7SUFFaUIsT0FBTyxHQUFZLEtBQUssQ0FBQztJQUVyRixJQUFxQixJQUFJLENBQUMsS0FBYTtRQUNyQyxJQUFJLENBQUMsS0FBSyxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsSUFBSSxRQUFRLENBQUM7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O1lBRUgsWUFBWTtrQkFBckMsS0FBSzttQkFBQyxpQkFBaUI7WUFFRSxZQUFZO2tCQUFyQyxLQUFLO21CQUFDLGlCQUFpQjtZQUdJLFlBQVk7a0JBQXZDLE1BQU07bUJBQUMsa0JBQWtCO1lBR0YsUUFBUTtrQkFBL0IsTUFBTTttQkFBQyxjQUFjO1lBRVMsZUFBZTtrQkFBN0MsTUFBTTttQkFBQyxxQkFBcUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgVGVtcGxhdGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgcG9Mb2NhbGVEZWZhdWx0IH0gZnJvbSAnLi4vLi4vc2VydmljZXMvcG8tbGFuZ3VhZ2UvcG8tbGFuZ3VhZ2UuY29uc3RhbnQnO1xuaW1wb3J0IHsgUG9MYW5ndWFnZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9wby1sYW5ndWFnZS9wby1sYW5ndWFnZS5zZXJ2aWNlJztcbmltcG9ydCB7IFBvSXRlbUxpc3RUeXBlIH0gZnJvbSAnLi9lbnVtcy9wby1pdGVtLWxpc3QtdHlwZS5lbnVtJztcbmltcG9ydCB7IFBvSXRlbUxpc3RBY3Rpb24gfSBmcm9tICcuL3BvLWl0ZW0tbGlzdC9pbnRlcmZhY2VzL3BvLWl0ZW0tbGlzdC1hY3Rpb24uaW50ZXJmYWNlJztcblxuaW1wb3J0IHsgY29udmVydFRvQm9vbGVhbiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xuaW1wb3J0IHsgUG9JdGVtTGlzdEZpbHRlck1vZGUgfSBmcm9tICcuL2VudW1zL3BvLWl0ZW0tbGlzdC1maWx0ZXItbW9kZS5lbnVtJztcbmltcG9ydCB7IFBvTGlzdEJveExpdGVyYWxzIH0gZnJvbSAnLi9pbnRlcmZhY2VzL3BvLWxpc3Rib3gtbGl0ZXJhbHMuaW50ZXJmYWNlJztcbmltcG9ydCB7IFBvSXRlbUxpc3RPcHRpb25Hcm91cCB9IGZyb20gJy4vcG8taXRlbS1saXN0L2ludGVyZmFjZXMvcG8taXRlbS1saXN0LW9wdGlvbi1ncm91cC5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUG9JdGVtTGlzdE9wdGlvbiB9IGZyb20gJy4vcG8taXRlbS1saXN0L2ludGVyZmFjZXMvcG8taXRlbS1saXN0LW9wdGlvbi5pbnRlcmZhY2UnO1xuXG5leHBvcnQgY29uc3QgcG9MaXN0Qm94TGl0ZXJhbHNEZWZhdWx0ID0ge1xuICBlbjogPFBvTGlzdEJveExpdGVyYWxzPntcbiAgICBub0l0ZW1zOiAnTm8gaXRlbXMgZm91bmQnXG4gIH0sXG4gIGVzOiA8UG9MaXN0Qm94TGl0ZXJhbHM+e1xuICAgIG5vSXRlbXM6ICdObyBzZSBlbmNvbnRyYXJvbiBhcnTDrWN1bG9zJ1xuICB9LFxuICBwdDogPFBvTGlzdEJveExpdGVyYWxzPntcbiAgICBub0l0ZW1zOiAnTmVuaHVtIGl0ZW0gZW5jb250cmFkbydcbiAgfSxcbiAgcnU6IDxQb0xpc3RCb3hMaXRlcmFscz57XG4gICAgbm9JdGVtczogJ9C90LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+J1xuICB9XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICogTyBjb21wb25lbnRlIGBwby1saXN0Ym94YCDDqSB1bWEgY2FpeGEgc3VzcGVuc2EgcXVlIGFwYXJlY2Ugc29icmUgYSBpbnRlcmZhY2UgYXDDs3Mgc2VyIGFjaW9uYWRvIHBvciB1bSBnYXRpbGhvIHZpc8OtdmVsIGVtIHRlbGEsIGNvbW8gbyBkcm9wZG93bi4gRWxlIGFwb2lhIHRyYXplbmRvIGFncnVwYW1lbnRvcyBkZSBvcMOnw7Vlcy4gTyBjb21wb25lbnRlIGxpc3Rib3ggw6kgY29tcG9zdG8gcGVsbyBjb21wb25lbnRlIFsqKlBPIEl0ZW0gTGlzdCoqXSgvZG9jdW1lbnRhdGlvbi9wby1pdGVtLWxpc3QpLlxuICovXG5ARGlyZWN0aXZlKClcbmV4cG9ydCBjbGFzcyBQb0xpc3RCb3hCYXNlQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBfaXRlbXM6IEFycmF5PFBvSXRlbUxpc3RPcHRpb24gfCBQb0l0ZW1MaXN0T3B0aW9uR3JvdXAgfCBhbnk+ID0gW107XG4gIHByaXZhdGUgX3R5cGUhOiBQb0l0ZW1MaXN0VHlwZTtcbiAgcHJpdmF0ZSBfbGl0ZXJhbHM6IFBvTGlzdEJveExpdGVyYWxzO1xuICBwcml2YXRlIGxhbmd1YWdlOiBzdHJpbmcgPSBwb0xvY2FsZURlZmF1bHQ7XG5cbiAgQElucHV0KHsgYWxpYXM6ICdwLXZpc2libGUnLCB0cmFuc2Zvcm06IGNvbnZlcnRUb0Jvb2xlYW4gfSkgdmlzaWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBJbnB1dCgncC10eXBlJykgc2V0IHR5cGUodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3R5cGUgPSBQb0l0ZW1MaXN0VHlwZVt2YWx1ZV0gPz8gJ2FjdGlvbic7XG4gIH1cblxuICBnZXQgdHlwZSgpOiBQb0l0ZW1MaXN0VHlwZSB7XG4gICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gIH1cblxuICBASW5wdXQoJ3AtaXRlbXMnKSBzZXQgaXRlbXMoaXRlbXM6IEFycmF5PFBvSXRlbUxpc3RBY3Rpb24gfCBQb0l0ZW1MaXN0T3B0aW9uIHwgUG9JdGVtTGlzdE9wdGlvbkdyb3VwIHwgYW55Pikge1xuICAgIHRoaXMuX2l0ZW1zID0gQXJyYXkuaXNBcnJheShpdGVtcykgPyBpdGVtcyA6IFtdO1xuICB9XG5cbiAgZ2V0IGl0ZW1zKCk6IEFycmF5PFBvSXRlbUxpc3RBY3Rpb24gfCBQb0l0ZW1MaXN0T3B0aW9uIHwgUG9JdGVtTGlzdE9wdGlvbkdyb3VwIHwgYW55PiB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZW1zO1xuICB9XG5cbiAgQElucHV0KCdwLWxpdGVyYWxzJykgc2V0IGxpdGVyYWxzKHZhbHVlOiBQb0xpc3RCb3hMaXRlcmFscykge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCAmJiAhKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICB0aGlzLl9saXRlcmFscyA9IHtcbiAgICAgICAgLi4ucG9MaXN0Qm94TGl0ZXJhbHNEZWZhdWx0W3BvTG9jYWxlRGVmYXVsdF0sXG4gICAgICAgIC4uLnBvTGlzdEJveExpdGVyYWxzRGVmYXVsdFt0aGlzLmxhbmd1YWdlXSxcbiAgICAgICAgLi4udmFsdWVcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpdGVyYWxzID0gcG9MaXN0Qm94TGl0ZXJhbHNEZWZhdWx0W3RoaXMubGFuZ3VhZ2VdO1xuICAgIH1cbiAgfVxuXG4gIGdldCBsaXRlcmFscygpIHtcbiAgICByZXR1cm4gdGhpcy5fbGl0ZXJhbHMgfHwgcG9MaXN0Qm94TGl0ZXJhbHNEZWZhdWx0W3RoaXMubGFuZ3VhZ2VdO1xuICB9XG5cbiAgZ2V0IGlzSXRlbUxpc3RHcm91cCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGggJiYgdGhpcy5pdGVtc1swXS5oYXNPd25Qcm9wZXJ0eSgnb3B0aW9ucycpO1xuICB9XG5cbiAgQElucHV0KHsgYWxpYXM6ICdwLWlzLXRhYnMnLCB0cmFuc2Zvcm06IGNvbnZlcnRUb0Jvb2xlYW4gfSkgaXNUYWJzOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLy8gcGFyw6JtZXRybyBxdWUgcG9kZSBzZXIgcGFzc2FkbyBwYXJhIG8gcG9wdXAgYW8gY2xpY2FyIGVtIHVtIGl0ZW1cbiAgQElucHV0KCdwLXBhcmFtJykgcGFyYW0/O1xuXG4gIEBPdXRwdXQoJ3Atc2VsZWN0LWl0ZW0nKSBzZWxlY3RJdGVtID0gbmV3IEV2ZW50RW1pdHRlcjxQb0l0ZW1MaXN0T3B0aW9uIHwgUG9JdGVtTGlzdE9wdGlvbkdyb3VwIHwgYW55PigpO1xuXG4gIEBPdXRwdXQoJ3AtY2xvc2UnKSBjbG9zZUV2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIC8vIE1VTFRJU0VMRUNUIFBST1BFUlRJRVNcblxuICAvL291dHB1dCBwYXJhIGV2ZW50byBkbyBjaGVja2JveFxuICBAT3V0cHV0KCdwLWNoYW5nZScpIGNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvL291dHB1dCBwYXJhIGV2ZW50byBkbyBjaGVja2JveFxuICBAT3V0cHV0KCdwLXNlbGVjdGNvbWJvLWl0ZW0nKSBzZWxlY3RDb21ibyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvL291dHB1dCBwYXJhIGV2ZW50byBkbyBjaGVja2JveCBkZSBzZWxlY2lvbmFyIHRvZG9zXG4gIEBPdXRwdXQoJ3AtY2hhbmdlLWFsbCcpIGNoYW5nZUFsbCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBAT3V0cHV0KCdwLXVwZGF0ZS1pbmZpbml0ZS1zY3JvbGwnKSBVcGRhdGVJbmZpbml0ZVNjcm9sbCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvL3ZhbG9yIGRvIGNoZWNrYm94IGRlIHNlbGVjaW9uYXIgdG9kb3NcbiAgQElucHV0KCdwLWNoZWNrYm94QWxsVmFsdWUnKSBjaGVja2JveEFsbFZhbHVlOiBhbnk7XG5cbiAgLy8gUHJvcHJpZWRhZGUgcXVlIHJlY2ViZSBhIGxpc3RhIGRlIG9ww6fDtWVzIHNlbGVjaW9uYWRhcy5cbiAgQElucHV0KCdwLXNlbGVjdGVkLW9wdGlvbnMnKSBzZWxlY3RlZE9wdGlvbnM6IEFycmF5PGFueT4gPSBbXTtcblxuICAvLyBQcm9wcmllZGFkZSBxdWUgcmVjZWJlIHVtIGl0ZW0gc2VsZWNpb25hZG8uXG4gIEBJbnB1dCgncC1zZWxlY3RlZC1vcHRpb24nKSBzZWxlY3RlZE9wdGlvbj86IGFueTtcblxuICBASW5wdXQoJ3AtZmllbGQtdmFsdWUnKSBmaWVsZFZhbHVlOiBzdHJpbmcgPSAndmFsdWUnO1xuXG4gIEBJbnB1dCgncC1maWVsZC1sYWJlbCcpIGZpZWxkTGFiZWw6IHN0cmluZyA9ICdsYWJlbCc7XG5cbiAgLy8gRXZlbnRvIGRpc3BhcmFkbyBhIGNhZGEgdGVjbGEgZGlnaXRhZGEgbmEgcGVzcXVpc2EuXG4gIEBPdXRwdXQoJ3AtY2hhbmdlLXNlYXJjaCcpIGNoYW5nZVNlYXJjaCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvLyBQcm9wcmllZGFkZSBxdWUgcmVjZWJlIGFzIGxpdGVyYWlzIGRlZmluaWRhcyBubyBjb21wb25lbnRlIGBwby1tdWx0aXNlbGVjdGAuXG4gIEBJbnB1dCgncC1saXRlcmFsLXNlYXJjaCcpIGxpdGVyYWxTZWFyY2g/OiBhbnk7XG5cbiAgLy8gUHJvcHJpZWRhZGUgcXVlIHJlY2ViZSBvIHZhbG9yIGRlIGNvbXBhcmHDp8OjbyBkZSBwZXNxdWlzYVxuICBASW5wdXQoJ3AtZmllbGQtdmFsdWUtc2VhcmNoJykgZmllbGRWYWx1ZVNlYXJjaDogc3RyaW5nID0gJ3ZhbHVlJztcblxuICAvLyBQcm9wcmllZGFkZSBxdWUgaW5kaWNhIHNlIG8gY2FtcG8gZGUgcGVzcXVpc2EgZGV2ZXLDoSBzZXIgZXNjb25kaWRvLlxuICBASW5wdXQoJ3AtaGlkZS1zZWFyY2gnKSBoaWRlU2VhcmNoPzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8vIFByb3ByaWVkYWRlIHF1ZSBpbmRpY2Egc2UgbyBjYW1wbyBcIlNlbGVjaW9uYXIgdG9kb3NcIiBkZXZlcsOhIHNlciBlc2NvbmRpZG8uXG4gIEBJbnB1dCgncC1oaWRlLXNlbGVjdC1hbGwnKSBoaWRlU2VsZWN0QWxsPzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8vUHJvcHJpZWRhZGVzIHJlbGFjaW9uYWRvcyBhbyB0ZW1wbGF0ZSBjdXN0b21pemFkbyBkbyBtdWx0aXNlbGVjdFxuICBASW5wdXQoJ3AtbXVsdGlzZWxlY3QtdGVtcGxhdGUnKSBtdWx0aXNlbGVjdFRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+IHwgYW55O1xuXG4gIEBJbnB1dCgncC10ZW1wbGF0ZScpIHRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+IHwgYW55O1xuXG4gIEBJbnB1dCgncC1wbGFjZWhvbGRlci1zZWFyY2gnKSBwbGFjZWhvbGRlclNlYXJjaDogc3RyaW5nO1xuXG4gIEBJbnB1dCgncC1zZWFyY2gtdmFsdWUnKSBzZWFyY2hWYWx1ZTogc3RyaW5nO1xuXG4gIEBJbnB1dCh7IGFsaWFzOiAncC1pcy1zZWFyY2hpbmcnLCB0cmFuc2Zvcm06IGNvbnZlcnRUb0Jvb2xlYW4gfSkgaXNTZXJ2ZXJTZWFyY2hpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBASW5wdXQoeyBhbGlhczogJ3AtaW5maW5pdGUtbG9hZGluZycsIHRyYW5zZm9ybTogY29udmVydFRvQm9vbGVhbiB9KSBpbmZpbml0ZUxvYWRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBASW5wdXQoeyBhbGlhczogJ3AtaW5maW5pdGUtc2Nyb2xsJywgdHJhbnNmb3JtOiBjb252ZXJ0VG9Cb29sZWFuIH0pIGluZmluaXRlU2Nyb2xsOiBib29sZWFuID0gZmFsc2U7XG5cbiAgQElucHV0KHsgYWxpYXM6ICdwLWNhY2hlJywgdHJhbnNmb3JtOiBjb252ZXJ0VG9Cb29sZWFuIH0pIGNhY2hlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgQElucHV0KCdwLWluZmluaXRlLXNjcm9sbC1kaXN0YW5jZScpIGluZmluaXRlU2Nyb2xsRGlzdGFuY2U6IG51bWJlciA9IDEwMDtcblxuICBASW5wdXQoJ3AtZmlsdGVyLW1vZGUnKSBmaWx0ZXJNb2RlOiBQb0l0ZW1MaXN0RmlsdGVyTW9kZSA9IFBvSXRlbUxpc3RGaWx0ZXJNb2RlLmNvbnRhaW5zO1xuXG4gIEBJbnB1dCgncC1maWx0ZXJpbmcnKSBpc0ZpbHRlcmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBJbnB1dCgncC1zaG91bGQtbWFyay1sZXR0ZXInKSBzaG91bGRNYXJrTGV0dGVyczogYm9vbGVhbiA9IHRydWU7XG5cbiAgQElucHV0KCdwLWNvbXBhcmUtY2FjaGUnKSBjb21wYXJlQ2FjaGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBASW5wdXQoJ3AtY29tYm8tc2VydmljZScpIGNvbWJvU2VydmljZTogYW55O1xuXG4gIC8vIEV2ZW50byBkaXNwYXJhZG8gcXVhbmRvIHVtYSB0YWIgw6kgYXRpdmFkYVxuICBAT3V0cHV0KCdwLWFjdGl2YXRlZC10YWJzJykgYWN0aXZhdGVkVGFiID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8vIEV2ZW50byBkaXNwYXJhZG8gbm8gY2xpY2sgZGUgdW1hIGFiYSBkbyB0YWJzXG4gIEBPdXRwdXQoJ3AtY2xpY2stdGFicycpIGNsaWNrVGFiID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBPdXRwdXQoJ3AtY2hhbmdlLXN0YXRlLXRhYnMnKSBjaGFuZ2VTdGF0ZVRhYnMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgY29uc3RydWN0b3IobGFuZ3VhZ2VTZXJ2aWNlOiBQb0xhbmd1YWdlU2VydmljZSkge1xuICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZVNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpO1xuICB9XG59XG4iXX0=