import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { PoButtonComponent } from '../../po-button/po-button.component';
import * as i0 from "@angular/core";
import * as i1 from "../../po-popover/po-popover.component";
import * as i2 from "../../po-button/po-button.component";
import * as i3 from "../../po-listbox/po-listbox.component";
const _c0 = ["popover"];
/**
 * @docsPrivate
 *
 * @description
 *
 * Componente para agrupamento de componentes `po-tab-button` que os rendereiza em uma um caixa de diálogo
 * no formato de lista.
 */
export class PoTabDropdownComponent {
    popover;
    button;
    // Rótulo do `po-tab-button`
    label;
    // Diminui o tamanho do botão
    small;
    // Lista de abas
    tabs = [];
    // Evento que será emitido ao ativar uma aba
    activated = new EventEmitter();
    // Evento que será emitido a aba for desabilitada ou ocultada
    changeState = new EventEmitter();
    // Evento de click
    click = new EventEmitter();
    closeAndReturnToButtom() {
        this.popover.close();
        this.button.focus();
    }
    get buttonElement() {
        return this.button.buttonElement;
    }
    static ɵfac = function PoTabDropdownComponent_Factory(t) { return new (t || PoTabDropdownComponent)(); };
    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoTabDropdownComponent, selectors: [["po-tab-dropdown"]], viewQuery: function PoTabDropdownComponent_Query(rf, ctx) { if (rf & 1) {
            i0.ɵɵviewQuery(_c0, 7);
            i0.ɵɵviewQuery(PoButtonComponent, 7);
        } if (rf & 2) {
            let _t;
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.popover = _t.first);
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.button = _t.first);
        } }, inputs: { label: [i0.ɵɵInputFlags.None, "p-label", "label"], small: [i0.ɵɵInputFlags.None, "p-small", "small"], tabs: [i0.ɵɵInputFlags.None, "p-tabs", "tabs"] }, outputs: { activated: "p-activated", changeState: "p-change-state", click: "p-click" }, decls: 9, vars: 4, consts: [[1, "po-tab-dropdown-content", "po-tab-button-default"], ["p-kind", "tertiary", "p-icon", "ICON_ARROW_DOWN", 3, "p-aria-label"], ["button", ""], ["p-hide-arrow", "", "p-position", "bottom", 3, "p-target"], ["popover", ""], [1, "po-tab-dropdown-container"], ["p-type", "action", 3, "p-items", "p-is-tabs", "p-activated-tabs", "p-change-state-tabs", "p-click-tabs", "p-close"], ["listbox", "", "poListBoxRef", ""]], template: function PoTabDropdownComponent_Template(rf, ctx) { if (rf & 1) {
            const _r4 = i0.ɵɵgetCurrentView();
            i0.ɵɵelementStart(0, "div", 0);
            i0.ɵɵelement(1, "po-button", 1, 2);
            i0.ɵɵelementEnd();
            i0.ɵɵelementStart(3, "po-popover", 3, 4)(5, "div", 5)(6, "po-listbox", 6, 7);
            i0.ɵɵlistener("p-activated-tabs", function PoTabDropdownComponent_Template_po_listbox_p_activated_tabs_6_listener($event) { return ctx.activated.emit($event); })("p-change-state-tabs", function PoTabDropdownComponent_Template_po_listbox_p_change_state_tabs_6_listener($event) { return ctx.changeState.emit($event); })("p-click-tabs", function PoTabDropdownComponent_Template_po_listbox_p_click_tabs_6_listener($event) { i0.ɵɵrestoreView(_r4); const _r1 = i0.ɵɵreference(4); _r1.close(); return i0.ɵɵresetView(ctx.click.emit($event)); })("p-close", function PoTabDropdownComponent_Template_po_listbox_p_close_6_listener() { return ctx.closeAndReturnToButtom(); });
            i0.ɵɵelementEnd()()();
        } if (rf & 2) {
            i0.ɵɵadvance();
            i0.ɵɵproperty("p-aria-label", ctx.label);
            i0.ɵɵadvance(2);
            i0.ɵɵproperty("p-target", ctx.buttonElement);
            i0.ɵɵadvance(3);
            i0.ɵɵproperty("p-items", ctx.tabs)("p-is-tabs", true);
        } }, dependencies: [i1.PoPopoverComponent, i2.PoButtonComponent, i3.PoListBoxComponent], encapsulation: 2 });
}
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoTabDropdownComponent, [{
        type: Component,
        args: [{ selector: 'po-tab-dropdown', template: "<div class=\"po-tab-dropdown-content po-tab-button-default\">\n  <po-button #button p-kind=\"tertiary\" [p-aria-label]=\"label\" p-icon=\"ICON_ARROW_DOWN\"> </po-button>\n</div>\n\n<po-popover #popover p-hide-arrow p-position=\"bottom\" [p-target]=\"buttonElement\">\n  <div class=\"po-tab-dropdown-container\">\n    <po-listbox\n      #listbox\n      #poListBoxRef\n      p-type=\"action\"\n      [p-items]=\"tabs\"\n      [p-is-tabs]=\"true\"\n      (p-activated-tabs)=\"activated.emit($event)\"\n      (p-change-state-tabs)=\"changeState.emit($event)\"\n      (p-click-tabs)=\"popover.close(); click.emit($event)\"\n      (p-close)=\"closeAndReturnToButtom()\"\n    >\n    </po-listbox>\n  </div>\n</po-popover>\n" }]
    }], null, { popover: [{
            type: ViewChild,
            args: ['popover', { static: true }]
        }], button: [{
            type: ViewChild,
            args: [PoButtonComponent, { static: true }]
        }], label: [{
            type: Input,
            args: ['p-label']
        }], small: [{
            type: Input,
            args: ['p-small']
        }], tabs: [{
            type: Input,
            args: ['p-tabs']
        }], activated: [{
            type: Output,
            args: ['p-activated']
        }], changeState: [{
            type: Output,
            args: ['p-change-state']
        }], click: [{
            type: Output,
            args: ['p-click']
        }] }); })();
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassDebugInfo(PoTabDropdownComponent, { className: "PoTabDropdownComponent", filePath: "lib/components/po-tabs/po-tab-dropdown/po-tab-dropdown.component.ts", lineNumber: 19 }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tdGFiLWRyb3Bkb3duLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby10YWJzL3BvLXRhYi1kcm9wZG93bi9wby10YWItZHJvcGRvd24uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvLXRhYnMvcG8tdGFiLWRyb3Bkb3duL3BvLXRhYi1kcm9wZG93bi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUlsRixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQzs7Ozs7O0FBRXhFOzs7Ozs7O0dBT0c7QUFLSCxNQUFNLE9BQU8sc0JBQXNCO0lBQ08sT0FBTyxDQUFxQjtJQUVwQixNQUFNLENBQW9CO0lBRTFFLDRCQUE0QjtJQUNWLEtBQUssQ0FBUztJQUVoQyw2QkFBNkI7SUFDWCxLQUFLLENBQVU7SUFFakMsZ0JBQWdCO0lBQ0MsSUFBSSxHQUEwQixFQUFFLENBQUM7SUFFbEQsNENBQTRDO0lBQ3JCLFNBQVMsR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO0lBRTNELDZEQUE2RDtJQUNuQyxXQUFXLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztJQUVoRSxrQkFBa0I7SUFDQyxLQUFLLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztJQUVuRCxzQkFBc0I7UUFDcEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDO0lBQ25DLENBQUM7Z0ZBOUJVLHNCQUFzQjs2REFBdEIsc0JBQXNCOzsyQkFHdEIsaUJBQWlCOzs7Ozs7O1lDckI5Qiw4QkFBMkQ7WUFDekQsa0NBQWtHO1lBQ3BHLGlCQUFNO1lBRU4sd0NBQWlGLGFBQUEsdUJBQUE7WUFRM0UsbUlBQW9CLDBCQUFzQixJQUFDLDRIQUNwQiw0QkFBd0IsSUFESiw2SkFFM0IsV0FBZSxTQUFFLGVBQUEsc0JBQWtCLENBQUEsSUFGUiw4RkFHaEMsNEJBQXdCLElBSFE7WUFLN0MsaUJBQWEsRUFBQSxFQUFBOztZQWhCc0IsY0FBc0I7WUFBdEIsd0NBQXNCO1lBR1AsZUFBMEI7WUFBMUIsNENBQTBCO1lBTTFFLGVBQWdCO1lBQWhCLGtDQUFnQixtQkFBQTs7O2lGRFFULHNCQUFzQjtjQUpsQyxTQUFTOzJCQUNFLGlCQUFpQjtnQkFJYSxPQUFPO2tCQUE5QyxTQUFTO21CQUFDLFNBQVMsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7WUFFVSxNQUFNO2tCQUFyRCxTQUFTO21CQUFDLGlCQUFpQixFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtZQUc1QixLQUFLO2tCQUF0QixLQUFLO21CQUFDLFNBQVM7WUFHRSxLQUFLO2tCQUF0QixLQUFLO21CQUFDLFNBQVM7WUFHQyxJQUFJO2tCQUFwQixLQUFLO21CQUFDLFFBQVE7WUFHUSxTQUFTO2tCQUEvQixNQUFNO21CQUFDLGFBQWE7WUFHSyxXQUFXO2tCQUFwQyxNQUFNO21CQUFDLGdCQUFnQjtZQUdMLEtBQUs7a0JBQXZCLE1BQU07bUJBQUMsU0FBUzs7a0ZBckJOLHNCQUFzQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgUG9Qb3BvdmVyQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vcG8tcG9wb3Zlci9wby1wb3BvdmVyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb1RhYkNvbXBvbmVudCB9IGZyb20gJy4uL3BvLXRhYi9wby10YWIuY29tcG9uZW50JztcbmltcG9ydCB7IFBvQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vcG8tYnV0dG9uL3BvLWJ1dHRvbi5jb21wb25lbnQnO1xuXG4vKipcbiAqIEBkb2NzUHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIENvbXBvbmVudGUgcGFyYSBhZ3J1cGFtZW50byBkZSBjb21wb25lbnRlcyBgcG8tdGFiLWJ1dHRvbmAgcXVlIG9zIHJlbmRlcmVpemEgZW0gdW1hIHVtIGNhaXhhIGRlIGRpw6Fsb2dvXG4gKiBubyBmb3JtYXRvIGRlIGxpc3RhLlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwby10YWItZHJvcGRvd24nLFxuICB0ZW1wbGF0ZVVybDogJy4vcG8tdGFiLWRyb3Bkb3duLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBQb1RhYkRyb3Bkb3duQ29tcG9uZW50IHtcbiAgQFZpZXdDaGlsZCgncG9wb3ZlcicsIHsgc3RhdGljOiB0cnVlIH0pIHBvcG92ZXI6IFBvUG9wb3ZlckNvbXBvbmVudDtcblxuICBAVmlld0NoaWxkKFBvQnV0dG9uQ29tcG9uZW50LCB7IHN0YXRpYzogdHJ1ZSB9KSBidXR0b246IFBvQnV0dG9uQ29tcG9uZW50O1xuXG4gIC8vIFLDs3R1bG8gZG8gYHBvLXRhYi1idXR0b25gXG4gIEBJbnB1dCgncC1sYWJlbCcpIGxhYmVsOiBzdHJpbmc7XG5cbiAgLy8gRGltaW51aSBvIHRhbWFuaG8gZG8gYm90w6NvXG4gIEBJbnB1dCgncC1zbWFsbCcpIHNtYWxsOiBib29sZWFuO1xuXG4gIC8vIExpc3RhIGRlIGFiYXNcbiAgQElucHV0KCdwLXRhYnMnKSB0YWJzOiBBcnJheTxQb1RhYkNvbXBvbmVudD4gPSBbXTtcblxuICAvLyBFdmVudG8gcXVlIHNlcsOhIGVtaXRpZG8gYW8gYXRpdmFyIHVtYSBhYmFcbiAgQE91dHB1dCgncC1hY3RpdmF0ZWQnKSBhY3RpdmF0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAvLyBFdmVudG8gcXVlIHNlcsOhIGVtaXRpZG8gYSBhYmEgZm9yIGRlc2FiaWxpdGFkYSBvdSBvY3VsdGFkYVxuICBAT3V0cHV0KCdwLWNoYW5nZS1zdGF0ZScpIGNoYW5nZVN0YXRlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgLy8gRXZlbnRvIGRlIGNsaWNrXG4gIEBPdXRwdXQoJ3AtY2xpY2snKSBjbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIGNsb3NlQW5kUmV0dXJuVG9CdXR0b20oKSB7XG4gICAgdGhpcy5wb3BvdmVyLmNsb3NlKCk7XG4gICAgdGhpcy5idXR0b24uZm9jdXMoKTtcbiAgfVxuXG4gIGdldCBidXR0b25FbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmJ1dHRvbi5idXR0b25FbGVtZW50O1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwicG8tdGFiLWRyb3Bkb3duLWNvbnRlbnQgcG8tdGFiLWJ1dHRvbi1kZWZhdWx0XCI+XG4gIDxwby1idXR0b24gI2J1dHRvbiBwLWtpbmQ9XCJ0ZXJ0aWFyeVwiIFtwLWFyaWEtbGFiZWxdPVwibGFiZWxcIiBwLWljb249XCJJQ09OX0FSUk9XX0RPV05cIj4gPC9wby1idXR0b24+XG48L2Rpdj5cblxuPHBvLXBvcG92ZXIgI3BvcG92ZXIgcC1oaWRlLWFycm93IHAtcG9zaXRpb249XCJib3R0b21cIiBbcC10YXJnZXRdPVwiYnV0dG9uRWxlbWVudFwiPlxuICA8ZGl2IGNsYXNzPVwicG8tdGFiLWRyb3Bkb3duLWNvbnRhaW5lclwiPlxuICAgIDxwby1saXN0Ym94XG4gICAgICAjbGlzdGJveFxuICAgICAgI3BvTGlzdEJveFJlZlxuICAgICAgcC10eXBlPVwiYWN0aW9uXCJcbiAgICAgIFtwLWl0ZW1zXT1cInRhYnNcIlxuICAgICAgW3AtaXMtdGFic109XCJ0cnVlXCJcbiAgICAgIChwLWFjdGl2YXRlZC10YWJzKT1cImFjdGl2YXRlZC5lbWl0KCRldmVudClcIlxuICAgICAgKHAtY2hhbmdlLXN0YXRlLXRhYnMpPVwiY2hhbmdlU3RhdGUuZW1pdCgkZXZlbnQpXCJcbiAgICAgIChwLWNsaWNrLXRhYnMpPVwicG9wb3Zlci5jbG9zZSgpOyBjbGljay5lbWl0KCRldmVudClcIlxuICAgICAgKHAtY2xvc2UpPVwiY2xvc2VBbmRSZXR1cm5Ub0J1dHRvbSgpXCJcbiAgICA+XG4gICAgPC9wby1saXN0Ym94PlxuICA8L2Rpdj5cbjwvcG8tcG9wb3Zlcj5cbiJdfQ==