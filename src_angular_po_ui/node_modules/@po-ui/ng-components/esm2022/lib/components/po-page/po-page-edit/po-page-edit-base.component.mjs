import { Directive, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { poLocaleDefault } from '../../../services/po-language/po-language.constant';
import { PoPageContentComponent } from '../po-page-content/po-page-content.component';
import * as i0 from "@angular/core";
import * as i1 from "../../../services/po-language/po-language.service";
export const poPageEditLiteralsDefault = {
    en: {
        cancel: 'Cancel',
        save: 'Save',
        saveNew: 'Save and New'
    },
    es: {
        cancel: 'Cancelar',
        save: 'Guardar',
        saveNew: 'Guardar y Nuevo'
    },
    pt: {
        cancel: 'Cancelar',
        save: 'Salvar',
        saveNew: 'Salvar e Novo'
    },
    ru: {
        cancel: 'отменить',
        save: 'экономить',
        saveNew: 'Сохранить и новый'
    }
};
/**
 * @description
 *
 * O componente **po-page-edit** é utilizado como container principal para tela de edição ou adição de um
 * registro, tendo a possibilidade de usar as ações de "Salvar", "Salvar e Novo" e "Cancelar".
 *
 * Os botões "Salvar" e "Salvar e Novo" podem ser habilitados/desabilitados utilizando a propriedade `p-disable-submit`.
 * Esta propriedade pode ser utilizada para desabilitar os botões caso exista um formulário inválido na página ou alguma
 * regra de negócio não tenha sido atendida.
 */
export class PoPageEditBaseComponent {
    poPageContent;
    /** Objeto com propriedades do breadcrumb. */
    breadcrumb;
    /** Desabilita botões de submissão (save e saveNew) */
    disableSubmit;
    /**
     * Evento que será disparado ao clicar no botão de "Cancelar".
     *
     * ```
     * <po-page-edit (p-cancel)="myCancelFunction()">
     * </po-page-edit>
     * ```
     *
     * > Caso não utilizar esta propriedade, o botão de "Cancelar" não será exibido.
     */
    cancel = new EventEmitter();
    /**
     * Evento que será disparado ao clicar no botão de "Salvar".
     *
     * ```
     * <po-page-edit (p-save)="mySaveFunction()">
     * </po-page-edit>
     * ```
     *
     * > Caso não utilizar esta propriedade, o botão de "Salvar" não será exibido.
     */
    save = new EventEmitter();
    /**
     * Evento que será disparado ao clicar no botão de "Salvar e Novo".
     *
     * ```
     * <po-page-edit (p-save-new)="mySaveNewFunction()">
     * </po-page-edit>
     * ```
     *
     * > Caso não utilizar esta propriedade, o botão de "Salvar e Novo" não será exibido.
     */
    saveNew = new EventEmitter();
    _literals;
    _title;
    language;
    /**
     * @optional
     *
     * @description
     *
     * Objeto com as literais usadas no `po-page-edit`.
     *
     * Existem duas maneiras de customizar o componente, passando um objeto com todas as literais disponíveis:
     *
     * ```
     *  const customLiterals: PoPageEditLiterals = {
     *    cancel: 'Voltar',
     *    save: 'Confirmar',
     *    saveNew: 'Confirmar e criar um novo'
     *  };
     * ```
     *
     * Ou passando apenas as literais que deseja customizar:
     *
     * ```
     *  const customLiterals: PoPageEditLiterals = {
     *    cancel: 'Cancelar processo'
     *  };
     * ```
     *
     * E para carregar as literais customizadas, basta apenas passar o objeto para o componente.
     *
     * ```
     * <po-page-edit
     *   [p-literals]="customLiterals">
     * </po-page-edit>
     * ```
     *
     * > O objeto padrão de literais será traduzido de acordo com o idioma do
     * [`PoI18nService`](/documentation/po-i18n) ou do browser.
     */
    set literals(value) {
        if (value instanceof Object && !(value instanceof Array)) {
            this._literals = {
                ...poPageEditLiteralsDefault[poLocaleDefault],
                ...poPageEditLiteralsDefault[this.language],
                ...value
            };
        }
        else {
            this._literals = poPageEditLiteralsDefault[this.language];
        }
    }
    get literals() {
        return this._literals || poPageEditLiteralsDefault[this.language];
    }
    /** Título da página. */
    set title(title) {
        this._title = title;
        setTimeout(() => this.poPageContent.recalculateHeaderSize());
    }
    get title() {
        return this._title;
    }
    /**
     * @optional
     *
     * @description
     *
     * Subtitulo do Header da página
     */
    subtitle;
    constructor(languageService) {
        this.language = languageService.getShortLanguage();
    }
    static ɵfac = function PoPageEditBaseComponent_Factory(t) { return new (t || PoPageEditBaseComponent)(i0.ɵɵdirectiveInject(i1.PoLanguageService)); };
    static ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: PoPageEditBaseComponent, viewQuery: function PoPageEditBaseComponent_Query(rf, ctx) { if (rf & 1) {
            i0.ɵɵviewQuery(PoPageContentComponent, 7);
        } if (rf & 2) {
            let _t;
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.poPageContent = _t.first);
        } }, inputs: { breadcrumb: [i0.ɵɵInputFlags.None, "p-breadcrumb", "breadcrumb"], disableSubmit: [i0.ɵɵInputFlags.None, "p-disable-submit", "disableSubmit"], literals: [i0.ɵɵInputFlags.None, "p-literals", "literals"], title: [i0.ɵɵInputFlags.None, "p-title", "title"], subtitle: [i0.ɵɵInputFlags.None, "p-subtitle", "subtitle"] }, outputs: { cancel: "p-cancel", save: "p-save", saveNew: "p-save-new" } });
}
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoPageEditBaseComponent, [{
        type: Directive
    }], () => [{ type: i1.PoLanguageService }], { poPageContent: [{
            type: ViewChild,
            args: [PoPageContentComponent, { static: true }]
        }], breadcrumb: [{
            type: Input,
            args: ['p-breadcrumb']
        }], disableSubmit: [{
            type: Input,
            args: ['p-disable-submit']
        }], cancel: [{
            type: Output,
            args: ['p-cancel']
        }], save: [{
            type: Output,
            args: ['p-save']
        }], saveNew: [{
            type: Output,
            args: ['p-save-new']
        }], literals: [{
            type: Input,
            args: ['p-literals']
        }], title: [{
            type: Input,
            args: ['p-title']
        }], subtitle: [{
            type: Input,
            args: ['p-subtitle']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1lZGl0LWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvLXBhZ2UvcG8tcGFnZS1lZGl0L3BvLXBhZ2UtZWRpdC1iYXNlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVsRixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFJckYsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sOENBQThDLENBQUM7OztBQUd0RixNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRztJQUN2QyxFQUFFLEVBQXNCO1FBQ3RCLE1BQU0sRUFBRSxRQUFRO1FBQ2hCLElBQUksRUFBRSxNQUFNO1FBQ1osT0FBTyxFQUFFLGNBQWM7S0FDeEI7SUFDRCxFQUFFLEVBQXNCO1FBQ3RCLE1BQU0sRUFBRSxVQUFVO1FBQ2xCLElBQUksRUFBRSxTQUFTO1FBQ2YsT0FBTyxFQUFFLGlCQUFpQjtLQUMzQjtJQUNELEVBQUUsRUFBc0I7UUFDdEIsTUFBTSxFQUFFLFVBQVU7UUFDbEIsSUFBSSxFQUFFLFFBQVE7UUFDZCxPQUFPLEVBQUUsZUFBZTtLQUN6QjtJQUNELEVBQUUsRUFBc0I7UUFDdEIsTUFBTSxFQUFFLFVBQVU7UUFDbEIsSUFBSSxFQUFFLFdBQVc7UUFDakIsT0FBTyxFQUFFLG1CQUFtQjtLQUM3QjtDQUNGLENBQUM7QUFFRjs7Ozs7Ozs7O0dBU0c7QUFFSCxNQUFNLE9BQU8sdUJBQXVCO0lBQ21CLGFBQWEsQ0FBeUI7SUFFM0YsNkNBQTZDO0lBQ3RCLFVBQVUsQ0FBZ0I7SUFFakQsc0RBQXNEO0lBQzNCLGFBQWEsQ0FBVztJQUVuRDs7Ozs7Ozs7O09BU0c7SUFDaUIsTUFBTSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7SUFFaEQ7Ozs7Ozs7OztPQVNHO0lBQ2UsSUFBSSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7SUFFNUM7Ozs7Ozs7OztPQVNHO0lBQ21CLE9BQU8sR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO0lBRTNDLFNBQVMsQ0FBcUI7SUFDOUIsTUFBTSxDQUFTO0lBQ2YsUUFBUSxDQUFTO0lBRXpCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQW1DRztJQUNILElBQXlCLFFBQVEsQ0FBQyxLQUF5QjtRQUN6RCxJQUFJLEtBQUssWUFBWSxNQUFNLElBQUksQ0FBQyxDQUFDLEtBQUssWUFBWSxLQUFLLENBQUMsRUFBRTtZQUN4RCxJQUFJLENBQUMsU0FBUyxHQUFHO2dCQUNmLEdBQUcseUJBQXlCLENBQUMsZUFBZSxDQUFDO2dCQUM3QyxHQUFHLHlCQUF5QixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7Z0JBQzNDLEdBQUcsS0FBSzthQUNULENBQUM7U0FDSDthQUFNO1lBQ0wsSUFBSSxDQUFDLFNBQVMsR0FBRyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDM0Q7SUFDSCxDQUFDO0lBQ0QsSUFBSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsU0FBUyxJQUFJLHlCQUF5QixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBRUQsd0JBQXdCO0lBQ3hCLElBQXNCLEtBQUssQ0FBQyxLQUFhO1FBQ3ZDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDa0IsUUFBUSxDQUFTO0lBRXRDLFlBQVksZUFBa0M7UUFDNUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUNyRCxDQUFDO2lGQXpIVSx1QkFBdUI7NkRBQXZCLHVCQUF1QjsyQkFDdkIsc0JBQXNCOzs7Ozs7aUZBRHRCLHVCQUF1QjtjQURuQyxTQUFTO2tEQUU2QyxhQUFhO2tCQUFqRSxTQUFTO21CQUFDLHNCQUFzQixFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtZQUc1QixVQUFVO2tCQUFoQyxLQUFLO21CQUFDLGNBQWM7WUFHTSxhQUFhO2tCQUF2QyxLQUFLO21CQUFDLGtCQUFrQjtZQVlMLE1BQU07a0JBQXpCLE1BQU07bUJBQUMsVUFBVTtZQVlBLElBQUk7a0JBQXJCLE1BQU07bUJBQUMsUUFBUTtZQVlNLE9BQU87a0JBQTVCLE1BQU07bUJBQUMsWUFBWTtZQTBDSyxRQUFRO2tCQUFoQyxLQUFLO21CQUFDLFlBQVk7WUFnQkcsS0FBSztrQkFBMUIsS0FBSzttQkFBQyxTQUFTO1lBZ0JLLFFBQVE7a0JBQTVCLEtBQUs7bUJBQUMsWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgcG9Mb2NhbGVEZWZhdWx0IH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvcG8tbGFuZ3VhZ2UvcG8tbGFuZ3VhZ2UuY29uc3RhbnQnO1xuaW1wb3J0IHsgUG9MYW5ndWFnZVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcy9wby1sYW5ndWFnZS9wby1sYW5ndWFnZS5zZXJ2aWNlJztcblxuaW1wb3J0IHsgUG9CcmVhZGNydW1iIH0gZnJvbSAnLi4vLi4vcG8tYnJlYWRjcnVtYi9wby1icmVhZGNydW1iLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb1BhZ2VDb250ZW50Q29tcG9uZW50IH0gZnJvbSAnLi4vcG8tcGFnZS1jb250ZW50L3BvLXBhZ2UtY29udGVudC5jb21wb25lbnQnO1xuaW1wb3J0IHsgUG9QYWdlRWRpdExpdGVyYWxzIH0gZnJvbSAnLi9wby1wYWdlLWVkaXQtbGl0ZXJhbHMuaW50ZXJmYWNlJztcblxuZXhwb3J0IGNvbnN0IHBvUGFnZUVkaXRMaXRlcmFsc0RlZmF1bHQgPSB7XG4gIGVuOiA8UG9QYWdlRWRpdExpdGVyYWxzPntcbiAgICBjYW5jZWw6ICdDYW5jZWwnLFxuICAgIHNhdmU6ICdTYXZlJyxcbiAgICBzYXZlTmV3OiAnU2F2ZSBhbmQgTmV3J1xuICB9LFxuICBlczogPFBvUGFnZUVkaXRMaXRlcmFscz57XG4gICAgY2FuY2VsOiAnQ2FuY2VsYXInLFxuICAgIHNhdmU6ICdHdWFyZGFyJyxcbiAgICBzYXZlTmV3OiAnR3VhcmRhciB5IE51ZXZvJ1xuICB9LFxuICBwdDogPFBvUGFnZUVkaXRMaXRlcmFscz57XG4gICAgY2FuY2VsOiAnQ2FuY2VsYXInLFxuICAgIHNhdmU6ICdTYWx2YXInLFxuICAgIHNhdmVOZXc6ICdTYWx2YXIgZSBOb3ZvJ1xuICB9LFxuICBydTogPFBvUGFnZUVkaXRMaXRlcmFscz57XG4gICAgY2FuY2VsOiAn0L7RgtC80LXQvdC40YLRjCcsXG4gICAgc2F2ZTogJ9GN0LrQvtC90L7QvNC40YLRjCcsXG4gICAgc2F2ZU5ldzogJ9Ch0L7RhdGA0LDQvdC40YLRjCDQuCDQvdC+0LLRi9C5J1xuICB9XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE8gY29tcG9uZW50ZSAqKnBvLXBhZ2UtZWRpdCoqIMOpIHV0aWxpemFkbyBjb21vIGNvbnRhaW5lciBwcmluY2lwYWwgcGFyYSB0ZWxhIGRlIGVkacOnw6NvIG91IGFkacOnw6NvIGRlIHVtXG4gKiByZWdpc3RybywgdGVuZG8gYSBwb3NzaWJpbGlkYWRlIGRlIHVzYXIgYXMgYcOnw7VlcyBkZSBcIlNhbHZhclwiLCBcIlNhbHZhciBlIE5vdm9cIiBlIFwiQ2FuY2VsYXJcIi5cbiAqXG4gKiBPcyBib3TDtWVzIFwiU2FsdmFyXCIgZSBcIlNhbHZhciBlIE5vdm9cIiBwb2RlbSBzZXIgaGFiaWxpdGFkb3MvZGVzYWJpbGl0YWRvcyB1dGlsaXphbmRvIGEgcHJvcHJpZWRhZGUgYHAtZGlzYWJsZS1zdWJtaXRgLlxuICogRXN0YSBwcm9wcmllZGFkZSBwb2RlIHNlciB1dGlsaXphZGEgcGFyYSBkZXNhYmlsaXRhciBvcyBib3TDtWVzIGNhc28gZXhpc3RhIHVtIGZvcm11bMOhcmlvIGludsOhbGlkbyBuYSBww6FnaW5hIG91IGFsZ3VtYVxuICogcmVncmEgZGUgbmVnw7NjaW8gbsOjbyB0ZW5oYSBzaWRvIGF0ZW5kaWRhLlxuICovXG5ARGlyZWN0aXZlKClcbmV4cG9ydCBjbGFzcyBQb1BhZ2VFZGl0QmFzZUNvbXBvbmVudCB7XG4gIEBWaWV3Q2hpbGQoUG9QYWdlQ29udGVudENvbXBvbmVudCwgeyBzdGF0aWM6IHRydWUgfSkgcG9QYWdlQ29udGVudDogUG9QYWdlQ29udGVudENvbXBvbmVudDtcblxuICAvKiogT2JqZXRvIGNvbSBwcm9wcmllZGFkZXMgZG8gYnJlYWRjcnVtYi4gKi9cbiAgQElucHV0KCdwLWJyZWFkY3J1bWInKSBicmVhZGNydW1iPzogUG9CcmVhZGNydW1iO1xuXG4gIC8qKiBEZXNhYmlsaXRhIGJvdMO1ZXMgZGUgc3VibWlzc8OjbyAoc2F2ZSBlIHNhdmVOZXcpICovXG4gIEBJbnB1dCgncC1kaXNhYmxlLXN1Ym1pdCcpIGRpc2FibGVTdWJtaXQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBFdmVudG8gcXVlIHNlcsOhIGRpc3BhcmFkbyBhbyBjbGljYXIgbm8gYm90w6NvIGRlIFwiQ2FuY2VsYXJcIi5cbiAgICpcbiAgICogYGBgXG4gICAqIDxwby1wYWdlLWVkaXQgKHAtY2FuY2VsKT1cIm15Q2FuY2VsRnVuY3Rpb24oKVwiPlxuICAgKiA8L3BvLXBhZ2UtZWRpdD5cbiAgICogYGBgXG4gICAqXG4gICAqID4gQ2FzbyBuw6NvIHV0aWxpemFyIGVzdGEgcHJvcHJpZWRhZGUsIG8gYm90w6NvIGRlIFwiQ2FuY2VsYXJcIiBuw6NvIHNlcsOhIGV4aWJpZG8uXG4gICAqL1xuICBAT3V0cHV0KCdwLWNhbmNlbCcpIGNhbmNlbCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogRXZlbnRvIHF1ZSBzZXLDoSBkaXNwYXJhZG8gYW8gY2xpY2FyIG5vIGJvdMOjbyBkZSBcIlNhbHZhclwiLlxuICAgKlxuICAgKiBgYGBcbiAgICogPHBvLXBhZ2UtZWRpdCAocC1zYXZlKT1cIm15U2F2ZUZ1bmN0aW9uKClcIj5cbiAgICogPC9wby1wYWdlLWVkaXQ+XG4gICAqIGBgYFxuICAgKlxuICAgKiA+IENhc28gbsOjbyB1dGlsaXphciBlc3RhIHByb3ByaWVkYWRlLCBvIGJvdMOjbyBkZSBcIlNhbHZhclwiIG7Do28gc2Vyw6EgZXhpYmlkby5cbiAgICovXG4gIEBPdXRwdXQoJ3Atc2F2ZScpIHNhdmUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEV2ZW50byBxdWUgc2Vyw6EgZGlzcGFyYWRvIGFvIGNsaWNhciBubyBib3TDo28gZGUgXCJTYWx2YXIgZSBOb3ZvXCIuXG4gICAqXG4gICAqIGBgYFxuICAgKiA8cG8tcGFnZS1lZGl0IChwLXNhdmUtbmV3KT1cIm15U2F2ZU5ld0Z1bmN0aW9uKClcIj5cbiAgICogPC9wby1wYWdlLWVkaXQ+XG4gICAqIGBgYFxuICAgKlxuICAgKiA+IENhc28gbsOjbyB1dGlsaXphciBlc3RhIHByb3ByaWVkYWRlLCBvIGJvdMOjbyBkZSBcIlNhbHZhciBlIE5vdm9cIiBuw6NvIHNlcsOhIGV4aWJpZG8uXG4gICAqL1xuICBAT3V0cHV0KCdwLXNhdmUtbmV3Jykgc2F2ZU5ldyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBwcml2YXRlIF9saXRlcmFsczogUG9QYWdlRWRpdExpdGVyYWxzO1xuICBwcml2YXRlIF90aXRsZTogc3RyaW5nO1xuICBwcml2YXRlIGxhbmd1YWdlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogT2JqZXRvIGNvbSBhcyBsaXRlcmFpcyB1c2FkYXMgbm8gYHBvLXBhZ2UtZWRpdGAuXG4gICAqXG4gICAqIEV4aXN0ZW0gZHVhcyBtYW5laXJhcyBkZSBjdXN0b21pemFyIG8gY29tcG9uZW50ZSwgcGFzc2FuZG8gdW0gb2JqZXRvIGNvbSB0b2RhcyBhcyBsaXRlcmFpcyBkaXNwb27DrXZlaXM6XG4gICAqXG4gICAqIGBgYFxuICAgKiAgY29uc3QgY3VzdG9tTGl0ZXJhbHM6IFBvUGFnZUVkaXRMaXRlcmFscyA9IHtcbiAgICogICAgY2FuY2VsOiAnVm9sdGFyJyxcbiAgICogICAgc2F2ZTogJ0NvbmZpcm1hcicsXG4gICAqICAgIHNhdmVOZXc6ICdDb25maXJtYXIgZSBjcmlhciB1bSBub3ZvJ1xuICAgKiAgfTtcbiAgICogYGBgXG4gICAqXG4gICAqIE91IHBhc3NhbmRvIGFwZW5hcyBhcyBsaXRlcmFpcyBxdWUgZGVzZWphIGN1c3RvbWl6YXI6XG4gICAqXG4gICAqIGBgYFxuICAgKiAgY29uc3QgY3VzdG9tTGl0ZXJhbHM6IFBvUGFnZUVkaXRMaXRlcmFscyA9IHtcbiAgICogICAgY2FuY2VsOiAnQ2FuY2VsYXIgcHJvY2Vzc28nXG4gICAqICB9O1xuICAgKiBgYGBcbiAgICpcbiAgICogRSBwYXJhIGNhcnJlZ2FyIGFzIGxpdGVyYWlzIGN1c3RvbWl6YWRhcywgYmFzdGEgYXBlbmFzIHBhc3NhciBvIG9iamV0byBwYXJhIG8gY29tcG9uZW50ZS5cbiAgICpcbiAgICogYGBgXG4gICAqIDxwby1wYWdlLWVkaXRcbiAgICogICBbcC1saXRlcmFsc109XCJjdXN0b21MaXRlcmFsc1wiPlxuICAgKiA8L3BvLXBhZ2UtZWRpdD5cbiAgICogYGBgXG4gICAqXG4gICAqID4gTyBvYmpldG8gcGFkcsOjbyBkZSBsaXRlcmFpcyBzZXLDoSB0cmFkdXppZG8gZGUgYWNvcmRvIGNvbSBvIGlkaW9tYSBkb1xuICAgKiBbYFBvSTE4blNlcnZpY2VgXSgvZG9jdW1lbnRhdGlvbi9wby1pMThuKSBvdSBkbyBicm93c2VyLlxuICAgKi9cbiAgQElucHV0KCdwLWxpdGVyYWxzJykgc2V0IGxpdGVyYWxzKHZhbHVlOiBQb1BhZ2VFZGl0TGl0ZXJhbHMpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYmplY3QgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgdGhpcy5fbGl0ZXJhbHMgPSB7XG4gICAgICAgIC4uLnBvUGFnZUVkaXRMaXRlcmFsc0RlZmF1bHRbcG9Mb2NhbGVEZWZhdWx0XSxcbiAgICAgICAgLi4ucG9QYWdlRWRpdExpdGVyYWxzRGVmYXVsdFt0aGlzLmxhbmd1YWdlXSxcbiAgICAgICAgLi4udmFsdWVcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpdGVyYWxzID0gcG9QYWdlRWRpdExpdGVyYWxzRGVmYXVsdFt0aGlzLmxhbmd1YWdlXTtcbiAgICB9XG4gIH1cbiAgZ2V0IGxpdGVyYWxzKCkge1xuICAgIHJldHVybiB0aGlzLl9saXRlcmFscyB8fCBwb1BhZ2VFZGl0TGl0ZXJhbHNEZWZhdWx0W3RoaXMubGFuZ3VhZ2VdO1xuICB9XG5cbiAgLyoqIFTDrXR1bG8gZGEgcMOhZ2luYS4gKi9cbiAgQElucHV0KCdwLXRpdGxlJykgc2V0IHRpdGxlKHRpdGxlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5wb1BhZ2VDb250ZW50LnJlY2FsY3VsYXRlSGVhZGVyU2l6ZSgpKTtcbiAgfVxuXG4gIGdldCB0aXRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGl0bGU7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBTdWJ0aXR1bG8gZG8gSGVhZGVyIGRhIHDDoWdpbmFcbiAgICovXG4gIEBJbnB1dCgncC1zdWJ0aXRsZScpIHN1YnRpdGxlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IobGFuZ3VhZ2VTZXJ2aWNlOiBQb0xhbmd1YWdlU2VydmljZSkge1xuICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZVNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpO1xuICB9XG59XG4iXX0=