import { Directive, EventEmitter, Input, Output } from '@angular/core';
import { poLocaleDefault } from '../../services/po-language/po-language.constant';
import { convertToBoolean } from '../../utils/util';
import * as i0 from "@angular/core";
import * as i1 from "../../services/po-language/po-language.service";
export const poAccordionLiteralsDefault = {
    en: {
        closeAllItems: 'Close all items',
        expandAllItems: 'Open all items'
    },
    es: {
        closeAllItems: 'Cerrar todos los elementos',
        expandAllItems: 'Abrir todos los elementos'
    },
    pt: {
        closeAllItems: 'Fechar todos os itens',
        expandAllItems: 'Abrir todos os itens'
    },
    ru: {
        closeAllItems: 'Закрыть все элементы',
        expandAllItems: 'Открыть все элементы'
    }
};
/**
 * @description
 *
 * Componente utilizado para agrupar visualmente uma lista de conteúdos, mostrando-os individualmente
 * ao clicar no título de cada item.
 *
 * Para utilizá-lo, é necessário envolver cada item no componente [`po-accordion-item`](/documentation/po-accordion-item),
 * como no exemplo abaixo:
 *
 * ```
 * <po-accordion #accordion [p-show-manager-accordion]="true">
 *   <po-accordion-item p-label="PO Accordion 1">
 *      Accordion 1
 *   </po-accordion-item>
 *
 *   <po-accordion-item p-label="PO Accordion 2">
 *      Accordion 2
 *   </po-accordion-item>
 * </po-accordion>
 * ```
 *
 * e no typescript pode-se utilizar o `@ViewChild`:
 *
 * ```
 *  @ViewChild(PoAccordionComponent, { static: true }) accordion: PoAccordionComponent;
 *
 *  ngAfterContentInit() {
 *    // ou utilizar o método collapseAllItems();
 *    this.accordion.expandAllItems();
 *  }
 * ```
 *
 * O componente já faz o controle de abertura e fechamento dos itens automaticamente.
 *
 * Caso houver a necessidade de abrir algum dos `po-accordion-item` via Typescript
 * acesse a [documentação do PoAccordionItem](/documentation/po-accordion-item).
 *
 * #### Tokens customizáveis
 *
 * É possível alterar o estilo do componente usando os seguintes tokens (CSS):
 *
 * > Para maiores informações, acesse o guia [Personalizando o Tema Padrão com Tokens CSS](https://po-ui.io/guides/theme-customization).
 *
 * | Propriedade                            | Descrição                                             | Valor Padrão                                      |
 * |----------------------------------------|-------------------------------------------------------|---------------------------------------------------|
 * | **Default Values**                     |                                                       |                                                   |
 * | `--font-family`                        | Família tipográfica usada                             | `var(--font-family-theme)`                        |
 * | `--font-size`                          | Tamanho da fonte                                      | `var(--font-size-default)`                        |
 * | `--color`                              | Cor principal do accordion                            | `var(--color-action-default)`                     |
 * | `--background-color`                   | Cor de background                                     | `var(--color-neutral-light-00)`                   |
 * | `--font-weight`                        | Peso da fonte                                         | `var(--font-weight-bold)`                         |
 * | **Hover**                              |                                                       |                                                   |
 * | `--color-hover`                        | Cor principal no estado hover                         | `var(--color-action-hover)`                       |
 * | `--background-hover`                   | Cor de background no estado hover                     | `var(--color-brand-01-lightest)`                  |
 * | **Focused**                            |                                                       |                                                   |
 * | `--color-focused`                      | Cor principal no estado de focus                      | `var(--color-action-focus)`                       |
 * | `--outline-color-focused` &nbsp;       | Cor do outline do estado de focus                     | `var(--color-action-focus)`                       |
 * | **Disabled**                           |                                                       |                                                   |
 * | `--color-disabled`                     | Cor principal no estado disabled                      | `var(--color-neutral-mid-60)`                     |
 * | `--background-disabled` &nbsp;         | Cor de background no estado disabled                  | `var(--color-neutral-light-10)`                   |
 * | **po-accordion-manager**               |                                                       |                                                   |
 * | `--background-color`                   | Cor de background                                     | `var(--color-neutral-mid-60)`                     |
 * | `--color`                              | Cor principal do accordion manager                    | `var(--color-neutral-light-10)`                   |
 * | `--font-family`                        | Família tipográfica usada                             | `var(--color-neutral-light-10)`                   |
 * | `--font-size`                          | Tamanho da fonte                                      | `var(--color-neutral-light-10)`                   |
 * | `--font-weight`                        | Peso da fonte                                         | `var(--color-neutral-light-10)`                   |
 * | **Pressed**                            |                                                       |                                                   |
 * | `--background-pressed` &nbsp;          | Cor de background no estado de pressionado&nbsp;      | `var(--color-brand-01-lighter)`                   |
 * | `--color-pressed`                      | Cor principal no estado de pressionado                | `var(--color-action-pressed)`                     |
 *
 */
export class PoAccordionBaseComponent {
    language = poLocaleDefault;
    _literals;
    /**
     * @optional
     *
     * @description
     *
     * Objeto com as literais usadas no `po-accordion`.
     *
     * Existem duas maneiras de customizar o componente, passando um objeto com todas as literais disponíveis:
     *
     * ```
     *  const customLiterals: PoAccordionLiterals = {
     *    closeAllItems: 'Fechar todos os itens',
     *    expandAllItems: 'Expandir todos os itens'
     *  };
     * ```
     *
     * Ou passando apenas as literais que deseja customizar:
     *
     * ```
     *  const customLiterals: PoAccordionLiterals = {
     *    expandAllItems: 'Expandir todos os itens'
     *  };
     * ```
     *
     * E para carregar as literais customizadas, basta apenas passar o objeto para o componente.
     *
     * ```
     * <po-accordion
     *   [p-literals]="customLiterals">
     * </po-accordion>
     * ```
     *
     * > O objeto padrão de literais será traduzido de acordo com o idioma do
     * [`PoI18nService`](/documentation/po-i18n) ou do browser.
     */
    set literals(value) {
        if (value instanceof Object && !(value instanceof Array)) {
            this._literals = {
                ...poAccordionLiteralsDefault[poLocaleDefault],
                ...poAccordionLiteralsDefault[this.language],
                ...value
            };
        }
        else {
            this._literals = poAccordionLiteralsDefault[this.language];
        }
    }
    get literals() {
        return this._literals || poAccordionLiteralsDefault[this.language];
    }
    /**
     * @optional
     *
     * @description
     *
     * Exibe o Gerenciador de Accordion.
     *
     * @default `false`
     */
    showManagerAccordion = false;
    /**
     * @optional
     *
     * @description
     *
     * Permite expandir mais de um `<po-accordion-item></po-accordion-item>` ao mesmo tempo.
     * Sempre habilitada caso a propriedade `p-show-manager-accordion` esteja como `true`.
     *
     * @default `false`
     */
    allowExpandItems = false;
    /**
     * @optional
     *
     * @description
     *
     * Evento disparado ao expandir o gerenciador de accordion, seja manualmente ou programaticamente.
     *
     */
    expandAllEvent = new EventEmitter();
    /**
     * @optional
     *
     * @description
     *
     * Evento disparado ao retrair o gerenciador de accordion, seja manualmente ou programaticamente.
     *
     */
    collapseAllEvent = new EventEmitter();
    constructor(languageService) {
        this.language = languageService.getShortLanguage();
    }
    static ɵfac = function PoAccordionBaseComponent_Factory(t) { return new (t || PoAccordionBaseComponent)(i0.ɵɵdirectiveInject(i1.PoLanguageService)); };
    static ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: PoAccordionBaseComponent, inputs: { literals: [i0.ɵɵInputFlags.None, "p-literals", "literals"], showManagerAccordion: [i0.ɵɵInputFlags.HasDecoratorInputTransform, "p-show-manager-accordion", "showManagerAccordion", convertToBoolean], allowExpandItems: [i0.ɵɵInputFlags.HasDecoratorInputTransform, "p-allow-expand-all-items", "allowExpandItems", convertToBoolean] }, outputs: { expandAllEvent: "p-expand-all", collapseAllEvent: "p-collapse-all" }, features: [i0.ɵɵInputTransformsFeature] });
}
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoAccordionBaseComponent, [{
        type: Directive
    }], () => [{ type: i1.PoLanguageService }], { literals: [{
            type: Input,
            args: ['p-literals']
        }], showManagerAccordion: [{
            type: Input,
            args: [{ alias: 'p-show-manager-accordion', transform: convertToBoolean }]
        }], allowExpandItems: [{
            type: Input,
            args: [{ alias: 'p-allow-expand-all-items', transform: convertToBoolean }]
        }], expandAllEvent: [{
            type: Output,
            args: ['p-expand-all']
        }], collapseAllEvent: [{
            type: Output,
            args: ['p-collapse-all']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tYWNjb3JkaW9uLWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvLWFjY29yZGlvbi9wby1hY2NvcmRpb24tYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN2RSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saURBQWlELENBQUM7QUFFbEYsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7OztBQUdwRCxNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRztJQUN4QyxFQUFFLEVBQXVCO1FBQ3ZCLGFBQWEsRUFBRSxpQkFBaUI7UUFDaEMsY0FBYyxFQUFFLGdCQUFnQjtLQUNqQztJQUNELEVBQUUsRUFBdUI7UUFDdkIsYUFBYSxFQUFFLDRCQUE0QjtRQUMzQyxjQUFjLEVBQUUsMkJBQTJCO0tBQzVDO0lBQ0QsRUFBRSxFQUF1QjtRQUN2QixhQUFhLEVBQUUsdUJBQXVCO1FBQ3RDLGNBQWMsRUFBRSxzQkFBc0I7S0FDdkM7SUFDRCxFQUFFLEVBQXVCO1FBQ3ZCLGFBQWEsRUFBRSxzQkFBc0I7UUFDckMsY0FBYyxFQUFFLHNCQUFzQjtLQUN2QztDQUNGLENBQUM7QUFFRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXNFRztBQUVILE1BQU0sT0FBTyx3QkFBd0I7SUFDM0IsUUFBUSxHQUFXLGVBQWUsQ0FBQztJQUNuQyxTQUFTLENBQUM7SUFFbEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FrQ0c7SUFDSCxJQUF5QixRQUFRLENBQUMsS0FBMEI7UUFDMUQsSUFBSSxLQUFLLFlBQVksTUFBTSxJQUFJLENBQUMsQ0FBQyxLQUFLLFlBQVksS0FBSyxDQUFDLEVBQUU7WUFDeEQsSUFBSSxDQUFDLFNBQVMsR0FBRztnQkFDZixHQUFHLDBCQUEwQixDQUFDLGVBQWUsQ0FBQztnQkFDOUMsR0FBRywwQkFBMEIsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO2dCQUM1QyxHQUFHLEtBQUs7YUFDVCxDQUFDO1NBQ0g7YUFBTTtZQUNMLElBQUksQ0FBQyxTQUFTLEdBQUcsMEJBQTBCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzVEO0lBQ0gsQ0FBQztJQUVELElBQUksUUFBUTtRQUNWLE9BQU8sSUFBSSxDQUFDLFNBQVMsSUFBSSwwQkFBMEIsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVEOzs7Ozs7OztPQVFHO0lBQ3dFLG9CQUFvQixHQUFZLEtBQUssQ0FBQztJQUVqSDs7Ozs7Ozs7O09BU0c7SUFDd0UsZ0JBQWdCLEdBQVksS0FBSyxDQUFDO0lBRTdHOzs7Ozs7O09BT0c7SUFDcUIsY0FBYyxHQUFHLElBQUksWUFBWSxFQUFRLENBQUM7SUFFbEU7Ozs7Ozs7T0FPRztJQUN1QixnQkFBZ0IsR0FBRyxJQUFJLFlBQVksRUFBUSxDQUFDO0lBRXRFLFlBQVksZUFBa0M7UUFDNUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUNyRCxDQUFDO2tGQXBHVSx3QkFBd0I7NkRBQXhCLHdCQUF3QiwrTEFnRW9CLGdCQUFnQixrSEFZaEIsZ0JBQWdCOztpRkE1RTVELHdCQUF3QjtjQURwQyxTQUFTO2tEQXdDaUIsUUFBUTtrQkFBaEMsS0FBSzttQkFBQyxZQUFZO1lBeUJ3RCxvQkFBb0I7a0JBQTlGLEtBQUs7bUJBQUMsRUFBRSxLQUFLLEVBQUUsMEJBQTBCLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFO1lBWUUsZ0JBQWdCO2tCQUExRixLQUFLO21CQUFDLEVBQUUsS0FBSyxFQUFFLDBCQUEwQixFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTtZQVVqRCxjQUFjO2tCQUFyQyxNQUFNO21CQUFDLGNBQWM7WUFVSSxnQkFBZ0I7a0JBQXpDLE1BQU07bUJBQUMsZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyZWN0aXZlLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IHBvTG9jYWxlRGVmYXVsdCB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3BvLWxhbmd1YWdlL3BvLWxhbmd1YWdlLmNvbnN0YW50JztcbmltcG9ydCB7IFBvTGFuZ3VhZ2VTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvcG8tbGFuZ3VhZ2UvcG8tbGFuZ3VhZ2Uuc2VydmljZSc7XG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbCc7XG5pbXBvcnQgeyBQb0FjY29yZGlvbkxpdGVyYWxzIH0gZnJvbSAnLi9pbnRlcmZhY2VzL3BvLWFjY29yZGlvbi1saXRlcmFscy5pbnRlcmZhY2UnO1xuXG5leHBvcnQgY29uc3QgcG9BY2NvcmRpb25MaXRlcmFsc0RlZmF1bHQgPSB7XG4gIGVuOiA8UG9BY2NvcmRpb25MaXRlcmFscz57XG4gICAgY2xvc2VBbGxJdGVtczogJ0Nsb3NlIGFsbCBpdGVtcycsXG4gICAgZXhwYW5kQWxsSXRlbXM6ICdPcGVuIGFsbCBpdGVtcydcbiAgfSxcbiAgZXM6IDxQb0FjY29yZGlvbkxpdGVyYWxzPntcbiAgICBjbG9zZUFsbEl0ZW1zOiAnQ2VycmFyIHRvZG9zIGxvcyBlbGVtZW50b3MnLFxuICAgIGV4cGFuZEFsbEl0ZW1zOiAnQWJyaXIgdG9kb3MgbG9zIGVsZW1lbnRvcydcbiAgfSxcbiAgcHQ6IDxQb0FjY29yZGlvbkxpdGVyYWxzPntcbiAgICBjbG9zZUFsbEl0ZW1zOiAnRmVjaGFyIHRvZG9zIG9zIGl0ZW5zJyxcbiAgICBleHBhbmRBbGxJdGVtczogJ0FicmlyIHRvZG9zIG9zIGl0ZW5zJ1xuICB9LFxuICBydTogPFBvQWNjb3JkaW9uTGl0ZXJhbHM+e1xuICAgIGNsb3NlQWxsSXRlbXM6ICfQl9Cw0LrRgNGL0YLRjCDQstGB0LUg0Y3Qu9C10LzQtdC90YLRiycsXG4gICAgZXhwYW5kQWxsSXRlbXM6ICfQntGC0LrRgNGL0YLRjCDQstGB0LUg0Y3Qu9C10LzQtdC90YLRiydcbiAgfVxufTtcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb21wb25lbnRlIHV0aWxpemFkbyBwYXJhIGFncnVwYXIgdmlzdWFsbWVudGUgdW1hIGxpc3RhIGRlIGNvbnRlw7pkb3MsIG1vc3RyYW5kby1vcyBpbmRpdmlkdWFsbWVudGVcbiAqIGFvIGNsaWNhciBubyB0w610dWxvIGRlIGNhZGEgaXRlbS5cbiAqXG4gKiBQYXJhIHV0aWxpesOhLWxvLCDDqSBuZWNlc3PDoXJpbyBlbnZvbHZlciBjYWRhIGl0ZW0gbm8gY29tcG9uZW50ZSBbYHBvLWFjY29yZGlvbi1pdGVtYF0oL2RvY3VtZW50YXRpb24vcG8tYWNjb3JkaW9uLWl0ZW0pLFxuICogY29tbyBubyBleGVtcGxvIGFiYWl4bzpcbiAqXG4gKiBgYGBcbiAqIDxwby1hY2NvcmRpb24gI2FjY29yZGlvbiBbcC1zaG93LW1hbmFnZXItYWNjb3JkaW9uXT1cInRydWVcIj5cbiAqICAgPHBvLWFjY29yZGlvbi1pdGVtIHAtbGFiZWw9XCJQTyBBY2NvcmRpb24gMVwiPlxuICogICAgICBBY2NvcmRpb24gMVxuICogICA8L3BvLWFjY29yZGlvbi1pdGVtPlxuICpcbiAqICAgPHBvLWFjY29yZGlvbi1pdGVtIHAtbGFiZWw9XCJQTyBBY2NvcmRpb24gMlwiPlxuICogICAgICBBY2NvcmRpb24gMlxuICogICA8L3BvLWFjY29yZGlvbi1pdGVtPlxuICogPC9wby1hY2NvcmRpb24+XG4gKiBgYGBcbiAqXG4gKiBlIG5vIHR5cGVzY3JpcHQgcG9kZS1zZSB1dGlsaXphciBvIGBAVmlld0NoaWxkYDpcbiAqXG4gKiBgYGBcbiAqICBAVmlld0NoaWxkKFBvQWNjb3JkaW9uQ29tcG9uZW50LCB7IHN0YXRpYzogdHJ1ZSB9KSBhY2NvcmRpb246IFBvQWNjb3JkaW9uQ29tcG9uZW50O1xuICpcbiAqICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gKiAgICAvLyBvdSB1dGlsaXphciBvIG3DqXRvZG8gY29sbGFwc2VBbGxJdGVtcygpO1xuICogICAgdGhpcy5hY2NvcmRpb24uZXhwYW5kQWxsSXRlbXMoKTtcbiAqICB9XG4gKiBgYGBcbiAqXG4gKiBPIGNvbXBvbmVudGUgasOhIGZheiBvIGNvbnRyb2xlIGRlIGFiZXJ0dXJhIGUgZmVjaGFtZW50byBkb3MgaXRlbnMgYXV0b21hdGljYW1lbnRlLlxuICpcbiAqIENhc28gaG91dmVyIGEgbmVjZXNzaWRhZGUgZGUgYWJyaXIgYWxndW0gZG9zIGBwby1hY2NvcmRpb24taXRlbWAgdmlhIFR5cGVzY3JpcHRcbiAqIGFjZXNzZSBhIFtkb2N1bWVudGHDp8OjbyBkbyBQb0FjY29yZGlvbkl0ZW1dKC9kb2N1bWVudGF0aW9uL3BvLWFjY29yZGlvbi1pdGVtKS5cbiAqXG4gKiAjIyMjIFRva2VucyBjdXN0b21pesOhdmVpc1xuICpcbiAqIMOJIHBvc3PDrXZlbCBhbHRlcmFyIG8gZXN0aWxvIGRvIGNvbXBvbmVudGUgdXNhbmRvIG9zIHNlZ3VpbnRlcyB0b2tlbnMgKENTUyk6XG4gKlxuICogPiBQYXJhIG1haW9yZXMgaW5mb3JtYcOnw7VlcywgYWNlc3NlIG8gZ3VpYSBbUGVyc29uYWxpemFuZG8gbyBUZW1hIFBhZHLDo28gY29tIFRva2VucyBDU1NdKGh0dHBzOi8vcG8tdWkuaW8vZ3VpZGVzL3RoZW1lLWN1c3RvbWl6YXRpb24pLlxuICpcbiAqIHwgUHJvcHJpZWRhZGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBEZXNjcmnDp8OjbyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgVmFsb3IgUGFkcsOjbyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8ICoqRGVmYXVsdCBWYWx1ZXMqKiAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYC0tZm9udC1mYW1pbHlgICAgICAgICAgICAgICAgICAgICAgICAgfCBGYW3DrWxpYSB0aXBvZ3LDoWZpY2EgdXNhZGEgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYHZhcigtLWZvbnQtZmFtaWx5LXRoZW1lKWAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAtLWZvbnQtc2l6ZWAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgVGFtYW5obyBkYSBmb250ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgdmFyKC0tZm9udC1zaXplLWRlZmF1bHQpYCAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYC0tY29sb3JgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBDb3IgcHJpbmNpcGFsIGRvIGFjY29yZGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGB2YXIoLS1jb2xvci1hY3Rpb24tZGVmYXVsdClgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgLS1iYWNrZ3JvdW5kLWNvbG9yYCAgICAgICAgICAgICAgICAgICB8IENvciBkZSBiYWNrZ3JvdW5kICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYHZhcigtLWNvbG9yLW5ldXRyYWwtbGlnaHQtMDApYCAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAtLWZvbnQtd2VpZ2h0YCAgICAgICAgICAgICAgICAgICAgICAgIHwgUGVzbyBkYSBmb250ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgdmFyKC0tZm9udC13ZWlnaHQtYm9sZClgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgKipIb3ZlcioqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgLS1jb2xvci1ob3ZlcmAgICAgICAgICAgICAgICAgICAgICAgICB8IENvciBwcmluY2lwYWwgbm8gZXN0YWRvIGhvdmVyICAgICAgICAgICAgICAgICAgICAgICAgIHwgYHZhcigtLWNvbG9yLWFjdGlvbi1ob3ZlcilgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAtLWJhY2tncm91bmQtaG92ZXJgICAgICAgICAgICAgICAgICAgIHwgQ29yIGRlIGJhY2tncm91bmQgbm8gZXN0YWRvIGhvdmVyICAgICAgICAgICAgICAgICAgICAgfCBgdmFyKC0tY29sb3ItYnJhbmQtMDEtbGlnaHRlc3QpYCAgICAgICAgICAgICAgICAgIHxcbiAqIHwgKipGb2N1c2VkKiogICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgLS1jb2xvci1mb2N1c2VkYCAgICAgICAgICAgICAgICAgICAgICB8IENvciBwcmluY2lwYWwgbm8gZXN0YWRvIGRlIGZvY3VzICAgICAgICAgICAgICAgICAgICAgIHwgYHZhcigtLWNvbG9yLWFjdGlvbi1mb2N1cylgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAtLW91dGxpbmUtY29sb3ItZm9jdXNlZGAgJm5ic3A7ICAgICAgIHwgQ29yIGRvIG91dGxpbmUgZG8gZXN0YWRvIGRlIGZvY3VzICAgICAgICAgICAgICAgICAgICAgfCBgdmFyKC0tY29sb3ItYWN0aW9uLWZvY3VzKWAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgKipEaXNhYmxlZCoqICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgLS1jb2xvci1kaXNhYmxlZGAgICAgICAgICAgICAgICAgICAgICB8IENvciBwcmluY2lwYWwgbm8gZXN0YWRvIGRpc2FibGVkICAgICAgICAgICAgICAgICAgICAgIHwgYHZhcigtLWNvbG9yLW5ldXRyYWwtbWlkLTYwKWAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAtLWJhY2tncm91bmQtZGlzYWJsZWRgICZuYnNwOyAgICAgICAgIHwgQ29yIGRlIGJhY2tncm91bmQgbm8gZXN0YWRvIGRpc2FibGVkICAgICAgICAgICAgICAgICAgfCBgdmFyKC0tY29sb3ItbmV1dHJhbC1saWdodC0xMClgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgKipwby1hY2NvcmRpb24tbWFuYWdlcioqICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgLS1iYWNrZ3JvdW5kLWNvbG9yYCAgICAgICAgICAgICAgICAgICB8IENvciBkZSBiYWNrZ3JvdW5kICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYHZhcigtLWNvbG9yLW5ldXRyYWwtbWlkLTYwKWAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAtLWNvbG9yYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgQ29yIHByaW5jaXBhbCBkbyBhY2NvcmRpb24gbWFuYWdlciAgICAgICAgICAgICAgICAgICAgfCBgdmFyKC0tY29sb3ItbmV1dHJhbC1saWdodC0xMClgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYC0tZm9udC1mYW1pbHlgICAgICAgICAgICAgICAgICAgICAgICAgfCBGYW3DrWxpYSB0aXBvZ3LDoWZpY2EgdXNhZGEgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYHZhcigtLWNvbG9yLW5ldXRyYWwtbGlnaHQtMTApYCAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAtLWZvbnQtc2l6ZWAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgVGFtYW5obyBkYSBmb250ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBgdmFyKC0tY29sb3ItbmV1dHJhbC1saWdodC0xMClgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYC0tZm9udC13ZWlnaHRgICAgICAgICAgICAgICAgICAgICAgICAgfCBQZXNvIGRhIGZvbnRlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGB2YXIoLS1jb2xvci1uZXV0cmFsLWxpZ2h0LTEwKWAgICAgICAgICAgICAgICAgICAgfFxuICogfCAqKlByZXNzZWQqKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAtLWJhY2tncm91bmQtcHJlc3NlZGAgJm5ic3A7ICAgICAgICAgIHwgQ29yIGRlIGJhY2tncm91bmQgbm8gZXN0YWRvIGRlIHByZXNzaW9uYWRvJm5ic3A7ICAgICAgfCBgdmFyKC0tY29sb3ItYnJhbmQtMDEtbGlnaHRlcilgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYC0tY29sb3ItcHJlc3NlZGAgICAgICAgICAgICAgICAgICAgICAgfCBDb3IgcHJpbmNpcGFsIG5vIGVzdGFkbyBkZSBwcmVzc2lvbmFkbyAgICAgICAgICAgICAgICB8IGB2YXIoLS1jb2xvci1hY3Rpb24tcHJlc3NlZClgICAgICAgICAgICAgICAgICAgICAgfFxuICpcbiAqL1xuQERpcmVjdGl2ZSgpXG5leHBvcnQgY2xhc3MgUG9BY2NvcmRpb25CYXNlQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBsYW5ndWFnZTogc3RyaW5nID0gcG9Mb2NhbGVEZWZhdWx0O1xuICBwcml2YXRlIF9saXRlcmFscztcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBPYmpldG8gY29tIGFzIGxpdGVyYWlzIHVzYWRhcyBubyBgcG8tYWNjb3JkaW9uYC5cbiAgICpcbiAgICogRXhpc3RlbSBkdWFzIG1hbmVpcmFzIGRlIGN1c3RvbWl6YXIgbyBjb21wb25lbnRlLCBwYXNzYW5kbyB1bSBvYmpldG8gY29tIHRvZGFzIGFzIGxpdGVyYWlzIGRpc3BvbsOtdmVpczpcbiAgICpcbiAgICogYGBgXG4gICAqICBjb25zdCBjdXN0b21MaXRlcmFsczogUG9BY2NvcmRpb25MaXRlcmFscyA9IHtcbiAgICogICAgY2xvc2VBbGxJdGVtczogJ0ZlY2hhciB0b2RvcyBvcyBpdGVucycsXG4gICAqICAgIGV4cGFuZEFsbEl0ZW1zOiAnRXhwYW5kaXIgdG9kb3Mgb3MgaXRlbnMnXG4gICAqICB9O1xuICAgKiBgYGBcbiAgICpcbiAgICogT3UgcGFzc2FuZG8gYXBlbmFzIGFzIGxpdGVyYWlzIHF1ZSBkZXNlamEgY3VzdG9taXphcjpcbiAgICpcbiAgICogYGBgXG4gICAqICBjb25zdCBjdXN0b21MaXRlcmFsczogUG9BY2NvcmRpb25MaXRlcmFscyA9IHtcbiAgICogICAgZXhwYW5kQWxsSXRlbXM6ICdFeHBhbmRpciB0b2RvcyBvcyBpdGVucydcbiAgICogIH07XG4gICAqIGBgYFxuICAgKlxuICAgKiBFIHBhcmEgY2FycmVnYXIgYXMgbGl0ZXJhaXMgY3VzdG9taXphZGFzLCBiYXN0YSBhcGVuYXMgcGFzc2FyIG8gb2JqZXRvIHBhcmEgbyBjb21wb25lbnRlLlxuICAgKlxuICAgKiBgYGBcbiAgICogPHBvLWFjY29yZGlvblxuICAgKiAgIFtwLWxpdGVyYWxzXT1cImN1c3RvbUxpdGVyYWxzXCI+XG4gICAqIDwvcG8tYWNjb3JkaW9uPlxuICAgKiBgYGBcbiAgICpcbiAgICogPiBPIG9iamV0byBwYWRyw6NvIGRlIGxpdGVyYWlzIHNlcsOhIHRyYWR1emlkbyBkZSBhY29yZG8gY29tIG8gaWRpb21hIGRvXG4gICAqIFtgUG9JMThuU2VydmljZWBdKC9kb2N1bWVudGF0aW9uL3BvLWkxOG4pIG91IGRvIGJyb3dzZXIuXG4gICAqL1xuICBASW5wdXQoJ3AtbGl0ZXJhbHMnKSBzZXQgbGl0ZXJhbHModmFsdWU6IFBvQWNjb3JkaW9uTGl0ZXJhbHMpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYmplY3QgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgdGhpcy5fbGl0ZXJhbHMgPSB7XG4gICAgICAgIC4uLnBvQWNjb3JkaW9uTGl0ZXJhbHNEZWZhdWx0W3BvTG9jYWxlRGVmYXVsdF0sXG4gICAgICAgIC4uLnBvQWNjb3JkaW9uTGl0ZXJhbHNEZWZhdWx0W3RoaXMubGFuZ3VhZ2VdLFxuICAgICAgICAuLi52YWx1ZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGl0ZXJhbHMgPSBwb0FjY29yZGlvbkxpdGVyYWxzRGVmYXVsdFt0aGlzLmxhbmd1YWdlXTtcbiAgICB9XG4gIH1cblxuICBnZXQgbGl0ZXJhbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpdGVyYWxzIHx8IHBvQWNjb3JkaW9uTGl0ZXJhbHNEZWZhdWx0W3RoaXMubGFuZ3VhZ2VdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRXhpYmUgbyBHZXJlbmNpYWRvciBkZSBBY2NvcmRpb24uXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcbiAgICovXG4gIEBJbnB1dCh7IGFsaWFzOiAncC1zaG93LW1hbmFnZXItYWNjb3JkaW9uJywgdHJhbnNmb3JtOiBjb252ZXJ0VG9Cb29sZWFuIH0pIHNob3dNYW5hZ2VyQWNjb3JkaW9uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogUGVybWl0ZSBleHBhbmRpciBtYWlzIGRlIHVtIGA8cG8tYWNjb3JkaW9uLWl0ZW0+PC9wby1hY2NvcmRpb24taXRlbT5gIGFvIG1lc21vIHRlbXBvLlxuICAgKiBTZW1wcmUgaGFiaWxpdGFkYSBjYXNvIGEgcHJvcHJpZWRhZGUgYHAtc2hvdy1tYW5hZ2VyLWFjY29yZGlvbmAgZXN0ZWphIGNvbW8gYHRydWVgLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoeyBhbGlhczogJ3AtYWxsb3ctZXhwYW5kLWFsbC1pdGVtcycsIHRyYW5zZm9ybTogY29udmVydFRvQm9vbGVhbiB9KSBhbGxvd0V4cGFuZEl0ZW1zOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRXZlbnRvIGRpc3BhcmFkbyBhbyBleHBhbmRpciBvIGdlcmVuY2lhZG9yIGRlIGFjY29yZGlvbiwgc2VqYSBtYW51YWxtZW50ZSBvdSBwcm9ncmFtYXRpY2FtZW50ZS5cbiAgICpcbiAgICovXG4gIEBPdXRwdXQoJ3AtZXhwYW5kLWFsbCcpIGV4cGFuZEFsbEV2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEV2ZW50byBkaXNwYXJhZG8gYW8gcmV0cmFpciBvIGdlcmVuY2lhZG9yIGRlIGFjY29yZGlvbiwgc2VqYSBtYW51YWxtZW50ZSBvdSBwcm9ncmFtYXRpY2FtZW50ZS5cbiAgICpcbiAgICovXG4gIEBPdXRwdXQoJ3AtY29sbGFwc2UtYWxsJykgY29sbGFwc2VBbGxFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcblxuICBjb25zdHJ1Y3RvcihsYW5ndWFnZVNlcnZpY2U6IFBvTGFuZ3VhZ2VTZXJ2aWNlKSB7XG4gICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCk7XG4gIH1cbn1cbiJdfQ==