import { Component, Input, ViewChild } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../../../directives/po-tooltip/po-tooltip.directive";
const _c0 = ["descriptionText"];
function PoGaugeDescriptionComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainer(0);
} }
function PoGaugeDescriptionComponent_ng_template_2_p_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "p", 5, 6);
    i0.ɵɵlistener("mouseenter", function PoGaugeDescriptionComponent_ng_template_2_p_0_Template_p_mouseenter_0_listener() { i0.ɵɵrestoreView(_r8); const ctx_r7 = i0.ɵɵnextContext(2); return i0.ɵɵresetView(ctx_r7.verifyIfHasEllipsis()); });
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("p-tooltip", ctx_r5.tooltip);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate1(" ", ctx_r5.description, " ");
} }
function PoGaugeDescriptionComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵtemplate(0, PoGaugeDescriptionComponent_ng_template_2_p_0_Template, 3, 2, "p", 4);
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext();
    i0.ɵɵproperty("ngIf", ctx_r1.description);
} }
function PoGaugeDescriptionComponent_ng_template_4_p_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "p", 10);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r9 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance();
    i0.ɵɵtextInterpolate1("", ctx_r9.value, "%");
} }
function PoGaugeDescriptionComponent_ng_template_4_p_2_Template(rf, ctx) { if (rf & 1) {
    const _r13 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "p", 11, 6);
    i0.ɵɵlistener("mouseenter", function PoGaugeDescriptionComponent_ng_template_4_p_2_Template_p_mouseenter_0_listener() { i0.ɵɵrestoreView(_r13); const ctx_r12 = i0.ɵɵnextContext(2); return i0.ɵɵresetView(ctx_r12.verifyIfHasEllipsis()); });
    i0.ɵɵtext(2);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r10 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("p-tooltip", ctx_r10.tooltip);
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate1(" ", ctx_r10.description, " ");
} }
function PoGaugeDescriptionComponent_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 7);
    i0.ɵɵtemplate(1, PoGaugeDescriptionComponent_ng_template_4_p_1_Template, 2, 1, "p", 8)(2, PoGaugeDescriptionComponent_ng_template_4_p_2_Template, 3, 2, "p", 9);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext();
    i0.ɵɵstyleProp("width", ctx_r3.descriptionWidth, "px");
    i0.ɵɵadvance();
    i0.ɵɵproperty("ngIf", ctx_r3.isValidValue);
    i0.ɵɵadvance();
    i0.ɵɵproperty("ngIf", ctx_r3.description);
} }
export class PoGaugeDescriptionComponent {
    description;
    hasRanges;
    descriptionWidth;
    value;
    descriptionText;
    tooltip;
    get isValidValue() {
        return this.value || this.value === 0;
    }
    verifyIfHasEllipsis() {
        const { offsetWidth, scrollWidth } = this.descriptionText.nativeElement;
        // O tooltip só exibe se adicionado dentro de setTimeout.
        setTimeout(() => {
            this.tooltip = offsetWidth < scrollWidth ? this.description : undefined;
        });
    }
    static ɵfac = function PoGaugeDescriptionComponent_Factory(t) { return new (t || PoGaugeDescriptionComponent)(); };
    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoGaugeDescriptionComponent, selectors: [["po-gauge-description"]], viewQuery: function PoGaugeDescriptionComponent_Query(rf, ctx) { if (rf & 1) {
            i0.ɵɵviewQuery(_c0, 5);
        } if (rf & 2) {
            let _t;
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.descriptionText = _t.first);
        } }, inputs: { description: [i0.ɵɵInputFlags.None, "p-description", "description"], hasRanges: [i0.ɵɵInputFlags.None, "p-has-ranges", "hasRanges"], descriptionWidth: [i0.ɵɵInputFlags.None, "p-description-width", "descriptionWidth"], value: [i0.ɵɵInputFlags.None, "p-value", "value"] }, decls: 6, vars: 1, consts: [[1, "po-gauge-description"], [4, "ngTemplateOutlet"], ["rangesDescription", ""], ["percentageDescription", ""], ["class", "po-gauge-description-text po-gauge-description-upper-text", 3, "p-tooltip", "mouseenter", 4, "ngIf"], [1, "po-gauge-description-text", "po-gauge-description-upper-text", 3, "p-tooltip", "mouseenter"], ["descriptionText", ""], ["tabindex", "0", 1, "po-gauge-description-bottom"], ["class", "po-gauge-description-bottom-value", 4, "ngIf"], ["class", "po-gauge-description-text po-gauge-description-bottom-text", 3, "p-tooltip", "mouseenter", 4, "ngIf"], [1, "po-gauge-description-bottom-value"], [1, "po-gauge-description-text", "po-gauge-description-bottom-text", 3, "p-tooltip", "mouseenter"]], template: function PoGaugeDescriptionComponent_Template(rf, ctx) { if (rf & 1) {
            i0.ɵɵelementStart(0, "div", 0);
            i0.ɵɵtemplate(1, PoGaugeDescriptionComponent_ng_container_1_Template, 1, 0, "ng-container", 1);
            i0.ɵɵelementEnd();
            i0.ɵɵtemplate(2, PoGaugeDescriptionComponent_ng_template_2_Template, 1, 1, "ng-template", null, 2, i0.ɵɵtemplateRefExtractor)(4, PoGaugeDescriptionComponent_ng_template_4_Template, 3, 4, "ng-template", null, 3, i0.ɵɵtemplateRefExtractor);
        } if (rf & 2) {
            const _r2 = i0.ɵɵreference(3);
            const _r4 = i0.ɵɵreference(5);
            i0.ɵɵadvance();
            i0.ɵɵproperty("ngTemplateOutlet", ctx.hasRanges ? _r2 : _r4);
        } }, dependencies: [i1.NgIf, i1.NgTemplateOutlet, i2.PoTooltipDirective], encapsulation: 2 });
}
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoGaugeDescriptionComponent, [{
        type: Component,
        args: [{ selector: 'po-gauge-description', template: "<div class=\"po-gauge-description\">\n  <ng-container *ngTemplateOutlet=\"hasRanges ? rangesDescription : percentageDescription\"> </ng-container>\n</div>\n\n<ng-template #rangesDescription>\n  <p\n    #descriptionText\n    *ngIf=\"description\"\n    class=\"po-gauge-description-text po-gauge-description-upper-text\"\n    [p-tooltip]=\"tooltip\"\n    (mouseenter)=\"verifyIfHasEllipsis()\"\n  >\n    {{ description }}\n  </p>\n</ng-template>\n\n<ng-template #percentageDescription>\n  <div class=\"po-gauge-description-bottom\" tabindex=\"0\" [style.width.px]=\"descriptionWidth\">\n    <p *ngIf=\"isValidValue\" class=\"po-gauge-description-bottom-value\">{{ value }}%</p>\n    <p\n      #descriptionText\n      *ngIf=\"description\"\n      class=\"po-gauge-description-text po-gauge-description-bottom-text\"\n      [p-tooltip]=\"tooltip\"\n      (mouseenter)=\"verifyIfHasEllipsis()\"\n    >\n      {{ description }}\n    </p>\n  </div>\n</ng-template>\n" }]
    }], null, { description: [{
            type: Input,
            args: ['p-description']
        }], hasRanges: [{
            type: Input,
            args: ['p-has-ranges']
        }], descriptionWidth: [{
            type: Input,
            args: ['p-description-width']
        }], value: [{
            type: Input,
            args: ['p-value']
        }], descriptionText: [{
            type: ViewChild,
            args: ['descriptionText']
        }] }); })();
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassDebugInfo(PoGaugeDescriptionComponent, { className: "PoGaugeDescriptionComponent", filePath: "lib/components/po-gauge/po-gauge-description/po-gauge-description.component.ts", lineNumber: 7 }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tZ2F1Z2UtZGVzY3JpcHRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvLWdhdWdlL3BvLWdhdWdlLWRlc2NyaXB0aW9uL3BvLWdhdWdlLWRlc2NyaXB0aW9uLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby1nYXVnZS9wby1nYXVnZS1kZXNjcmlwdGlvbi9wby1nYXVnZS1kZXNjcmlwdGlvbi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFjLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7Ozs7OztJQ0N0RSx3QkFBd0c7Ozs7SUFJeEcsK0JBTUM7SUFEQywwTEFBYyxlQUFBLDRCQUFxQixDQUFBLElBQUM7SUFFcEMsWUFDRjtJQUFBLGlCQUFJOzs7SUFKRiwwQ0FBcUI7SUFHckIsZUFDRjtJQURFLG1EQUNGOzs7SUFSQSxzRkFRSTs7O0lBTkQseUNBQWlCOzs7SUFXbEIsNkJBQWtFO0lBQUEsWUFBWTtJQUFBLGlCQUFJOzs7SUFBaEIsY0FBWTtJQUFaLDRDQUFZOzs7O0lBQzlFLGdDQU1DO0lBREMsNExBQWMsZUFBQSw2QkFBcUIsQ0FBQSxJQUFDO0lBRXBDLFlBQ0Y7SUFBQSxpQkFBSTs7O0lBSkYsMkNBQXFCO0lBR3JCLGVBQ0Y7SUFERSxvREFDRjs7O0lBVkYsOEJBQTBGO0lBQ3hGLHNGQUFrRix5RUFBQTtJQVVwRixpQkFBTTs7O0lBWGdELHNEQUFtQztJQUNuRixjQUFrQjtJQUFsQiwwQ0FBa0I7SUFHbkIsY0FBaUI7SUFBakIseUNBQWlCOztBRGZ4QixNQUFNLE9BQU8sMkJBQTJCO0lBQ2QsV0FBVyxDQUFTO0lBRXJCLFNBQVMsQ0FBVTtJQUVaLGdCQUFnQixDQUFTO0lBRXJDLEtBQUssQ0FBUztJQUVGLGVBQWUsQ0FBYTtJQUUxRCxPQUFPLENBQVM7SUFFaEIsSUFBSSxZQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFRCxtQkFBbUI7UUFDakIsTUFBTSxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQztRQUV4RSx5REFBeUQ7UUFDekQsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLElBQUksQ0FBQyxPQUFPLEdBQUcsV0FBVyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1FBQzFFLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztxRkF4QlUsMkJBQTJCOzZEQUEzQiwyQkFBMkI7Ozs7OztZQ054Qyw4QkFBa0M7WUFDaEMsOEZBQXdHO1lBQzFHLGlCQUFNO1lBRU4sNkhBVWMsZ0hBQUE7Ozs7WUFiRyxjQUF1RTtZQUF2RSw0REFBdUU7OztpRkRLM0UsMkJBQTJCO2NBSnZDLFNBQVM7MkJBQ0Usc0JBQXNCO2dCQUlSLFdBQVc7a0JBQWxDLEtBQUs7bUJBQUMsZUFBZTtZQUVDLFNBQVM7a0JBQS9CLEtBQUs7bUJBQUMsY0FBYztZQUVTLGdCQUFnQjtrQkFBN0MsS0FBSzttQkFBQyxxQkFBcUI7WUFFVixLQUFLO2tCQUF0QixLQUFLO21CQUFDLFNBQVM7WUFFYyxlQUFlO2tCQUE1QyxTQUFTO21CQUFDLGlCQUFpQjs7a0ZBVGpCLDJCQUEyQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5wdXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwby1nYXVnZS1kZXNjcmlwdGlvbicsXG4gIHRlbXBsYXRlVXJsOiAnLi9wby1nYXVnZS1kZXNjcmlwdGlvbi5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgUG9HYXVnZURlc2NyaXB0aW9uQ29tcG9uZW50IHtcbiAgQElucHV0KCdwLWRlc2NyaXB0aW9uJykgZGVzY3JpcHRpb246IHN0cmluZztcblxuICBASW5wdXQoJ3AtaGFzLXJhbmdlcycpIGhhc1JhbmdlczogYm9vbGVhbjtcblxuICBASW5wdXQoJ3AtZGVzY3JpcHRpb24td2lkdGgnKSBkZXNjcmlwdGlvbldpZHRoOiBudW1iZXI7XG5cbiAgQElucHV0KCdwLXZhbHVlJykgdmFsdWU6IG51bWJlcjtcblxuICBAVmlld0NoaWxkKCdkZXNjcmlwdGlvblRleHQnKSBkZXNjcmlwdGlvblRleHQ6IEVsZW1lbnRSZWY7XG5cbiAgdG9vbHRpcDogc3RyaW5nO1xuXG4gIGdldCBpc1ZhbGlkVmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUgfHwgdGhpcy52YWx1ZSA9PT0gMDtcbiAgfVxuXG4gIHZlcmlmeUlmSGFzRWxsaXBzaXMoKSB7XG4gICAgY29uc3QgeyBvZmZzZXRXaWR0aCwgc2Nyb2xsV2lkdGggfSA9IHRoaXMuZGVzY3JpcHRpb25UZXh0Lm5hdGl2ZUVsZW1lbnQ7XG5cbiAgICAvLyBPIHRvb2x0aXAgc8OzIGV4aWJlIHNlIGFkaWNpb25hZG8gZGVudHJvIGRlIHNldFRpbWVvdXQuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnRvb2x0aXAgPSBvZmZzZXRXaWR0aCA8IHNjcm9sbFdpZHRoID8gdGhpcy5kZXNjcmlwdGlvbiA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cInBvLWdhdWdlLWRlc2NyaXB0aW9uXCI+XG4gIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJoYXNSYW5nZXMgPyByYW5nZXNEZXNjcmlwdGlvbiA6IHBlcmNlbnRhZ2VEZXNjcmlwdGlvblwiPiA8L25nLWNvbnRhaW5lcj5cbjwvZGl2PlxuXG48bmctdGVtcGxhdGUgI3Jhbmdlc0Rlc2NyaXB0aW9uPlxuICA8cFxuICAgICNkZXNjcmlwdGlvblRleHRcbiAgICAqbmdJZj1cImRlc2NyaXB0aW9uXCJcbiAgICBjbGFzcz1cInBvLWdhdWdlLWRlc2NyaXB0aW9uLXRleHQgcG8tZ2F1Z2UtZGVzY3JpcHRpb24tdXBwZXItdGV4dFwiXG4gICAgW3AtdG9vbHRpcF09XCJ0b29sdGlwXCJcbiAgICAobW91c2VlbnRlcik9XCJ2ZXJpZnlJZkhhc0VsbGlwc2lzKClcIlxuICA+XG4gICAge3sgZGVzY3JpcHRpb24gfX1cbiAgPC9wPlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNwZXJjZW50YWdlRGVzY3JpcHRpb24+XG4gIDxkaXYgY2xhc3M9XCJwby1nYXVnZS1kZXNjcmlwdGlvbi1ib3R0b21cIiB0YWJpbmRleD1cIjBcIiBbc3R5bGUud2lkdGgucHhdPVwiZGVzY3JpcHRpb25XaWR0aFwiPlxuICAgIDxwICpuZ0lmPVwiaXNWYWxpZFZhbHVlXCIgY2xhc3M9XCJwby1nYXVnZS1kZXNjcmlwdGlvbi1ib3R0b20tdmFsdWVcIj57eyB2YWx1ZSB9fSU8L3A+XG4gICAgPHBcbiAgICAgICNkZXNjcmlwdGlvblRleHRcbiAgICAgICpuZ0lmPVwiZGVzY3JpcHRpb25cIlxuICAgICAgY2xhc3M9XCJwby1nYXVnZS1kZXNjcmlwdGlvbi10ZXh0IHBvLWdhdWdlLWRlc2NyaXB0aW9uLWJvdHRvbS10ZXh0XCJcbiAgICAgIFtwLXRvb2x0aXBdPVwidG9vbHRpcFwiXG4gICAgICAobW91c2VlbnRlcik9XCJ2ZXJpZnlJZkhhc0VsbGlwc2lzKClcIlxuICAgID5cbiAgICAgIHt7IGRlc2NyaXB0aW9uIH19XG4gICAgPC9wPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=