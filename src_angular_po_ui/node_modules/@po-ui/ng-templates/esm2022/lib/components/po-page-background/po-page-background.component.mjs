import { Component, EventEmitter, Input, Output } from '@angular/core';
import { poLanguageDefault } from '@po-ui/ng-components';
import { convertToBoolean } from './../../utils/util';
import * as i0 from "@angular/core";
import * as i1 from "@po-ui/ng-components";
import * as i2 from "@angular/common";
import * as i3 from "@angular/forms";
function PoPageBackgroundComponent_po_logo_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "po-logo", 13);
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵproperty("p-link", false)("p-logo", ctx_r0.logo)("p-logo-alt", ctx_r0.logoAlt);
} }
function PoPageBackgroundComponent_div_10_Template(rf, ctx) { if (rf & 1) {
    const _r5 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 14)(1, "po-select", 15);
    i0.ɵɵtwoWayListener("ngModelChange", function PoPageBackgroundComponent_div_10_Template_po_select_ngModelChange_1_listener($event) { i0.ɵɵrestoreView(_r5); const ctx_r4 = i0.ɵɵnextContext(); i0.ɵɵtwoWayBindingSet(ctx_r4.selectedLanguageOption, $event) || (ctx_r4.selectedLanguageOption = $event); return i0.ɵɵresetView($event); });
    i0.ɵɵlistener("p-change", function PoPageBackgroundComponent_div_10_Template_po_select_p_change_1_listener() { i0.ɵɵrestoreView(_r5); const ctx_r6 = i0.ɵɵnextContext(); return i0.ɵɵresetView(ctx_r6.onChangeLanguage()); });
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext();
    i0.ɵɵadvance();
    i0.ɵɵtwoWayProperty("ngModel", ctx_r1.selectedLanguageOption);
    i0.ɵɵproperty("p-options", ctx_r1.selectLanguageOptions);
} }
function PoPageBackgroundComponent_po_logo_12_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "po-logo", 16);
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵproperty("p-link", false)("p-logo", ctx_r2.secondaryLogo);
} }
function PoPageBackgroundComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 17)(1, "div", 18)(2, "div", 19);
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd()()();
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext();
    i0.ɵɵstyleProp("background-image", "url(" + ctx_r3.background + ")");
    i0.ɵɵproperty("ngClass", ctx_r3.background ? "po-page-login-highlight-image" : "po-page-login-highlight-image-off");
    i0.ɵɵadvance(3);
    i0.ɵɵtextInterpolate(ctx_r3.highlightInfo);
} }
const _c0 = ["*"];
/**
 * @docsPrivate
 *
 * @description
 *
 * Componente para definição de cor de fundo e dos logotipos primário e secundário para os templates
 * de `po-page-login` e demais templates de login.
 */
export class PoPageBackgroundComponent {
    poLanguageService;
    /** Insere uma imagem de destaque ao lado direito do container. */
    background;
    /** Idioma inicial selecionado no combo */
    initialSelectLanguage;
    /** Designa se o logotipo deve desaparecer em resoluções menores. */
    hideLogo;
    /** Texto de destaque sobreposto à imagem de destaque. Essa opção é utilizada em conjunto com o atributo `p-background`. */
    highlightInfo;
    /**
     * @optional
     *
     * @description
     *
     * Evento disparado ao selecionar alguma opção no seletor de idiomas.
     * Para este evento será passado como parâmetro o valor de idioma selecionado.
     */
    selectedLanguage = new EventEmitter();
    selectedLanguageOption;
    _showSelectLanguage = false;
    _languagesList;
    _selectLanguageOptions;
    /** Lista de idiomas para o combo box */
    set languagesList(value) {
        this._languagesList = value;
        this.setLanguageOptions();
    }
    get languagesList() {
        if (this._languagesList?.length) {
            return this._languagesList;
        }
        return poLanguageDefault;
    }
    /** Caminho para a logomarca localizada na parte superior. */
    logo;
    /** Texto alternativo para a logomarca. */
    logoAlt;
    /**
     * @optional
     *
     * @description
     *
     * Caminho para a logomarca localizada no rodapé.
     */
    secondaryLogo;
    /** Define se o seletor de idiomas deve ser exibido. */
    set showSelectLanguage(showSelectLanguage) {
        this._showSelectLanguage = convertToBoolean(showSelectLanguage);
    }
    get showSelectLanguage() {
        return this._showSelectLanguage;
    }
    constructor(poLanguageService) {
        this.poLanguageService = poLanguageService;
    }
    ngOnInit() {
        this.selectedLanguageOption = this.initialSelectLanguage || this.poLanguageService.getShortLanguage();
    }
    onChangeLanguage() {
        this.selectedLanguage.emit(this.selectedLanguageOption);
    }
    get selectLanguageOptions() {
        return this._selectLanguageOptions;
    }
    setLanguageOptions() {
        this._selectLanguageOptions = this.languagesList.map(language => ({
            label: language.description,
            value: language.language
        }));
    }
    static ɵfac = function PoPageBackgroundComponent_Factory(t) { return new (t || PoPageBackgroundComponent)(i0.ɵɵdirectiveInject(i1.PoLanguageService)); };
    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoPageBackgroundComponent, selectors: [["po-page-background"]], inputs: { background: [i0.ɵɵInputFlags.None, "p-background", "background"], initialSelectLanguage: [i0.ɵɵInputFlags.None, "p-initial-language", "initialSelectLanguage"], hideLogo: [i0.ɵɵInputFlags.None, "p-hide-logo", "hideLogo"], highlightInfo: [i0.ɵɵInputFlags.None, "p-highlight-info", "highlightInfo"], languagesList: [i0.ɵɵInputFlags.None, "p-languages", "languagesList"], logo: [i0.ɵɵInputFlags.None, "p-logo", "logo"], logoAlt: [i0.ɵɵInputFlags.None, "p-logo-alt", "logoAlt"], secondaryLogo: [i0.ɵɵInputFlags.None, "p-secondary-logo", "secondaryLogo"], showSelectLanguage: [i0.ɵɵInputFlags.None, "p-show-select-language", "showSelectLanguage"] }, outputs: { selectedLanguage: "p-selected-language" }, ngContentSelectors: _c0, decls: 14, vars: 7, consts: [[1, "po-page-login-container"], [1, "po-page-login-panel"], [1, "po-page-background-main-logo"], ["p-class", "po-page-background-main-logo-image", 3, "p-link", "p-logo", "p-logo-alt", 4, "ngIf"], [1, "po-page-login-body"], [1, "po-page-login-panel-content"], [1, "po-page-background-footer", "po-sm-12"], [1, "po-page-background-footer-mobile-only"], [1, "po-page-background-footer-content"], ["class", "po-page-background-footer-select", 4, "ngIf"], [1, "po-page-background-secondary-logo", 3, "ngClass"], ["p-class", "po-page-background-secondary-logo-image", "p-logo-alt", "secondary-logomarca", 3, "p-link", "p-logo", 4, "ngIf"], [3, "ngClass", "background-image", 4, "ngIf"], ["p-class", "po-page-background-main-logo-image", 3, "p-link", "p-logo", "p-logo-alt"], [1, "po-page-background-footer-select"], ["name", "selectedLanguageOption", 3, "ngModel", "p-options", "ngModelChange", "p-change"], ["p-class", "po-page-background-secondary-logo-image", "p-logo-alt", "secondary-logomarca", 3, "p-link", "p-logo"], [3, "ngClass"], [1, "po-page-login-highlight-text"], [1, "po-font-display"]], template: function PoPageBackgroundComponent_Template(rf, ctx) { if (rf & 1) {
            i0.ɵɵprojectionDef();
            i0.ɵɵelementStart(0, "div", 0)(1, "div", 1)(2, "div", 2);
            i0.ɵɵtemplate(3, PoPageBackgroundComponent_po_logo_3_Template, 1, 3, "po-logo", 3);
            i0.ɵɵelementEnd();
            i0.ɵɵelementStart(4, "div", 4)(5, "div", 5);
            i0.ɵɵprojection(6);
            i0.ɵɵelementEnd()();
            i0.ɵɵelementStart(7, "div", 6);
            i0.ɵɵelement(8, "po-divider", 7);
            i0.ɵɵelementStart(9, "div", 8);
            i0.ɵɵtemplate(10, PoPageBackgroundComponent_div_10_Template, 2, 2, "div", 9);
            i0.ɵɵelementStart(11, "div", 10);
            i0.ɵɵtemplate(12, PoPageBackgroundComponent_po_logo_12_Template, 1, 2, "po-logo", 11);
            i0.ɵɵelementEnd()()()();
            i0.ɵɵtemplate(13, PoPageBackgroundComponent_div_13_Template, 4, 4, "div", 12);
            i0.ɵɵelementEnd();
        } if (rf & 2) {
            i0.ɵɵadvance(2);
            i0.ɵɵclassProp("po-page-background-hide-logo", ctx.hideLogo);
            i0.ɵɵadvance();
            i0.ɵɵproperty("ngIf", ctx.logo);
            i0.ɵɵadvance(7);
            i0.ɵɵproperty("ngIf", ctx.showSelectLanguage);
            i0.ɵɵadvance();
            i0.ɵɵproperty("ngClass", ctx.showSelectLanguage ? "po-page-background-secondary-logo-right" : "po-page-background-secondary-logo-centered");
            i0.ɵɵadvance();
            i0.ɵɵproperty("ngIf", ctx.secondaryLogo);
            i0.ɵɵadvance();
            i0.ɵɵproperty("ngIf", ctx.background);
        } }, dependencies: [i2.NgClass, i2.NgIf, i3.NgControlStatus, i3.NgModel, i1.PoDividerComponent, i1.PoSelectComponent, i1.PoLogoComponent], encapsulation: 2 });
}
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoPageBackgroundComponent, [{
        type: Component,
        args: [{ selector: 'po-page-background', template: "<div class=\"po-page-login-container\">\n  <div class=\"po-page-login-panel\">\n    <div class=\"po-page-background-main-logo\" [class.po-page-background-hide-logo]=\"hideLogo\">\n      <po-logo\n        *ngIf=\"logo\"\n        p-class=\"po-page-background-main-logo-image\"\n        [p-link]=\"false\"\n        [p-logo]=\"logo\"\n        [p-logo-alt]=\"logoAlt\"\n      ></po-logo>\n    </div>\n\n    <div class=\"po-page-login-body\">\n      <div class=\"po-page-login-panel-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n    <div class=\"po-page-background-footer po-sm-12\">\n      <po-divider class=\"po-page-background-footer-mobile-only\"></po-divider>\n\n      <div class=\"po-page-background-footer-content\">\n        <div *ngIf=\"showSelectLanguage\" class=\"po-page-background-footer-select\">\n          <po-select\n            name=\"selectedLanguageOption\"\n            [(ngModel)]=\"selectedLanguageOption\"\n            [p-options]=\"selectLanguageOptions\"\n            (p-change)=\"onChangeLanguage()\"\n          ></po-select>\n        </div>\n\n        <div\n          class=\"po-page-background-secondary-logo\"\n          [ngClass]=\"\n            showSelectLanguage\n              ? 'po-page-background-secondary-logo-right'\n              : 'po-page-background-secondary-logo-centered'\n          \"\n        >\n          <po-logo\n            *ngIf=\"secondaryLogo\"\n            p-class=\"po-page-background-secondary-logo-image\"\n            [p-link]=\"false\"\n            [p-logo]=\"secondaryLogo\"\n            p-logo-alt=\"secondary-logomarca\"\n          ></po-logo>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div\n    *ngIf=\"background\"\n    [ngClass]=\"background ? 'po-page-login-highlight-image' : 'po-page-login-highlight-image-off'\"\n    [style.background-image]=\"'url(' + background + ')'\"\n  >\n    <div class=\"po-page-login-highlight-text\">\n      <div class=\"po-font-display\">{{ highlightInfo }}</div>\n    </div>\n  </div>\n</div>\n" }]
    }], () => [{ type: i1.PoLanguageService }], { background: [{
            type: Input,
            args: ['p-background']
        }], initialSelectLanguage: [{
            type: Input,
            args: ['p-initial-language']
        }], hideLogo: [{
            type: Input,
            args: ['p-hide-logo']
        }], highlightInfo: [{
            type: Input,
            args: ['p-highlight-info']
        }], selectedLanguage: [{
            type: Output,
            args: ['p-selected-language']
        }], languagesList: [{
            type: Input,
            args: ['p-languages']
        }], logo: [{
            type: Input,
            args: ['p-logo']
        }], logoAlt: [{
            type: Input,
            args: ['p-logo-alt']
        }], secondaryLogo: [{
            type: Input,
            args: ['p-secondary-logo']
        }], showSelectLanguage: [{
            type: Input,
            args: ['p-show-select-language']
        }] }); })();
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassDebugInfo(PoPageBackgroundComponent, { className: "PoPageBackgroundComponent", filePath: "lib/components/po-page-background/po-page-background.component.ts", lineNumber: 20 }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1iYWNrZ3JvdW5kLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3RlbXBsYXRlcy9zcmMvbGliL2NvbXBvbmVudHMvcG8tcGFnZS1iYWNrZ3JvdW5kL3BvLXBhZ2UtYmFja2dyb3VuZC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy90ZW1wbGF0ZXMvc3JjL2xpYi9jb21wb25lbnRzL3BvLXBhZ2UtYmFja2dyb3VuZC9wby1wYWdlLWJhY2tncm91bmQuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUvRSxPQUFPLEVBQWMsaUJBQWlCLEVBQXFDLE1BQU0sc0JBQXNCLENBQUM7QUFFeEcsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7Ozs7OztJQ0RoRCw4QkFNVzs7O0lBSFQsOEJBQWdCLHVCQUFBLDhCQUFBOzs7O0lBZWhCLCtCQUF5RSxvQkFBQTtJQUdyRSwwVUFBb0M7SUFFcEMsZ0xBQVksZUFBQSx5QkFBa0IsQ0FBQSxJQUFDO0lBQ2hDLGlCQUFZLEVBQUE7OztJQUhYLGNBQW9DO0lBQXBDLDZEQUFvQztJQUNwQyx3REFBbUM7OztJQWFyQyw4QkFNVzs7O0lBSFQsOEJBQWdCLGdDQUFBOzs7SUFTMUIsK0JBSUMsY0FBQSxjQUFBO0lBRWdDLFlBQW1CO0lBQUEsaUJBQU0sRUFBQSxFQUFBOzs7SUFIeEQsb0VBQW9EO0lBRHBELG1IQUE4RjtJQUkvRCxlQUFtQjtJQUFuQiwwQ0FBbUI7OztBRDdDdEQ7Ozs7Ozs7R0FPRztBQUNILE1BQU0sT0FBTyx5QkFBeUI7SUFpRWpCO0lBaEVuQixrRUFBa0U7SUFDM0MsVUFBVSxDQUFVO0lBRTNDLDBDQUEwQztJQUNiLHFCQUFx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QTlDLE1BQU07bUJBQUMscUJBQXFCO1lBU0gsYUFBYTtrQkFBdEMsS0FBSzttQkFBQyxhQUFhO1lBYUgsSUFBSTtrQkFBcEIsS0FBSzttQkFBQyxRQUFRO1lBR00sT0FBTztrQkFBM0IsS0FBSzttQkFBQyxZQUFZO1lBU1EsYUFBYTtrQkFBdkMsS0FBSzttQkFBQyxrQkFBa0I7WUFHWSxrQkFBa0I7a0JBQXRELEtBQUs7bUJBQUMsd0JBQXdCOztrRkExRHBCLHlCQUF5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgUG9MYW5ndWFnZSwgcG9MYW5ndWFnZURlZmF1bHQsIFBvTGFuZ3VhZ2VTZXJ2aWNlLCBQb1NlbGVjdE9wdGlvbiB9IGZyb20gJ0Bwby11aS9uZy1jb21wb25lbnRzJztcblxuaW1wb3J0IHsgY29udmVydFRvQm9vbGVhbiB9IGZyb20gJy4vLi4vLi4vdXRpbHMvdXRpbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BvLXBhZ2UtYmFja2dyb3VuZCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9wby1wYWdlLWJhY2tncm91bmQuY29tcG9uZW50Lmh0bWwnXG59KVxuXG4vKipcbiAqIEBkb2NzUHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIENvbXBvbmVudGUgcGFyYSBkZWZpbmnDp8OjbyBkZSBjb3IgZGUgZnVuZG8gZSBkb3MgbG9nb3RpcG9zIHByaW3DoXJpbyBlIHNlY3VuZMOhcmlvIHBhcmEgb3MgdGVtcGxhdGVzXG4gKiBkZSBgcG8tcGFnZS1sb2dpbmAgZSBkZW1haXMgdGVtcGxhdGVzIGRlIGxvZ2luLlxuICovXG5leHBvcnQgY2xhc3MgUG9QYWdlQmFja2dyb3VuZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIC8qKiBJbnNlcmUgdW1hIGltYWdlbSBkZSBkZXN0YXF1ZSBhbyBsYWRvIGRpcmVpdG8gZG8gY29udGFpbmVyLiAqL1xuICBASW5wdXQoJ3AtYmFja2dyb3VuZCcpIGJhY2tncm91bmQ/OiBzdHJpbmc7XG5cbiAgLyoqIElkaW9tYSBpbmljaWFsIHNlbGVjaW9uYWRvIG5vIGNvbWJvICovXG4gIEBJbnB1dCgncC1pbml0aWFsLWxhbmd1YWdlJykgaW5pdGlhbFNlbGVjdExhbmd1YWdlPzogc3RyaW5nO1xuXG4gIC8qKiBEZXNpZ25hIHNlIG8gbG9nb3RpcG8gZGV2ZSBkZXNhcGFyZWNlciBlbSByZXNvbHXDp8O1ZXMgbWVub3Jlcy4gKi9cbiAgQElucHV0KCdwLWhpZGUtbG9nbycpIGhpZGVMb2dvPzogYm9vbGVhbjtcblxuICAvKiogVGV4dG8gZGUgZGVzdGFxdWUgc29icmVwb3N0byDDoCBpbWFnZW0gZGUgZGVzdGFxdWUuIEVzc2Egb3DDp8OjbyDDqSB1dGlsaXphZGEgZW0gY29uanVudG8gY29tIG8gYXRyaWJ1dG8gYHAtYmFja2dyb3VuZGAuICovXG4gIEBJbnB1dCgncC1oaWdobGlnaHQtaW5mbycpIGhpZ2hsaWdodEluZm8/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRXZlbnRvIGRpc3BhcmFkbyBhbyBzZWxlY2lvbmFyIGFsZ3VtYSBvcMOnw6NvIG5vIHNlbGV0b3IgZGUgaWRpb21hcy5cbiAgICogUGFyYSBlc3RlIGV2ZW50byBzZXLDoSBwYXNzYWRvIGNvbW8gcGFyw6JtZXRybyBvIHZhbG9yIGRlIGlkaW9tYSBzZWxlY2lvbmFkby5cbiAgICovXG4gIEBPdXRwdXQoJ3Atc2VsZWN0ZWQtbGFuZ3VhZ2UnKSBzZWxlY3RlZExhbmd1YWdlOiBFdmVudEVtaXR0ZXI8c3RyaW5nPiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xuXG4gIHNlbGVjdGVkTGFuZ3VhZ2VPcHRpb246IHN0cmluZztcblxuICBwcml2YXRlIF9zaG93U2VsZWN0TGFuZ3VhZ2U/OiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2xhbmd1YWdlc0xpc3Q6IEFycmF5PFBvTGFuZ3VhZ2U+O1xuICBwcml2YXRlIF9zZWxlY3RMYW5ndWFnZU9wdGlvbnM6IEFycmF5PFBvU2VsZWN0T3B0aW9uPjtcblxuICAvKiogTGlzdGEgZGUgaWRpb21hcyBwYXJhIG8gY29tYm8gYm94ICovXG4gIEBJbnB1dCgncC1sYW5ndWFnZXMnKSBzZXQgbGFuZ3VhZ2VzTGlzdCh2YWx1ZTogQXJyYXk8UG9MYW5ndWFnZT4pIHtcbiAgICB0aGlzLl9sYW5ndWFnZXNMaXN0ID0gdmFsdWU7XG4gICAgdGhpcy5zZXRMYW5ndWFnZU9wdGlvbnMoKTtcbiAgfVxuXG4gIGdldCBsYW5ndWFnZXNMaXN0KCk6IEFycmF5PFBvTGFuZ3VhZ2U+IHtcbiAgICBpZiAodGhpcy5fbGFuZ3VhZ2VzTGlzdD8ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbGFuZ3VhZ2VzTGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIHBvTGFuZ3VhZ2VEZWZhdWx0O1xuICB9XG5cbiAgLyoqIENhbWluaG8gcGFyYSBhIGxvZ29tYXJjYSBsb2NhbGl6YWRhIG5hIHBhcnRlIHN1cGVyaW9yLiAqL1xuICBASW5wdXQoJ3AtbG9nbycpIGxvZ28/OiBzdHJpbmc7XG5cbiAgLyoqIFRleHRvIGFsdGVybmF0aXZvIHBhcmEgYSBsb2dvbWFyY2EuICovXG4gIEBJbnB1dCgncC1sb2dvLWFsdCcpIGxvZ29BbHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQ2FtaW5obyBwYXJhIGEgbG9nb21hcmNhIGxvY2FsaXphZGEgbm8gcm9kYXDDqS5cbiAgICovXG4gIEBJbnB1dCgncC1zZWNvbmRhcnktbG9nbycpIHNlY29uZGFyeUxvZ286IHN0cmluZztcblxuICAvKiogRGVmaW5lIHNlIG8gc2VsZXRvciBkZSBpZGlvbWFzIGRldmUgc2VyIGV4aWJpZG8uICovXG4gIEBJbnB1dCgncC1zaG93LXNlbGVjdC1sYW5ndWFnZScpIHNldCBzaG93U2VsZWN0TGFuZ3VhZ2Uoc2hvd1NlbGVjdExhbmd1YWdlOiBib29sZWFuKSB7XG4gICAgdGhpcy5fc2hvd1NlbGVjdExhbmd1YWdlID0gY29udmVydFRvQm9vbGVhbihzaG93U2VsZWN0TGFuZ3VhZ2UpO1xuICB9XG4gIGdldCBzaG93U2VsZWN0TGFuZ3VhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Nob3dTZWxlY3RMYW5ndWFnZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwb0xhbmd1YWdlU2VydmljZTogUG9MYW5ndWFnZVNlcnZpY2UpIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5zZWxlY3RlZExhbmd1YWdlT3B0aW9uID0gdGhpcy5pbml0aWFsU2VsZWN0TGFuZ3VhZ2UgfHwgdGhpcy5wb0xhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCk7XG4gIH1cblxuICBvbkNoYW5nZUxhbmd1YWdlKCkge1xuICAgIHRoaXMuc2VsZWN0ZWRMYW5ndWFnZS5lbWl0KHRoaXMuc2VsZWN0ZWRMYW5ndWFnZU9wdGlvbik7XG4gIH1cblxuICBnZXQgc2VsZWN0TGFuZ3VhZ2VPcHRpb25zKCk6IEFycmF5PFBvU2VsZWN0T3B0aW9uPiB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdExhbmd1YWdlT3B0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgc2V0TGFuZ3VhZ2VPcHRpb25zKCkge1xuICAgIHRoaXMuX3NlbGVjdExhbmd1YWdlT3B0aW9ucyA9IHRoaXMubGFuZ3VhZ2VzTGlzdC5tYXA8UG9TZWxlY3RPcHRpb24+KGxhbmd1YWdlID0+ICh7XG4gICAgICBsYWJlbDogbGFuZ3VhZ2UuZGVzY3JpcHRpb24sXG4gICAgICB2YWx1ZTogbGFuZ3VhZ2UubGFuZ3VhZ2VcbiAgICB9KSk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJwby1wYWdlLWxvZ2luLWNvbnRhaW5lclwiPlxuICA8ZGl2IGNsYXNzPVwicG8tcGFnZS1sb2dpbi1wYW5lbFwiPlxuICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWJhY2tncm91bmQtbWFpbi1sb2dvXCIgW2NsYXNzLnBvLXBhZ2UtYmFja2dyb3VuZC1oaWRlLWxvZ29dPVwiaGlkZUxvZ29cIj5cbiAgICAgIDxwby1sb2dvXG4gICAgICAgICpuZ0lmPVwibG9nb1wiXG4gICAgICAgIHAtY2xhc3M9XCJwby1wYWdlLWJhY2tncm91bmQtbWFpbi1sb2dvLWltYWdlXCJcbiAgICAgICAgW3AtbGlua109XCJmYWxzZVwiXG4gICAgICAgIFtwLWxvZ29dPVwibG9nb1wiXG4gICAgICAgIFtwLWxvZ28tYWx0XT1cImxvZ29BbHRcIlxuICAgICAgPjwvcG8tbG9nbz5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWxvZ2luLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWxvZ2luLXBhbmVsLWNvbnRlbnRcIj5cbiAgICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInBvLXBhZ2UtYmFja2dyb3VuZC1mb290ZXIgcG8tc20tMTJcIj5cbiAgICAgIDxwby1kaXZpZGVyIGNsYXNzPVwicG8tcGFnZS1iYWNrZ3JvdW5kLWZvb3Rlci1tb2JpbGUtb25seVwiPjwvcG8tZGl2aWRlcj5cblxuICAgICAgPGRpdiBjbGFzcz1cInBvLXBhZ2UtYmFja2dyb3VuZC1mb290ZXItY29udGVudFwiPlxuICAgICAgICA8ZGl2ICpuZ0lmPVwic2hvd1NlbGVjdExhbmd1YWdlXCIgY2xhc3M9XCJwby1wYWdlLWJhY2tncm91bmQtZm9vdGVyLXNlbGVjdFwiPlxuICAgICAgICAgIDxwby1zZWxlY3RcbiAgICAgICAgICAgIG5hbWU9XCJzZWxlY3RlZExhbmd1YWdlT3B0aW9uXCJcbiAgICAgICAgICAgIFsobmdNb2RlbCldPVwic2VsZWN0ZWRMYW5ndWFnZU9wdGlvblwiXG4gICAgICAgICAgICBbcC1vcHRpb25zXT1cInNlbGVjdExhbmd1YWdlT3B0aW9uc1wiXG4gICAgICAgICAgICAocC1jaGFuZ2UpPVwib25DaGFuZ2VMYW5ndWFnZSgpXCJcbiAgICAgICAgICA+PC9wby1zZWxlY3Q+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzcz1cInBvLXBhZ2UtYmFja2dyb3VuZC1zZWNvbmRhcnktbG9nb1wiXG4gICAgICAgICAgW25nQ2xhc3NdPVwiXG4gICAgICAgICAgICBzaG93U2VsZWN0TGFuZ3VhZ2VcbiAgICAgICAgICAgICAgPyAncG8tcGFnZS1iYWNrZ3JvdW5kLXNlY29uZGFyeS1sb2dvLXJpZ2h0J1xuICAgICAgICAgICAgICA6ICdwby1wYWdlLWJhY2tncm91bmQtc2Vjb25kYXJ5LWxvZ28tY2VudGVyZWQnXG4gICAgICAgICAgXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxwby1sb2dvXG4gICAgICAgICAgICAqbmdJZj1cInNlY29uZGFyeUxvZ29cIlxuICAgICAgICAgICAgcC1jbGFzcz1cInBvLXBhZ2UtYmFja2dyb3VuZC1zZWNvbmRhcnktbG9nby1pbWFnZVwiXG4gICAgICAgICAgICBbcC1saW5rXT1cImZhbHNlXCJcbiAgICAgICAgICAgIFtwLWxvZ29dPVwic2Vjb25kYXJ5TG9nb1wiXG4gICAgICAgICAgICBwLWxvZ28tYWx0PVwic2Vjb25kYXJ5LWxvZ29tYXJjYVwiXG4gICAgICAgICAgPjwvcG8tbG9nbz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPGRpdlxuICAgICpuZ0lmPVwiYmFja2dyb3VuZFwiXG4gICAgW25nQ2xhc3NdPVwiYmFja2dyb3VuZCA/ICdwby1wYWdlLWxvZ2luLWhpZ2hsaWdodC1pbWFnZScgOiAncG8tcGFnZS1sb2dpbi1oaWdobGlnaHQtaW1hZ2Utb2ZmJ1wiXG4gICAgW3N0eWxlLmJhY2tncm91bmQtaW1hZ2VdPVwiJ3VybCgnICsgYmFja2dyb3VuZCArICcpJ1wiXG4gID5cbiAgICA8ZGl2IGNsYXNzPVwicG8tcGFnZS1sb2dpbi1oaWdobGlnaHQtdGV4dFwiPlxuICAgICAgPGRpdiBjbGFzcz1cInBvLWZvbnQtZGlzcGxheVwiPnt7IGhpZ2hsaWdodEluZm8gfX08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==