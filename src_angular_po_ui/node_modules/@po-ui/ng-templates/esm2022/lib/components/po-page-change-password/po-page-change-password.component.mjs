import { Component, ViewChild, ViewContainerRef } from '@angular/core';
import { NgForm } from '@angular/forms';
import { PoModalComponent, poLocaleDefault } from '@po-ui/ng-components';
import { isExternalLink, isTypeof } from '../../utils/util';
import { PoModalPasswordRecoveryComponent } from '../po-modal-password-recovery/po-modal-password-recovery.component';
import { PoModalPasswordRecoveryType } from '../po-modal-password-recovery/enums/po-modal-password-recovery-type.enum';
import { PoPageChangePasswordBaseComponent } from './po-page-change-password-base.component';
import { poPageChangePasswordLiterals } from './literals/i18n/po-page-change-password-literals';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "./po-page-change-password.service";
import * as i3 from "@po-ui/ng-components";
import * as i4 from "@angular/common";
import * as i5 from "@angular/forms";
import * as i6 from "../po-page-background/po-page-background.component";
const _c0 = ["pageChangePassword"];
const _c1 = ["passwordForm"];
function PoPageChangePasswordComponent_div_13_Template(rf, ctx) { if (rf & 1) {
    const _r7 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div")(1, "po-password", 30);
    i0.ɵɵtwoWayListener("ngModelChange", function PoPageChangePasswordComponent_div_13_Template_po_password_ngModelChange_1_listener($event) { i0.ɵɵrestoreView(_r7); const ctx_r6 = i0.ɵɵnextContext(); i0.ɵɵtwoWayBindingSet(ctx_r6.currentPassword, $event) || (ctx_r6.currentPassword = $event); return i0.ɵɵresetView($event); });
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵadvance();
    i0.ɵɵtwoWayProperty("ngModel", ctx_r2.currentPassword);
    i0.ɵɵproperty("p-label", ctx_r2.literals.currentPassword);
} }
function PoPageChangePasswordComponent_div_14_a_1_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "a", 35);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r8 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("routerLink", ctx_r8.recovery);
    i0.ɵɵadvance();
    i0.ɵɵtextInterpolate1(" ", ctx_r8.literals.forgotPassword, " ");
} }
function PoPageChangePasswordComponent_div_14_a_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "a", 36);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r9 = i0.ɵɵnextContext(2);
    i0.ɵɵproperty("href", ctx_r9.recovery, i0.ɵɵsanitizeUrl);
    i0.ɵɵadvance();
    i0.ɵɵtextInterpolate1(" ", ctx_r9.literals.forgotPassword, " ");
} }
function PoPageChangePasswordComponent_div_14_a_3_Template(rf, ctx) { if (rf & 1) {
    const _r12 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "a", 37);
    i0.ɵɵlistener("click", function PoPageChangePasswordComponent_div_14_a_3_Template_a_click_0_listener() { i0.ɵɵrestoreView(_r12); const ctx_r11 = i0.ɵɵnextContext(2); return i0.ɵɵresetView(ctx_r11.onForgotPasswordClick(ctx_r11.recovery)); });
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r10 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance();
    i0.ɵɵtextInterpolate1(" ", ctx_r10.literals.forgotPassword, " ");
} }
function PoPageChangePasswordComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 31);
    i0.ɵɵtemplate(1, PoPageChangePasswordComponent_div_14_a_1_Template, 2, 2, "a", 32)(2, PoPageChangePasswordComponent_div_14_a_2_Template, 2, 2, "a", 33)(3, PoPageChangePasswordComponent_div_14_a_3_Template, 2, 1, "a", 34);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r3 = i0.ɵɵnextContext();
    i0.ɵɵadvance();
    i0.ɵɵproperty("ngIf", ctx_r3.recoveryUrlType === "internalLink");
    i0.ɵɵadvance();
    i0.ɵɵproperty("ngIf", ctx_r3.recoveryUrlType === "externalLink");
    i0.ɵɵadvance();
    i0.ɵɵproperty("ngIf", !ctx_r3.recoveryUrlType);
} }
function PoPageChangePasswordComponent_div_19_li_6_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "li", 40);
    i0.ɵɵelement(1, "po-icon", 43);
    i0.ɵɵelementStart(2, "p", 44);
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const requirement_r14 = ctx.$implicit;
    const ctx_r13 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance();
    i0.ɵɵproperty("p-icon", ctx_r13.validateRequirement(requirement_r14) ? "ICON_OK po-page-change-password-required-ok" : "ICON_MINUS po-page-change-password-required-minus");
    i0.ɵɵadvance(2);
    i0.ɵɵtextInterpolate1(" ", requirement_r14.requirement, " ");
} }
function PoPageChangePasswordComponent_div_19_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 38)(1, "po-container")(2, "ul", 39)(3, "li", 40)(4, "p", 41);
    i0.ɵɵtext(5);
    i0.ɵɵelementEnd()();
    i0.ɵɵtemplate(6, PoPageChangePasswordComponent_div_19_li_6_Template, 4, 2, "li", 42);
    i0.ɵɵelementEnd()()();
} if (rf & 2) {
    const ctx_r4 = i0.ɵɵnextContext();
    i0.ɵɵadvance(5);
    i0.ɵɵtextInterpolate1(" ", ctx_r4.literals == null ? null : ctx_r4.literals.requirements, " ");
    i0.ɵɵadvance();
    i0.ɵɵproperty("ngForOf", ctx_r4.requirements);
} }
function PoPageChangePasswordComponent_po_button_38_Template(rf, ctx) { if (rf & 1) {
    const _r16 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "po-button", 45);
    i0.ɵɵlistener("p-click", function PoPageChangePasswordComponent_po_button_38_Template_po_button_p_click_0_listener() { i0.ɵɵrestoreView(_r16); const ctx_r15 = i0.ɵɵnextContext(); return i0.ɵɵresetView(ctx_r15.navigateTo(ctx_r15.urlBack)); });
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = i0.ɵɵnextContext();
    i0.ɵɵproperty("p-label", ctx_r5.literals.backButton);
} }
const _c2 = a0 => ({ "po-offset-md-3 po-offset-lg-3 po-offset-xl-3": a0 });
/**
 * @docsExtends PoPageChangePasswordBaseComponent
 *
 * @example
 *
 * <example name="po-page-change-password-basic" title="PO Page Change Password Basic">
 *  <file name="sample-po-page-change-password-basic/sample-po-page-change-password-basic.component.html"> </file>
 *  <file name="sample-po-page-change-password-basic/sample-po-page-change-password-basic.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-change-password-labs" title="PO Page Change Password Labs">
 *  <file name="sample-po-page-change-password-labs/sample-po-page-change-password-labs.component.html"> </file>
 *  <file name="sample-po-page-change-password-labs/sample-po-page-change-password-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-change-password-modify" title="PO Page Change Password Modify">
 *  <file name="sample-po-page-change-password-modify/sample-po-page-change-password-modify.component.html"> </file>
 *  <file name="sample-po-page-change-password-modify/sample-po-page-change-password-modify.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-change-password-create" title="PO Page Change Password Create">
 *  <file name="sample-po-page-change-password-create/sample-po-page-change-password-create.component.html"> </file>
 *  <file name="sample-po-page-change-password-create/sample-po-page-change-password-create.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-change-password-request" title="PO Page Change Password Request">
 *  <file name="sample-po-page-change-password-request/sample-po-page-change-password-request.component.html"> </file>
 *  <file name="sample-po-page-change-password-request/sample-po-page-change-password-request.component.ts"> </file>
 * </example>
 */
export class PoPageChangePasswordComponent extends PoPageChangePasswordBaseComponent {
    activatedRoute;
    route;
    router;
    service;
    poComponentInjector;
    modal;
    pageChangePassword;
    passwordForm;
    literals = poPageChangePasswordLiterals[poLocaleDefault];
    modalAction = {
        action: this.navigateTo.bind(this, this.urlHome),
        label: this.literals.enterSystemButton
    };
    newPasswordSubscription;
    componentRef = null;
    constructor(activatedRoute, route, router, service, poComponentInjector, languageService, viewRef) {
        super();
        this.activatedRoute = activatedRoute;
        this.route = route;
        this.router = router;
        this.service = service;
        this.poComponentInjector = poComponentInjector;
        const language = languageService.getShortLanguage();
        this.literals = {
            ...poPageChangePasswordLiterals[poLocaleDefault],
            ...poPageChangePasswordLiterals[language]
        };
    }
    ngAfterViewInit() {
        if (this.urlNewPassword) {
            this.subscribeToTokenParameter();
        }
    }
    ngOnDestroy() {
        if (this.newPasswordSubscription) {
            this.newPasswordSubscription.unsubscribe();
        }
    }
    ngOnInit() {
        this.checkingForRouteMetadata(this.activatedRoute.snapshot.data);
    }
    navigateTo(url) {
        isExternalLink(url) ? window.open(url) : this.router.navigate([url || '/']);
    }
    onForgotPasswordClick(recovery) {
        if (isTypeof(recovery, 'function')) {
            recovery();
        }
        else {
            this.createModalPasswordRecoveryComponent(recovery);
        }
    }
    onLoginSubmit() {
        const form = this.getLoginForm();
        if (this.urlNewPassword) {
            this.postUrlNewPassword(form);
        }
        else if (this.submit && this.submit.observers.length) {
            this.emitSubmit(form);
        }
    }
    /**
     * Abre uma modal de confirmação com texto, imagem e botão que redireciona para o link definido na propriedade `p-url-home`
     */
    openConfirmation() {
        this.modal.open();
    }
    validatePassword() {
        const controls = this.passwordForm.form.controls;
        const controlConfirmPassword = controls['confirmPassword'];
        const controlNewPassword = controls['newPassword'];
        if (!this.newPassword) {
            this.setFormErrors({ 'required': true }, [controlNewPassword]);
        }
        else if (!this.confirmPassword) {
            this.setFormErrors({ 'required': true }, [controlConfirmPassword]);
        }
        else if (this.newPassword && this.confirmPassword && this.newPassword !== this.confirmPassword) {
            this.setFormErrors({ 'equalPassword': true }, [controlNewPassword, controlConfirmPassword]);
        }
        else {
            this.setFormErrors(null, [controlConfirmPassword, controlNewPassword]);
        }
        if (this.requirements.length &&
            this.requirements.find(requirement => this.validateRequirement(requirement) === false)) {
            this.setFormErrors({ 'requirement': true }, [controlNewPassword]);
        }
    }
    validateRequirement(requirement) {
        return typeof requirement.status === 'function' ? requirement.status(this.newPassword) : requirement.status;
    }
    checkingForMetadataProperty(object, property) {
        if (Object.prototype.hasOwnProperty.call(object, property)) {
            return object[property];
        }
    }
    checkingForRouteMetadata(data) {
        if (Object.keys(data).length !== 0) {
            this.urlNewPassword = this.checkingForMetadataProperty(data, 'serviceApi') || this.urlNewPassword;
            this.recovery = this.checkingForMetadataProperty(data, 'recovery') || this.recovery;
            this.hideCurrentPassword =
                this.checkingForMetadataProperty(data, 'hideCurrentPassword') || this.hideCurrentPassword;
        }
    }
    createModalPasswordRecoveryComponent(recovery) {
        if (this.componentRef) {
            this.poComponentInjector.destroyComponentInApplication(this.componentRef);
        }
        this.componentRef = this.poComponentInjector.createComponentInApplication(PoModalPasswordRecoveryComponent);
        this.componentRef.instance.recovery = recovery.url;
        this.componentRef.instance.contactEmail = recovery.contactMail;
        this.componentRef.instance.phoneMask = recovery.phoneMask;
        this.componentRef.instance.type = recovery.type || PoModalPasswordRecoveryType.Email;
        this.componentRef.changeDetectorRef.detectChanges();
        setTimeout(() => {
            this.componentRef.instance.open();
        });
    }
    emitSubmit(form) {
        this.submit.emit(form);
    }
    getLoginForm() {
        return {
            currentPassword: this.currentPassword,
            newPassword: this.newPassword
        };
    }
    postUrlNewPassword(form) {
        form['token'] = this.token;
        this.service.post(this.urlNewPassword, form).subscribe(response => {
            if (response.status === 204) {
                this.openConfirmation();
            }
        });
    }
    setFormErrors(error, controls) {
        controls.forEach(control => {
            control.setErrors(error);
        });
    }
    subscribeToTokenParameter() {
        this.route.queryParams.subscribe(params => {
            const token = params['token'];
            if (token) {
                this.token = token;
            }
        });
    }
    static ɵfac = function PoPageChangePasswordComponent_Factory(t) { return new (t || PoPageChangePasswordComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PoPageChangePasswordService), i0.ɵɵdirectiveInject(i3.PoComponentInjectorService), i0.ɵɵdirectiveInject(i3.PoLanguageService), i0.ɵɵdirectiveInject(i0.ViewContainerRef)); };
    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoPageChangePasswordComponent, selectors: [["po-page-change-password"]], viewQuery: function PoPageChangePasswordComponent_Query(rf, ctx) { if (rf & 1) {
            i0.ɵɵviewQuery(PoModalComponent, 7);
            i0.ɵɵviewQuery(_c0, 7, ViewContainerRef);
            i0.ɵɵviewQuery(_c1, 7, NgForm);
        } if (rf & 2) {
            let _t;
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modal = _t.first);
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pageChangePassword = _t.first);
            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.passwordForm = _t.first);
        } }, features: [i0.ɵɵInheritDefinitionFeature], decls: 43, vars: 25, consts: [[1, "po-page-change-password-wrapper"], ["pageChangePassword", ""], [1, "po-page-change-password-container"], [1, "po-page-change-password", 3, "p-logo", "p-secondary-logo"], [1, "po-page-blocked-user-header", "po-row"], [1, "po-md-12"], [1, "po-md-12", "po-text-center", "po-font-text"], ["passwordForm", "ngForm"], [1, "po-row", "po-mt-3", "po-mt-sm-1"], [1, "po-md-6", 3, "ngClass"], [4, "ngIf"], ["class", "po-text-center po-mb-sm-1 po-mb-2", 4, "ngIf"], ["name", "newPassword", "p-required", "", 3, "ngModel", "p-label", "ngModelChange", "p-change-model"], ["name", "confirmPassword", "p-required", "", 3, "ngModel", "p-label", "ngModelChange", "p-change-model"], ["class", "po-md-6 po-page-change-password-required-container", 4, "ngIf"], [1, "po-sm-12"], [1, "po-page-change-password-tips", "po-row"], [1, "po-md-2", "po-mr-3"], ["alt", "Blocked user image", "src", "./assets/images/big-lock.svg", 1, "po-page-change-password-lock-image", "po-mb-3"], [1, "po-md-9", "po-page-change-password-tips-text"], [1, "po-font-text-bold", "po-pb-1"], [1, "po-font-text-small"], [1, "po-row", "po-pb-1"], [1, "po-page-change-password-buttons", "po-row"], [1, "po-sm-12", "po-mobile-only"], ["class", "po-sm-6 po-mb-sm-1", 3, "p-label", "p-click", 4, "ngIf"], ["p-kind", "primary", 3, "ngClass", "p-disabled", "p-label", "p-click"], ["p-hide-close", "", "p-size", "auto", 3, "p-primary-action", "p-title"], [1, "po-text-center"], ["alt", "Blocked user image", "src", "./assets/images/success.svg", 1, "po-page-change-password-lock-image", "po-mb-3"], ["name", "currentPassword", "p-required", "", 3, "ngModel", "p-label", "ngModelChange"], [1, "po-text-center", "po-mb-sm-1", "po-mb-2"], ["class", "po-font-text-bold po-page-change-password-forgot-password", 3, "routerLink", 4, "ngIf"], ["class", "po-font-text-bold po-page-change-password-forgot-password", 3, "href", 4, "ngIf"], ["class", "po-font-text-bold po-page-change-password-forgot-password po-clickable", 3, "click", 4, "ngIf"], [1, "po-font-text-bold", "po-page-change-password-forgot-password", 3, "routerLink"], [1, "po-font-text-bold", "po-page-change-password-forgot-password", 3, "href"], [1, "po-font-text-bold", "po-page-change-password-forgot-password", "po-clickable", 3, "click"], [1, "po-md-6", "po-page-change-password-required-container"], [1, "po-page-change-password-required-list"], [1, "po-page-change-password-required-item"], [1, "po-mb-1", "po-font-text-bold", "po-page-change-password-required-title"], ["class", "po-page-change-password-required-item", 4, "ngFor", "ngForOf"], [1, "po-icon", "po-page-change-password-required-icon", 3, "p-icon"], [1, "po-page-change-password-required-text", "po-font-text"], [1, "po-sm-6", "po-mb-sm-1", 3, "p-label", "p-click"]], template: function PoPageChangePasswordComponent_Template(rf, ctx) { if (rf & 1) {
            i0.ɵɵelementStart(0, "div", 0, 1)(2, "div", 2)(3, "po-page-background", 3)(4, "div", 4)(5, "div", 5);
            i0.ɵɵtext(6);
            i0.ɵɵelementEnd();
            i0.ɵɵelementStart(7, "div", 6);
            i0.ɵɵtext(8);
            i0.ɵɵelementEnd()();
            i0.ɵɵelementStart(9, "form", null, 7)(11, "div", 8)(12, "div", 9);
            i0.ɵɵtemplate(13, PoPageChangePasswordComponent_div_13_Template, 2, 2, "div", 10)(14, PoPageChangePasswordComponent_div_14_Template, 4, 3, "div", 11);
            i0.ɵɵelementStart(15, "div")(16, "po-password", 12);
            i0.ɵɵtwoWayListener("ngModelChange", function PoPageChangePasswordComponent_Template_po_password_ngModelChange_16_listener($event) { i0.ɵɵtwoWayBindingSet(ctx.newPassword, $event) || (ctx.newPassword = $event); return $event; });
            i0.ɵɵlistener("p-change-model", function PoPageChangePasswordComponent_Template_po_password_p_change_model_16_listener() { return ctx.validatePassword(); });
            i0.ɵɵelementEnd()();
            i0.ɵɵelementStart(17, "div")(18, "po-password", 13);
            i0.ɵɵtwoWayListener("ngModelChange", function PoPageChangePasswordComponent_Template_po_password_ngModelChange_18_listener($event) { i0.ɵɵtwoWayBindingSet(ctx.confirmPassword, $event) || (ctx.confirmPassword = $event); return $event; });
            i0.ɵɵlistener("p-change-model", function PoPageChangePasswordComponent_Template_po_password_p_change_model_18_listener() { return ctx.validatePassword(); });
            i0.ɵɵelementEnd()()();
            i0.ɵɵtemplate(19, PoPageChangePasswordComponent_div_19_Template, 7, 2, "div", 14);
            i0.ɵɵelementEnd()();
            i0.ɵɵelement(20, "po-divider", 15);
            i0.ɵɵelementStart(21, "div", 16)(22, "div", 17);
            i0.ɵɵelement(23, "img", 18);
            i0.ɵɵelementEnd();
            i0.ɵɵelementStart(24, "div", 19)(25, "div", 20);
            i0.ɵɵtext(26);
            i0.ɵɵelementEnd();
            i0.ɵɵelementStart(27, "div", 21)(28, "div", 22);
            i0.ɵɵtext(29);
            i0.ɵɵelementEnd();
            i0.ɵɵelementStart(30, "div", 22);
            i0.ɵɵtext(31);
            i0.ɵɵelementEnd();
            i0.ɵɵelementStart(32, "div", 22);
            i0.ɵɵtext(33);
            i0.ɵɵelementEnd();
            i0.ɵɵelementStart(34, "div", 22);
            i0.ɵɵtext(35);
            i0.ɵɵelementEnd()()()();
            i0.ɵɵelementStart(36, "div", 23);
            i0.ɵɵelement(37, "po-divider", 24);
            i0.ɵɵtemplate(38, PoPageChangePasswordComponent_po_button_38_Template, 1, 1, "po-button", 25);
            i0.ɵɵelementStart(39, "po-button", 26);
            i0.ɵɵlistener("p-click", function PoPageChangePasswordComponent_Template_po_button_p_click_39_listener() { return ctx.onLoginSubmit(); });
            i0.ɵɵelementEnd()()()()();
            i0.ɵɵelementStart(40, "po-modal", 27)(41, "div", 28);
            i0.ɵɵelement(42, "img", 29);
            i0.ɵɵelementEnd()();
        } if (rf & 2) {
            const _r1 = i0.ɵɵreference(10);
            i0.ɵɵadvance(3);
            i0.ɵɵproperty("p-logo", ctx.logo)("p-secondary-logo", ctx.secondaryLogo);
            i0.ɵɵadvance(3);
            i0.ɵɵtextInterpolate(ctx.literals.createNewPassword);
            i0.ɵɵadvance(2);
            i0.ɵɵtextInterpolate1(" ", ctx.literals.createNewPasswordPhrase, " ");
            i0.ɵɵadvance(4);
            i0.ɵɵproperty("ngClass", i0.ɵɵpureFunction1(23, _c2, !ctx.showRequirements));
            i0.ɵɵadvance();
            i0.ɵɵproperty("ngIf", !ctx.hideCurrentPassword);
            i0.ɵɵadvance();
            i0.ɵɵproperty("ngIf", !ctx.hideCurrentPassword && ctx.recovery);
            i0.ɵɵadvance(2);
            i0.ɵɵtwoWayProperty("ngModel", ctx.newPassword);
            i0.ɵɵproperty("p-label", ctx.literals.newPassword);
            i0.ɵɵadvance(2);
            i0.ɵɵtwoWayProperty("ngModel", ctx.confirmPassword);
            i0.ɵɵproperty("p-label", ctx.literals.confirmPassword);
            i0.ɵɵadvance();
            i0.ɵɵproperty("ngIf", ctx.showRequirements);
            i0.ɵɵadvance(7);
            i0.ɵɵtextInterpolate(ctx.literals.safetyTips);
            i0.ɵɵadvance(3);
            i0.ɵɵtextInterpolate(ctx.literals.safetyTipsPhrase);
            i0.ɵɵadvance(2);
            i0.ɵɵtextInterpolate1("\u2022 ", ctx.literals.safetyTipsFirst, "");
            i0.ɵɵadvance(2);
            i0.ɵɵtextInterpolate1("\u2022 ", ctx.literals.safetyTipsSecond, "");
            i0.ɵɵadvance(2);
            i0.ɵɵtextInterpolate1("\u2022 ", ctx.literals.safetyTipsThird, "");
            i0.ɵɵadvance(3);
            i0.ɵɵproperty("ngIf", !ctx.hideCurrentPassword);
            i0.ɵɵadvance();
            i0.ɵɵproperty("ngClass", ctx.hideCurrentPassword ? "po-md-12" : "po-sm-6")("p-disabled", _r1.invalid)("p-label", ctx.literals.saveButton);
            i0.ɵɵadvance();
            i0.ɵɵproperty("p-primary-action", ctx.modalAction)("p-title", ctx.hideCurrentPassword ? ctx.literals.passwordSuccessfullyCreated : ctx.literals.passwordSuccessfullyUpdated);
        } }, dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm, i1.RouterLink, i3.PoButtonComponent, i3.PoContainerComponent, i3.PoDividerComponent, i3.PoPasswordComponent, i3.PoIconComponent, i3.PoModalComponent, i6.PoPageBackgroundComponent], encapsulation: 2 });
}
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoPageChangePasswordComponent, [{
        type: Component,
        args: [{ selector: 'po-page-change-password', template: "<div class=\"po-page-change-password-wrapper\" #pageChangePassword>\n  <div class=\"po-page-change-password-container\">\n    <po-page-background class=\"po-page-change-password\" [p-logo]=\"logo\" [p-secondary-logo]=\"secondaryLogo\">\n      <div class=\"po-page-blocked-user-header po-row\">\n        <div class=\"po-md-12\">{{ literals.createNewPassword }}</div>\n        <div class=\"po-md-12 po-text-center po-font-text\">\n          {{ literals.createNewPasswordPhrase }}\n        </div>\n      </div>\n\n      <form #passwordForm=\"ngForm\">\n        <div class=\"po-row po-mt-3 po-mt-sm-1\">\n          <div class=\"po-md-6\" [ngClass]=\"{ 'po-offset-md-3 po-offset-lg-3 po-offset-xl-3': !showRequirements }\">\n            <div *ngIf=\"!hideCurrentPassword\">\n              <po-password\n                name=\"currentPassword\"\n                [(ngModel)]=\"currentPassword\"\n                p-required\n                [p-label]=\"literals.currentPassword\"\n              >\n              </po-password>\n            </div>\n            <div *ngIf=\"!hideCurrentPassword && recovery\" class=\"po-text-center po-mb-sm-1 po-mb-2\">\n              <a\n                *ngIf=\"recoveryUrlType === 'internalLink'\"\n                class=\"po-font-text-bold po-page-change-password-forgot-password\"\n                [routerLink]=\"recovery\"\n              >\n                {{ literals.forgotPassword }}\n              </a>\n              <a\n                *ngIf=\"recoveryUrlType === 'externalLink'\"\n                class=\"po-font-text-bold po-page-change-password-forgot-password\"\n                [href]=\"recovery\"\n              >\n                {{ literals.forgotPassword }}\n              </a>\n              <a\n                *ngIf=\"!recoveryUrlType\"\n                class=\"po-font-text-bold po-page-change-password-forgot-password po-clickable\"\n                (click)=\"onForgotPasswordClick(recovery)\"\n              >\n                {{ literals.forgotPassword }}\n              </a>\n            </div>\n            <div>\n              <po-password\n                name=\"newPassword\"\n                [(ngModel)]=\"newPassword\"\n                p-required\n                [p-label]=\"literals.newPassword\"\n                (p-change-model)=\"validatePassword()\"\n              >\n              </po-password>\n            </div>\n            <div>\n              <po-password\n                name=\"confirmPassword\"\n                [(ngModel)]=\"confirmPassword\"\n                p-required\n                [p-label]=\"literals.confirmPassword\"\n                (p-change-model)=\"validatePassword()\"\n              >\n              </po-password>\n            </div>\n          </div>\n          <div *ngIf=\"showRequirements\" class=\"po-md-6 po-page-change-password-required-container\">\n            <po-container>\n              <ul class=\"po-page-change-password-required-list\">\n                <li class=\"po-page-change-password-required-item\">\n                  <p class=\"po-mb-1 po-font-text-bold po-page-change-password-required-title\">\n                    {{ literals?.requirements }}\n                  </p>\n                </li>\n                <li *ngFor=\"let requirement of requirements\" class=\"po-page-change-password-required-item\">\n                  <po-icon\n                    class=\"po-icon po-page-change-password-required-icon\"\n                    [p-icon]=\"\n                      validateRequirement(requirement)\n                        ? 'ICON_OK po-page-change-password-required-ok'\n                        : 'ICON_MINUS po-page-change-password-required-minus'\n                    \"\n                  >\n                  </po-icon>\n                  <p class=\"po-page-change-password-required-text po-font-text\">\n                    {{ requirement.requirement }}\n                  </p>\n                </li>\n              </ul>\n            </po-container>\n          </div>\n        </div>\n      </form>\n\n      <po-divider class=\"po-sm-12\"></po-divider>\n\n      <div class=\"po-page-change-password-tips po-row\">\n        <div class=\"po-md-2 po-mr-3\">\n          <img\n            class=\"po-page-change-password-lock-image po-mb-3\"\n            alt=\"Blocked user image\"\n            src=\"./assets/images/big-lock.svg\"\n          />\n        </div>\n        <div class=\"po-md-9 po-page-change-password-tips-text\">\n          <div class=\"po-font-text-bold po-pb-1\">{{ literals.safetyTips }}</div>\n          <div class=\"po-font-text-small\">\n            <div class=\"po-row po-pb-1\">{{ literals.safetyTipsPhrase }}</div>\n            <div class=\"po-row po-pb-1\">\u2022 {{ literals.safetyTipsFirst }}</div>\n            <div class=\"po-row po-pb-1\">\u2022 {{ literals.safetyTipsSecond }}</div>\n            <div class=\"po-row po-pb-1\">\u2022 {{ literals.safetyTipsThird }}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"po-page-change-password-buttons po-row\">\n        <po-divider class=\"po-sm-12 po-mobile-only\"></po-divider>\n\n        <po-button\n          *ngIf=\"!hideCurrentPassword\"\n          class=\"po-sm-6 po-mb-sm-1\"\n          [p-label]=\"literals.backButton\"\n          (p-click)=\"navigateTo(urlBack)\"\n        >\n        </po-button>\n\n        <po-button\n          [ngClass]=\"hideCurrentPassword ? 'po-md-12' : 'po-sm-6'\"\n          p-kind=\"primary\"\n          [p-disabled]=\"passwordForm.invalid\"\n          [p-label]=\"literals.saveButton\"\n          (p-click)=\"onLoginSubmit()\"\n        >\n        </po-button>\n      </div>\n    </po-page-background>\n  </div>\n</div>\n\n<po-modal\n  [p-primary-action]=\"modalAction\"\n  p-hide-close\n  p-size=\"auto\"\n  [p-title]=\"hideCurrentPassword ? literals.passwordSuccessfullyCreated : literals.passwordSuccessfullyUpdated\"\n>\n  <div class=\"po-text-center\">\n    <img\n      alt=\"Blocked user image\"\n      class=\"po-page-change-password-lock-image po-mb-3\"\n      src=\"./assets/images/success.svg\"\n    />\n  </div>\n</po-modal>\n" }]
    }], () => [{ type: i1.ActivatedRoute }, { type: i1.ActivatedRoute }, { type: i1.Router }, { type: i2.PoPageChangePasswordService }, { type: i3.PoComponentInjectorService }, { type: i3.PoLanguageService }, { type: i0.ViewContainerRef }], { modal: [{
            type: ViewChild,
            args: [PoModalComponent, { static: true }]
        }], pageChangePassword: [{
            type: ViewChild,
            args: ['pageChangePassword', { read: ViewContainerRef, static: true }]
        }], passwordForm: [{
            type: ViewChild,
            args: ['passwordForm', { read: NgForm, static: true }]
        }] }); })();
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassDebugInfo(PoPageChangePasswordComponent, { className: "PoPageChangePasswordComponent", filePath: "lib/components/po-page-change-password/po-page-change-password.component.ts", lineNumber: 60 }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGVtcGxhdGVzL3NyYy9saWIvY29tcG9uZW50cy9wby1wYWdlLWNoYW5nZS1wYXNzd29yZC9wby1wYWdlLWNoYW5nZS1wYXNzd29yZC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy90ZW1wbGF0ZXMvc3JjL2xpYi9jb21wb25lbnRzL3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkL3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBaUIsU0FBUyxFQUFtQyxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdkgsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBS3hDLE9BQU8sRUFJTCxnQkFBZ0IsRUFDaEIsZUFBZSxFQUNoQixNQUFNLHNCQUFzQixDQUFDO0FBRTlCLE9BQU8sRUFBRSxjQUFjLEVBQUUsUUFBUSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFNUQsT0FBTyxFQUFFLGdDQUFnQyxFQUFFLE1BQU0sb0VBQW9FLENBQUM7QUFDdEgsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sMEVBQTBFLENBQUM7QUFFdkgsT0FBTyxFQUFFLGlDQUFpQyxFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFDN0YsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0sa0RBQWtELENBQUM7Ozs7Ozs7Ozs7OztJQ1BwRiwyQkFBa0Msc0JBQUE7SUFHOUIsa1VBQTZCO0lBSS9CLGlCQUFjLEVBQUE7OztJQUpaLGNBQTZCO0lBQTdCLHNEQUE2QjtJQUU3Qix5REFBb0M7OztJQUt0Qyw2QkFJQztJQUNDLFlBQ0Y7SUFBQSxpQkFBSTs7O0lBSEYsNENBQXVCO0lBRXZC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OztZQXJKZ0QsZUFBZTtZQUFmLGlDQUFlLHVDQUFBO1lBRXpDLGVBQWdDO1lBQWhDLG9EQUFnQztZQUVwRCxlQUNGO1lBREUscUVBQ0Y7WUFLdUIsZUFBaUY7WUFBakYsNEVBQWlGO1lBQzlGLGNBQTBCO1lBQTFCLCtDQUEwQjtZQVMxQixjQUFzQztZQUF0QywrREFBc0M7WUEwQnhDLGVBQXlCO1lBQXpCLCtDQUF5QjtZQUV6QixrREFBZ0M7WUFRaEMsZUFBNkI7WUFBN0IsbURBQTZCO1lBRTdCLHNEQUFvQztZQU1wQyxjQUFzQjtZQUF0QiwyQ0FBc0I7WUF1Q1csZUFBeUI7WUFBekIsNkNBQXlCO1lBRWxDLGVBQStCO1lBQS9CLG1EQUErQjtZQUMvQixlQUFnQztZQUFoQyxrRUFBZ0M7WUFDaEMsZUFBaUM7WUFBakMsbUVBQWlDO1lBQ2pDLGVBQWdDO1lBQWhDLGtFQUFnQztZQVM3RCxlQUEwQjtZQUExQiwrQ0FBMEI7WUFRM0IsY0FBd0Q7WUFBeEQsMEVBQXdELDJCQUFBLG9DQUFBO1lBYWhFLGNBQWdDO1lBQWhDLGtEQUFnQywwSEFBQTs7O2lGRGpGckIsNkJBQTZCO2NBSnpDLFNBQVM7MkJBQ0UseUJBQXlCO21QQU9ZLEtBQUs7a0JBQW5ELFNBQVM7bUJBQUMsZ0JBQWdCLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO1lBQzhCLGtCQUFrQjtrQkFBNUYsU0FBUzttQkFBQyxvQkFBb0IsRUFBRSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO1lBQ2QsWUFBWTtrQkFBdEUsU0FBUzttQkFBQyxjQUFjLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7O2tGQU45Qyw2QkFBNkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZnRlclZpZXdJbml0LCBDb21wb25lbnQsIENvbXBvbmVudFJlZiwgT25EZXN0cm95LCBPbkluaXQsIFZpZXdDaGlsZCwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTmdGb3JtIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGUsIFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5cbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQge1xuICBQb0NvbXBvbmVudEluamVjdG9yU2VydmljZSxcbiAgUG9MYW5ndWFnZVNlcnZpY2UsXG4gIFBvTW9kYWxBY3Rpb24sXG4gIFBvTW9kYWxDb21wb25lbnQsXG4gIHBvTG9jYWxlRGVmYXVsdFxufSBmcm9tICdAcG8tdWkvbmctY29tcG9uZW50cyc7XG5cbmltcG9ydCB7IGlzRXh0ZXJuYWxMaW5rLCBpc1R5cGVvZiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xuXG5pbXBvcnQgeyBQb01vZGFsUGFzc3dvcmRSZWNvdmVyeUNvbXBvbmVudCB9IGZyb20gJy4uL3BvLW1vZGFsLXBhc3N3b3JkLXJlY292ZXJ5L3BvLW1vZGFsLXBhc3N3b3JkLXJlY292ZXJ5LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb01vZGFsUGFzc3dvcmRSZWNvdmVyeVR5cGUgfSBmcm9tICcuLi9wby1tb2RhbC1wYXNzd29yZC1yZWNvdmVyeS9lbnVtcy9wby1tb2RhbC1wYXNzd29yZC1yZWNvdmVyeS10eXBlLmVudW0nO1xuaW1wb3J0IHsgUG9QYWdlQ2hhbmdlUGFzc3dvcmQgfSBmcm9tICcuL2ludGVyZmFjZXMvcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQuaW50ZXJmYWNlJztcbmltcG9ydCB7IFBvUGFnZUNoYW5nZVBhc3N3b3JkQmFzZUNvbXBvbmVudCB9IGZyb20gJy4vcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgcG9QYWdlQ2hhbmdlUGFzc3dvcmRMaXRlcmFscyB9IGZyb20gJy4vbGl0ZXJhbHMvaTE4bi9wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1saXRlcmFscyc7XG5pbXBvcnQgeyBQb1BhZ2VDaGFuZ2VQYXNzd29yZFJlY292ZXJ5IH0gZnJvbSAnLi9pbnRlcmZhY2VzL3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlY292ZXJ5LmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb1BhZ2VDaGFuZ2VQYXNzd29yZFJlcXVpcmVtZW50IH0gZnJvbSAnLi9pbnRlcmZhY2VzL3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlcXVpcmVtZW50LmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb1BhZ2VDaGFuZ2VQYXNzd29yZFNlcnZpY2UgfSBmcm9tICcuL3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLnNlcnZpY2UnO1xuXG4vKipcbiAqIEBkb2NzRXh0ZW5kcyBQb1BhZ2VDaGFuZ2VQYXNzd29yZEJhc2VDb21wb25lbnRcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1iYXNpY1wiIHRpdGxlPVwiUE8gUGFnZSBDaGFuZ2UgUGFzc3dvcmQgQmFzaWNcIj5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWJhc2ljL3NhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1iYXNpYy5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1iYXNpYy9zYW1wbGUtcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtYmFzaWMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtbGFic1wiIHRpdGxlPVwiUE8gUGFnZSBDaGFuZ2UgUGFzc3dvcmQgTGFic1wiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtbGFicy9zYW1wbGUtcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtbGFicy5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1sYWJzL3NhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1sYWJzLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLW1vZGlmeVwiIHRpdGxlPVwiUE8gUGFnZSBDaGFuZ2UgUGFzc3dvcmQgTW9kaWZ5XCI+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1tb2RpZnkvc2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLW1vZGlmeS5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1tb2RpZnkvc2FtcGxlLXBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLW1vZGlmeS5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1jcmVhdGVcIiB0aXRsZT1cIlBPIFBhZ2UgQ2hhbmdlIFBhc3N3b3JkIENyZWF0ZVwiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtY3JlYXRlL3NhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1jcmVhdGUuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtY3JlYXRlL3NhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1jcmVhdGUuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtcmVxdWVzdFwiIHRpdGxlPVwiUE8gUGFnZSBDaGFuZ2UgUGFzc3dvcmQgUmVxdWVzdFwiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtcmVxdWVzdC9zYW1wbGUtcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtcmVxdWVzdC5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1ZXN0L3NhbXBsZS1wby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1ZXN0LmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBQb1BhZ2VDaGFuZ2VQYXNzd29yZENvbXBvbmVudFxuICBleHRlbmRzIFBvUGFnZUNoYW5nZVBhc3N3b3JkQmFzZUNvbXBvbmVudFxuICBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSwgT25Jbml0XG57XG4gIEBWaWV3Q2hpbGQoUG9Nb2RhbENvbXBvbmVudCwgeyBzdGF0aWM6IHRydWUgfSkgbW9kYWw6IFBvTW9kYWxDb21wb25lbnQ7XG4gIEBWaWV3Q2hpbGQoJ3BhZ2VDaGFuZ2VQYXNzd29yZCcsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH0pIHBhZ2VDaGFuZ2VQYXNzd29yZDogVmlld0NvbnRhaW5lclJlZjtcbiAgQFZpZXdDaGlsZCgncGFzc3dvcmRGb3JtJywgeyByZWFkOiBOZ0Zvcm0sIHN0YXRpYzogdHJ1ZSB9KSBwYXNzd29yZEZvcm06IE5nRm9ybTtcblxuICBsaXRlcmFsczoge1xuICAgIGJhY2tCdXR0b246IHN0cmluZztcbiAgICBjb25maXJtUGFzc3dvcmQ6IHN0cmluZztcbiAgICBjcmVhdGVOZXdQYXNzd29yZDogc3RyaW5nO1xuICAgIGNyZWF0ZU5ld1Bhc3N3b3JkUGhyYXNlOiBzdHJpbmc7XG4gICAgY3VycmVudFBhc3N3b3JkOiBzdHJpbmc7XG4gICAgZW50ZXJTeXN0ZW1CdXR0b246IHN0cmluZztcbiAgICBmb3Jnb3RQYXNzd29yZDogc3RyaW5nO1xuICAgIG5ld1Bhc3N3b3JkOiBzdHJpbmc7XG4gICAgcGFzc3dvcmRTdWNjZXNzZnVsbHlDcmVhdGVkOiBzdHJpbmc7XG4gICAgcGFzc3dvcmRTdWNjZXNzZnVsbHlVcGRhdGVkOiBzdHJpbmc7XG4gICAgcmVxdWlyZW1lbnRzOiBzdHJpbmc7XG4gICAgc2FmZXR5VGlwczogc3RyaW5nO1xuICAgIHNhZmV0eVRpcHNQaHJhc2U6IHN0cmluZztcbiAgICBzYWZldHlUaXBzRmlyc3Q6IHN0cmluZztcbiAgICBzYWZldHlUaXBzU2Vjb25kOiBzdHJpbmc7XG4gICAgc2FmZXR5VGlwc1RoaXJkOiBzdHJpbmc7XG4gICAgc2F2ZUJ1dHRvbjogc3RyaW5nO1xuICB9ID0gcG9QYWdlQ2hhbmdlUGFzc3dvcmRMaXRlcmFsc1twb0xvY2FsZURlZmF1bHRdO1xuXG4gIG1vZGFsQWN0aW9uOiBQb01vZGFsQWN0aW9uID0ge1xuICAgIGFjdGlvbjogdGhpcy5uYXZpZ2F0ZVRvLmJpbmQodGhpcywgdGhpcy51cmxIb21lKSxcbiAgICBsYWJlbDogdGhpcy5saXRlcmFscy5lbnRlclN5c3RlbUJ1dHRvblxuICB9O1xuXG4gIHByaXZhdGUgbmV3UGFzc3dvcmRTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcbiAgcHJpdmF0ZSBjb21wb25lbnRSZWY6IENvbXBvbmVudFJlZjxhbnk+ID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGFjdGl2YXRlZFJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICBwcml2YXRlIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICBwcml2YXRlIHJvdXRlcjogUm91dGVyLFxuICAgIHByaXZhdGUgc2VydmljZTogUG9QYWdlQ2hhbmdlUGFzc3dvcmRTZXJ2aWNlLFxuICAgIHByaXZhdGUgcG9Db21wb25lbnRJbmplY3RvcjogUG9Db21wb25lbnRJbmplY3RvclNlcnZpY2UsXG4gICAgbGFuZ3VhZ2VTZXJ2aWNlOiBQb0xhbmd1YWdlU2VydmljZSxcbiAgICB2aWV3UmVmOiBWaWV3Q29udGFpbmVyUmVmXG4gICkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBjb25zdCBsYW5ndWFnZSA9IGxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCk7XG5cbiAgICB0aGlzLmxpdGVyYWxzID0ge1xuICAgICAgLi4ucG9QYWdlQ2hhbmdlUGFzc3dvcmRMaXRlcmFsc1twb0xvY2FsZURlZmF1bHRdLFxuICAgICAgLi4ucG9QYWdlQ2hhbmdlUGFzc3dvcmRMaXRlcmFsc1tsYW5ndWFnZV1cbiAgICB9O1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIGlmICh0aGlzLnVybE5ld1Bhc3N3b3JkKSB7XG4gICAgICB0aGlzLnN1YnNjcmliZVRvVG9rZW5QYXJhbWV0ZXIoKTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5uZXdQYXNzd29yZFN1YnNjcmlwdGlvbikge1xuICAgICAgdGhpcy5uZXdQYXNzd29yZFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuY2hlY2tpbmdGb3JSb3V0ZU1ldGFkYXRhKHRoaXMuYWN0aXZhdGVkUm91dGUuc25hcHNob3QuZGF0YSk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvKHVybDogc3RyaW5nKSB7XG4gICAgaXNFeHRlcm5hbExpbmsodXJsKSA/IHdpbmRvdy5vcGVuKHVybCkgOiB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsIHx8ICcvJ10pO1xuICB9XG5cbiAgb25Gb3Jnb3RQYXNzd29yZENsaWNrKHJlY292ZXJ5KTogdm9pZCB7XG4gICAgaWYgKGlzVHlwZW9mKHJlY292ZXJ5LCAnZnVuY3Rpb24nKSkge1xuICAgICAgcmVjb3ZlcnkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jcmVhdGVNb2RhbFBhc3N3b3JkUmVjb3ZlcnlDb21wb25lbnQocmVjb3ZlcnkpO1xuICAgIH1cbiAgfVxuXG4gIG9uTG9naW5TdWJtaXQoKTogdm9pZCB7XG4gICAgY29uc3QgZm9ybSA9IHRoaXMuZ2V0TG9naW5Gb3JtKCk7XG5cbiAgICBpZiAodGhpcy51cmxOZXdQYXNzd29yZCkge1xuICAgICAgdGhpcy5wb3N0VXJsTmV3UGFzc3dvcmQoZm9ybSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN1Ym1pdCAmJiB0aGlzLnN1Ym1pdC5vYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmVtaXRTdWJtaXQoZm9ybSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFicmUgdW1hIG1vZGFsIGRlIGNvbmZpcm1hw6fDo28gY29tIHRleHRvLCBpbWFnZW0gZSBib3TDo28gcXVlIHJlZGlyZWNpb25hIHBhcmEgbyBsaW5rIGRlZmluaWRvIG5hIHByb3ByaWVkYWRlIGBwLXVybC1ob21lYFx1MDAxY1xuICAgKi9cbiAgb3BlbkNvbmZpcm1hdGlvbigpIHtcbiAgICB0aGlzLm1vZGFsLm9wZW4oKTtcbiAgfVxuXG4gIHZhbGlkYXRlUGFzc3dvcmQoKSB7XG4gICAgY29uc3QgY29udHJvbHMgPSB0aGlzLnBhc3N3b3JkRm9ybS5mb3JtLmNvbnRyb2xzO1xuICAgIGNvbnN0IGNvbnRyb2xDb25maXJtUGFzc3dvcmQgPSBjb250cm9sc1snY29uZmlybVBhc3N3b3JkJ107XG4gICAgY29uc3QgY29udHJvbE5ld1Bhc3N3b3JkID0gY29udHJvbHNbJ25ld1Bhc3N3b3JkJ107XG5cbiAgICBpZiAoIXRoaXMubmV3UGFzc3dvcmQpIHtcbiAgICAgIHRoaXMuc2V0Rm9ybUVycm9ycyh7ICdyZXF1aXJlZCc6IHRydWUgfSwgW2NvbnRyb2xOZXdQYXNzd29yZF0pO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICB0aGlzLnNldEZvcm1FcnJvcnMoeyAncmVxdWlyZWQnOiB0cnVlIH0sIFtjb250cm9sQ29uZmlybVBhc3N3b3JkXSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm5ld1Bhc3N3b3JkICYmIHRoaXMuY29uZmlybVBhc3N3b3JkICYmIHRoaXMubmV3UGFzc3dvcmQgIT09IHRoaXMuY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICB0aGlzLnNldEZvcm1FcnJvcnMoeyAnZXF1YWxQYXNzd29yZCc6IHRydWUgfSwgW2NvbnRyb2xOZXdQYXNzd29yZCwgY29udHJvbENvbmZpcm1QYXNzd29yZF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldEZvcm1FcnJvcnMobnVsbCwgW2NvbnRyb2xDb25maXJtUGFzc3dvcmQsIGNvbnRyb2xOZXdQYXNzd29yZF0pO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMucmVxdWlyZW1lbnRzLmxlbmd0aCAmJlxuICAgICAgdGhpcy5yZXF1aXJlbWVudHMuZmluZChyZXF1aXJlbWVudCA9PiB0aGlzLnZhbGlkYXRlUmVxdWlyZW1lbnQocmVxdWlyZW1lbnQpID09PSBmYWxzZSlcbiAgICApIHtcbiAgICAgIHRoaXMuc2V0Rm9ybUVycm9ycyh7ICdyZXF1aXJlbWVudCc6IHRydWUgfSwgW2NvbnRyb2xOZXdQYXNzd29yZF0pO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlUmVxdWlyZW1lbnQocmVxdWlyZW1lbnQ6IFBvUGFnZUNoYW5nZVBhc3N3b3JkUmVxdWlyZW1lbnQpIHtcbiAgICByZXR1cm4gdHlwZW9mIHJlcXVpcmVtZW50LnN0YXR1cyA9PT0gJ2Z1bmN0aW9uJyA/IHJlcXVpcmVtZW50LnN0YXR1cyh0aGlzLm5ld1Bhc3N3b3JkKSA6IHJlcXVpcmVtZW50LnN0YXR1cztcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tpbmdGb3JNZXRhZGF0YVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7XG4gICAgICByZXR1cm4gb2JqZWN0W3Byb3BlcnR5XTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNoZWNraW5nRm9yUm91dGVNZXRhZGF0YShkYXRhKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdGhpcy51cmxOZXdQYXNzd29yZCA9IHRoaXMuY2hlY2tpbmdGb3JNZXRhZGF0YVByb3BlcnR5KGRhdGEsICdzZXJ2aWNlQXBpJykgfHwgdGhpcy51cmxOZXdQYXNzd29yZDtcbiAgICAgIHRoaXMucmVjb3ZlcnkgPSB0aGlzLmNoZWNraW5nRm9yTWV0YWRhdGFQcm9wZXJ0eShkYXRhLCAncmVjb3ZlcnknKSB8fCB0aGlzLnJlY292ZXJ5O1xuICAgICAgdGhpcy5oaWRlQ3VycmVudFBhc3N3b3JkID1cbiAgICAgICAgdGhpcy5jaGVja2luZ0Zvck1ldGFkYXRhUHJvcGVydHkoZGF0YSwgJ2hpZGVDdXJyZW50UGFzc3dvcmQnKSB8fCB0aGlzLmhpZGVDdXJyZW50UGFzc3dvcmQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVNb2RhbFBhc3N3b3JkUmVjb3ZlcnlDb21wb25lbnQocmVjb3Zlcnk6IFBvUGFnZUNoYW5nZVBhc3N3b3JkUmVjb3ZlcnkpIHtcbiAgICBpZiAodGhpcy5jb21wb25lbnRSZWYpIHtcbiAgICAgIHRoaXMucG9Db21wb25lbnRJbmplY3Rvci5kZXN0cm95Q29tcG9uZW50SW5BcHBsaWNhdGlvbih0aGlzLmNvbXBvbmVudFJlZik7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb25lbnRSZWYgPSB0aGlzLnBvQ29tcG9uZW50SW5qZWN0b3IuY3JlYXRlQ29tcG9uZW50SW5BcHBsaWNhdGlvbihQb01vZGFsUGFzc3dvcmRSZWNvdmVyeUNvbXBvbmVudCk7XG4gICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UucmVjb3ZlcnkgPSByZWNvdmVyeS51cmw7XG4gICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UuY29udGFjdEVtYWlsID0gcmVjb3ZlcnkuY29udGFjdE1haWw7XG4gICAgdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UucGhvbmVNYXNrID0gcmVjb3ZlcnkucGhvbmVNYXNrO1xuICAgIHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlLnR5cGUgPSByZWNvdmVyeS50eXBlIHx8IFBvTW9kYWxQYXNzd29yZFJlY292ZXJ5VHlwZS5FbWFpbDtcbiAgICB0aGlzLmNvbXBvbmVudFJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZS5vcGVuKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGVtaXRTdWJtaXQoZm9ybTogUG9QYWdlQ2hhbmdlUGFzc3dvcmQpIHtcbiAgICB0aGlzLnN1Ym1pdC5lbWl0KGZvcm0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRMb2dpbkZvcm0oKTogUG9QYWdlQ2hhbmdlUGFzc3dvcmQge1xuICAgIHJldHVybiB7XG4gICAgICBjdXJyZW50UGFzc3dvcmQ6IHRoaXMuY3VycmVudFBhc3N3b3JkLFxuICAgICAgbmV3UGFzc3dvcmQ6IHRoaXMubmV3UGFzc3dvcmRcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBwb3N0VXJsTmV3UGFzc3dvcmQoZm9ybTogUG9QYWdlQ2hhbmdlUGFzc3dvcmQpIHtcbiAgICBmb3JtWyd0b2tlbiddID0gdGhpcy50b2tlbjtcblxuICAgIHRoaXMuc2VydmljZS5wb3N0KHRoaXMudXJsTmV3UGFzc3dvcmQsIGZvcm0pLnN1YnNjcmliZShyZXNwb25zZSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgdGhpcy5vcGVuQ29uZmlybWF0aW9uKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHNldEZvcm1FcnJvcnMoZXJyb3I6IGFueSwgY29udHJvbHM/OiBBcnJheTxhbnk+KSB7XG4gICAgY29udHJvbHMuZm9yRWFjaChjb250cm9sID0+IHtcbiAgICAgIGNvbnRyb2wuc2V0RXJyb3JzKGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc3Vic2NyaWJlVG9Ub2tlblBhcmFtZXRlcigpIHtcbiAgICB0aGlzLnJvdXRlLnF1ZXJ5UGFyYW1zLnN1YnNjcmliZShwYXJhbXMgPT4ge1xuICAgICAgY29uc3QgdG9rZW4gPSBwYXJhbXNbJ3Rva2VuJ107XG5cbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZC13cmFwcGVyXCIgI3BhZ2VDaGFuZ2VQYXNzd29yZD5cbiAgPGRpdiBjbGFzcz1cInBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWNvbnRhaW5lclwiPlxuICAgIDxwby1wYWdlLWJhY2tncm91bmQgY2xhc3M9XCJwby1wYWdlLWNoYW5nZS1wYXNzd29yZFwiIFtwLWxvZ29dPVwibG9nb1wiIFtwLXNlY29uZGFyeS1sb2dvXT1cInNlY29uZGFyeUxvZ29cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWJsb2NrZWQtdXNlci1oZWFkZXIgcG8tcm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwby1tZC0xMlwiPnt7IGxpdGVyYWxzLmNyZWF0ZU5ld1Bhc3N3b3JkIH19PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwby1tZC0xMiBwby10ZXh0LWNlbnRlciBwby1mb250LXRleHRcIj5cbiAgICAgICAgICB7eyBsaXRlcmFscy5jcmVhdGVOZXdQYXNzd29yZFBocmFzZSB9fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8Zm9ybSAjcGFzc3dvcmRGb3JtPVwibmdGb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwby1yb3cgcG8tbXQtMyBwby1tdC1zbS0xXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInBvLW1kLTZcIiBbbmdDbGFzc109XCJ7ICdwby1vZmZzZXQtbWQtMyBwby1vZmZzZXQtbGctMyBwby1vZmZzZXQteGwtMyc6ICFzaG93UmVxdWlyZW1lbnRzIH1cIj5cbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCIhaGlkZUN1cnJlbnRQYXNzd29yZFwiPlxuICAgICAgICAgICAgICA8cG8tcGFzc3dvcmRcbiAgICAgICAgICAgICAgICBuYW1lPVwiY3VycmVudFBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBbKG5nTW9kZWwpXT1cImN1cnJlbnRQYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgcC1yZXF1aXJlZFxuICAgICAgICAgICAgICAgIFtwLWxhYmVsXT1cImxpdGVyYWxzLmN1cnJlbnRQYXNzd29yZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPC9wby1wYXNzd29yZD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiFoaWRlQ3VycmVudFBhc3N3b3JkICYmIHJlY292ZXJ5XCIgY2xhc3M9XCJwby10ZXh0LWNlbnRlciBwby1tYi1zbS0xIHBvLW1iLTJcIj5cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAqbmdJZj1cInJlY292ZXJ5VXJsVHlwZSA9PT0gJ2ludGVybmFsTGluaydcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwicG8tZm9udC10ZXh0LWJvbGQgcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtZm9yZ290LXBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBbcm91dGVyTGlua109XCJyZWNvdmVyeVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7eyBsaXRlcmFscy5mb3Jnb3RQYXNzd29yZCB9fVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJyZWNvdmVyeVVybFR5cGUgPT09ICdleHRlcm5hbExpbmsnXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInBvLWZvbnQtdGV4dC1ib2xkIHBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWZvcmdvdC1wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgW2hyZWZdPVwicmVjb3ZlcnlcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3sgbGl0ZXJhbHMuZm9yZ290UGFzc3dvcmQgfX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICpuZ0lmPVwiIXJlY292ZXJ5VXJsVHlwZVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJwby1mb250LXRleHQtYm9sZCBwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1mb3Jnb3QtcGFzc3dvcmQgcG8tY2xpY2thYmxlXCJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwib25Gb3Jnb3RQYXNzd29yZENsaWNrKHJlY292ZXJ5KVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7eyBsaXRlcmFscy5mb3Jnb3RQYXNzd29yZCB9fVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwby1wYXNzd29yZFxuICAgICAgICAgICAgICAgIG5hbWU9XCJuZXdQYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJuZXdQYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgcC1yZXF1aXJlZFxuICAgICAgICAgICAgICAgIFtwLWxhYmVsXT1cImxpdGVyYWxzLm5ld1Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAocC1jaGFuZ2UtbW9kZWwpPVwidmFsaWRhdGVQYXNzd29yZCgpXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8L3BvLXBhc3N3b3JkPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cG8tcGFzc3dvcmRcbiAgICAgICAgICAgICAgICBuYW1lPVwiY29uZmlybVBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBbKG5nTW9kZWwpXT1cImNvbmZpcm1QYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgcC1yZXF1aXJlZFxuICAgICAgICAgICAgICAgIFtwLWxhYmVsXT1cImxpdGVyYWxzLmNvbmZpcm1QYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgKHAtY2hhbmdlLW1vZGVsKT1cInZhbGlkYXRlUGFzc3dvcmQoKVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPC9wby1wYXNzd29yZD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgKm5nSWY9XCJzaG93UmVxdWlyZW1lbnRzXCIgY2xhc3M9XCJwby1tZC02IHBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlcXVpcmVkLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPHBvLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtcmVxdWlyZWQtbGlzdFwiPlxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlcXVpcmVkLWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicG8tbWItMSBwby1mb250LXRleHQtYm9sZCBwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1aXJlZC10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICB7eyBsaXRlcmFscz8ucmVxdWlyZW1lbnRzIH19XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IHJlcXVpcmVtZW50IG9mIHJlcXVpcmVtZW50c1wiIGNsYXNzPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtcmVxdWlyZWQtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgPHBvLWljb25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwby1pY29uIHBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlcXVpcmVkLWljb25cIlxuICAgICAgICAgICAgICAgICAgICBbcC1pY29uXT1cIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlUmVxdWlyZW1lbnQocmVxdWlyZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdJQ09OX09LIHBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLXJlcXVpcmVkLW9rJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnSUNPTl9NSU5VUyBwby1wYWdlLWNoYW5nZS1wYXNzd29yZC1yZXF1aXJlZC1taW51cydcbiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDwvcG8taWNvbj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtcmVxdWlyZWQtdGV4dCBwby1mb250LXRleHRcIj5cbiAgICAgICAgICAgICAgICAgICAge3sgcmVxdWlyZW1lbnQucmVxdWlyZW1lbnQgfX1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9wby1jb250YWluZXI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuXG4gICAgICA8cG8tZGl2aWRlciBjbGFzcz1cInBvLXNtLTEyXCI+PC9wby1kaXZpZGVyPlxuXG4gICAgICA8ZGl2IGNsYXNzPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtdGlwcyBwby1yb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBvLW1kLTIgcG8tbXItM1wiPlxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIGNsYXNzPVwicG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtbG9jay1pbWFnZSBwby1tYi0zXCJcbiAgICAgICAgICAgIGFsdD1cIkJsb2NrZWQgdXNlciBpbWFnZVwiXG4gICAgICAgICAgICBzcmM9XCIuL2Fzc2V0cy9pbWFnZXMvYmlnLWxvY2suc3ZnXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBvLW1kLTkgcG8tcGFnZS1jaGFuZ2UtcGFzc3dvcmQtdGlwcy10ZXh0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInBvLWZvbnQtdGV4dC1ib2xkIHBvLXBiLTFcIj57eyBsaXRlcmFscy5zYWZldHlUaXBzIH19PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInBvLWZvbnQtdGV4dC1zbWFsbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvLXJvdyBwby1wYi0xXCI+e3sgbGl0ZXJhbHMuc2FmZXR5VGlwc1BocmFzZSB9fTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvLXJvdyBwby1wYi0xXCI+4oCiIHt7IGxpdGVyYWxzLnNhZmV0eVRpcHNGaXJzdCB9fTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvLXJvdyBwby1wYi0xXCI+4oCiIHt7IGxpdGVyYWxzLnNhZmV0eVRpcHNTZWNvbmQgfX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwby1yb3cgcG8tcGItMVwiPuKAoiB7eyBsaXRlcmFscy5zYWZldHlUaXBzVGhpcmQgfX08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWJ1dHRvbnMgcG8tcm93XCI+XG4gICAgICAgIDxwby1kaXZpZGVyIGNsYXNzPVwicG8tc20tMTIgcG8tbW9iaWxlLW9ubHlcIj48L3BvLWRpdmlkZXI+XG5cbiAgICAgICAgPHBvLWJ1dHRvblxuICAgICAgICAgICpuZ0lmPVwiIWhpZGVDdXJyZW50UGFzc3dvcmRcIlxuICAgICAgICAgIGNsYXNzPVwicG8tc20tNiBwby1tYi1zbS0xXCJcbiAgICAgICAgICBbcC1sYWJlbF09XCJsaXRlcmFscy5iYWNrQnV0dG9uXCJcbiAgICAgICAgICAocC1jbGljayk9XCJuYXZpZ2F0ZVRvKHVybEJhY2spXCJcbiAgICAgICAgPlxuICAgICAgICA8L3BvLWJ1dHRvbj5cblxuICAgICAgICA8cG8tYnV0dG9uXG4gICAgICAgICAgW25nQ2xhc3NdPVwiaGlkZUN1cnJlbnRQYXNzd29yZCA/ICdwby1tZC0xMicgOiAncG8tc20tNidcIlxuICAgICAgICAgIHAta2luZD1cInByaW1hcnlcIlxuICAgICAgICAgIFtwLWRpc2FibGVkXT1cInBhc3N3b3JkRm9ybS5pbnZhbGlkXCJcbiAgICAgICAgICBbcC1sYWJlbF09XCJsaXRlcmFscy5zYXZlQnV0dG9uXCJcbiAgICAgICAgICAocC1jbGljayk9XCJvbkxvZ2luU3VibWl0KClcIlxuICAgICAgICA+XG4gICAgICAgIDwvcG8tYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9wby1wYWdlLWJhY2tncm91bmQ+XG4gIDwvZGl2PlxuPC9kaXY+XG5cbjxwby1tb2RhbFxuICBbcC1wcmltYXJ5LWFjdGlvbl09XCJtb2RhbEFjdGlvblwiXG4gIHAtaGlkZS1jbG9zZVxuICBwLXNpemU9XCJhdXRvXCJcbiAgW3AtdGl0bGVdPVwiaGlkZUN1cnJlbnRQYXNzd29yZCA/IGxpdGVyYWxzLnBhc3N3b3JkU3VjY2Vzc2Z1bGx5Q3JlYXRlZCA6IGxpdGVyYWxzLnBhc3N3b3JkU3VjY2Vzc2Z1bGx5VXBkYXRlZFwiXG4+XG4gIDxkaXYgY2xhc3M9XCJwby10ZXh0LWNlbnRlclwiPlxuICAgIDxpbWdcbiAgICAgIGFsdD1cIkJsb2NrZWQgdXNlciBpbWFnZVwiXG4gICAgICBjbGFzcz1cInBvLXBhZ2UtY2hhbmdlLXBhc3N3b3JkLWxvY2staW1hZ2UgcG8tbWItM1wiXG4gICAgICBzcmM9XCIuL2Fzc2V0cy9pbWFnZXMvc3VjY2Vzcy5zdmdcIlxuICAgIC8+XG4gIDwvZGl2PlxuPC9wby1tb2RhbD5cbiJdfQ==