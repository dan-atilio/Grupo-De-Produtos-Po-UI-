import { Input, Directive } from '@angular/core';
import { PoPageBlockedUserReason } from './enums/po-page-blocked-user-reason.enum';
import * as i0 from "@angular/core";
const PoPageBlockedUserReasonDefault = PoPageBlockedUserReason.None;
const PoPageBlockedUserParamsDefault = { attempts: 5, days: 90, hours: 24 };
/**
 * @description
 *
 * O componente `po-page-blocked-user` é utilizado como template para tela de bloqueio de usuário.
 * É possível definir entre três tipos de telas para alertar o usuário sobre um eventual bloqueio de login.
 *
 * Cada modelo de bloqueio possui uma imagem e texto adequados à situação.
 * Os textos das telas são pré-definidos e imutáveis, porém,
 * é possível estipular parâmetros como dias, horas e tentativas de acesso esgotadas.
 *
 * Por fim, há propriedades para adição de telefone e/ou email para contato e também a definição para a url de retorno.
 *
 * Para que as imagens sejam exibidas corretamente, é necessário incluir o caminho delas ao projeto. Para isso, edite
 * o *assets* no arquivo **angular.json** da aplicação na seguinte ordem:
 * ```
 *   "assets": [
 *     "src/assets",
 *     "src/favicon.ico",
 *     {
 *       "glob": "**\/*",
 *       "input": "node_modules/@po-ui/style/images",
 *       "output": "assets/images"
 *     }
 *   ]
 * ```
 *
 * _______________
 *
 * #### Praticidade
 * O `po-page-blocked-user`, assim como suas propriedades, pode também ser transmitido diretamente pelas configuraçãos de rota e,
 * desta maneira, dispensa-se qualquer menção e/ou importação no restante da aplicação. O exemplo abaixo exemplifica
 * a forma dinâmica com a qual o template pode ser gerado se navegasse para uma rota denominada como `/access-denied`:
 *
 *
 * ```
 *   import { PoPageBlockedUserComponent, PoPageBlockedUserReason } from '@po-ui/ng-templates';
 *
 *   ...
 *   const routes: Routes = [
 *     {
 *       path: 'access-denied', component: PoPageBlockedUserComponent, data: {
 *         contactEmail: 'dev.po@po-ui.com',
 *         contactPhone: '0800 1234 000',
 *         reason: PoPageBlockedUserReason.ExpiredPassword,
 *         urlBack: '/home'
 *       }
 *     }
 *     ...
 *   ];
 *
 *   @NgModule({
 *     imports: [RouterModule.forRoot(routes)],
 *     exports: [RouterModule]
 *   })
 *   export class AppRoutingModule { }
 * ```
 *
 * > É essencial que siga a nomenclatura dos atributos exemplificados acima para sua efetiva funcionalidade.
 *
 */
export class PoPageBlockedUserBaseComponent {
    /**
     * @optional
     *
     * @description
     *
     * Valor para o email de contato que deve ser exibido. A ação está de acordo com o protocolo MAILTO e é possível definir
     * tanto rotas internas quanto externas.
     */
    contactEmail;
    /**
     * @optional
     *
     * @description
     *
     * Valor para o telefone de contato que deve ser exibido. A ação está de acordo com o protocolo TEL.
     *
     * > A propriedade não contem tratamento de máscara, fica a critério do desenvolvedor defini-la.
     */
    contactPhone;
    /** Caminho para a logomarca localizada na parte superior, caso não seja definida ou seja inválida assume a logo padrão do PO UI. */
    logo;
    /**
     * @optional
     *
     * @description
     *
     * Caminho para a logomarca localizada no rodapé.
     */
    secondaryLogo;
    _params = { ...PoPageBlockedUserParamsDefault };
    _reason = PoPageBlockedUserReason.None;
    _urlBack = '/';
    /**
     * @optional
     *
     * @description
     *
     * Designação de valores usados para a customização da mensagem de bloqueio.
     * Confira abaixo os valores pré-definidos.
     *
     * ```
     *  const customLiterals: PoPageBlockedUserReasonParams = {
     *    attempts: 5,
     *    days: 90,
     *    hours: 24
     *  };
     * ```
     *
     * > Salientamos a importância e atenção para configuração desses valores conforme definidos no projeto.
     *
     * > Veja os parâmetros customizáveis na interface `PoPageBlockedUserReasonParams`.
     *
     */
    set params(value) {
        if (value instanceof Object) {
            const keys = Object.keys(value);
            const newParams = { ...PoPageBlockedUserParamsDefault };
            keys.forEach(key => {
                newParams[key] = value[key];
            });
            this._params = newParams;
        }
        else {
            this._params = { ...PoPageBlockedUserParamsDefault };
        }
    }
    get params() {
        return this._params;
    }
    /**
     * @optional
     *
     * @description
     *
     * Definição de motivo de bloqueio de usuário. As informações modificam conforme o motivo selecionado.
     *
     * > Veja os valores válidos no *enum* `PoPageBlockedUserReason`.
     *
     * @default `PoPageBlockedUserReason.None`
     */
    set reason(value) {
        this._reason = Object.values(PoPageBlockedUserReason).includes(value)
            ? value
            : PoPageBlockedUserReasonDefault;
    }
    get reason() {
        return this._reason;
    }
    /**
     * @optional
     *
     * @description
     *
     * URL para a ação de retorno da página.
     *
     * @default `/`
     */
    set urlBack(url) {
        this._urlBack = url;
    }
    get urlBack() {
        return this._urlBack;
    }
    static ɵfac = function PoPageBlockedUserBaseComponent_Factory(t) { return new (t || PoPageBlockedUserBaseComponent)(); };
    static ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: PoPageBlockedUserBaseComponent, inputs: { contactEmail: [i0.ɵɵInputFlags.None, "p-contact-email", "contactEmail"], contactPhone: [i0.ɵɵInputFlags.None, "p-contact-phone", "contactPhone"], logo: [i0.ɵɵInputFlags.None, "p-logo", "logo"], secondaryLogo: [i0.ɵɵInputFlags.None, "p-secondary-logo", "secondaryLogo"], params: [i0.ɵɵInputFlags.None, "p-params", "params"], reason: [i0.ɵɵInputFlags.None, "p-reason", "reason"], urlBack: [i0.ɵɵInputFlags.None, "p-url-back", "urlBack"] } });
}
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoPageBlockedUserBaseComponent, [{
        type: Directive
    }], null, { contactEmail: [{
            type: Input,
            args: ['p-contact-email']
        }], contactPhone: [{
            type: Input,
            args: ['p-contact-phone']
        }], logo: [{
            type: Input,
            args: ['p-logo']
        }], secondaryLogo: [{
            type: Input,
            args: ['p-secondary-logo']
        }], params: [{
            type: Input,
            args: ['p-params']
        }], reason: [{
            type: Input,
            args: ['p-reason']
        }], urlBack: [{
            type: Input,
            args: ['p-url-back']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1ibG9ja2VkLXVzZXItYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy90ZW1wbGF0ZXMvc3JjL2xpYi9jb21wb25lbnRzL3BvLXBhZ2UtYmxvY2tlZC11c2VyL3BvLXBhZ2UtYmxvY2tlZC11c2VyLWJhc2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRWpELE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDBDQUEwQyxDQUFDOztBQUduRixNQUFNLDhCQUE4QixHQUE0Qix1QkFBdUIsQ0FBQyxJQUFJLENBQUM7QUFDN0YsTUFBTSw4QkFBOEIsR0FBa0MsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDO0FBRTNHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQTJERztBQUVILE1BQU0sT0FBTyw4QkFBOEI7SUFDekM7Ozs7Ozs7T0FPRztJQUN1QixZQUFZLENBQVM7SUFFL0M7Ozs7Ozs7O09BUUc7SUFDdUIsWUFBWSxDQUFTO0lBRS9DLG9JQUFvSTtJQUNuSCxJQUFJLENBQVU7SUFFL0I7Ozs7OztPQU1HO0lBQ3dCLGFBQWEsQ0FBVTtJQUUxQyxPQUFPLEdBQWtDLEVBQUUsR0FBRyw4QkFBOEIsRUFBRSxDQUFDO0lBQy9FLE9BQU8sR0FBNEIsdUJBQXVCLENBQUMsSUFBSSxDQUFDO0lBQ2hFLFFBQVEsR0FBVyxHQUFHLENBQUM7SUFFL0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09Bb0JHO0lBQ0gsSUFBdUIsTUFBTSxDQUFDLEtBQW9DO1FBQ2hFLElBQUksS0FBSyxZQUFZLE1BQU0sRUFBRTtZQUMzQixNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hDLE1BQU0sU0FBUyxHQUFHLEVBQUUsR0FBRyw4QkFBOEIsRUFBRSxDQUFDO1lBRXhELElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ2pCLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUIsQ0FBQyxDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQztTQUMxQjthQUFNO1lBQ0wsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLEdBQUcsOEJBQThCLEVBQUUsQ0FBQztTQUN0RDtJQUNILENBQUM7SUFFRCxJQUFJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDdEIsQ0FBQztJQUVEOzs7Ozs7Ozs7O09BVUc7SUFDSCxJQUF1QixNQUFNLENBQUMsS0FBOEI7UUFDMUQsSUFBSSxDQUFDLE9BQU8sR0FBUyxNQUFPLENBQUMsTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztZQUMxRSxDQUFDLENBQUMsS0FBSztZQUNQLENBQUMsQ0FBQyw4QkFBOEIsQ0FBQztJQUNyQyxDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ1IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3RCLENBQUM7SUFFRDs7Ozs7Ozs7T0FRRztJQUNILElBQXlCLE9BQU8sQ0FBQyxHQUFXO1FBQzFDLElBQUksQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDVCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQzt3RkFsSFUsOEJBQThCOzZEQUE5Qiw4QkFBOEI7O2lGQUE5Qiw4QkFBOEI7Y0FEMUMsU0FBUztnQkFVa0IsWUFBWTtrQkFBckMsS0FBSzttQkFBQyxpQkFBaUI7WUFXRSxZQUFZO2tCQUFyQyxLQUFLO21CQUFDLGlCQUFpQjtZQUdQLElBQUk7a0JBQXBCLEtBQUs7bUJBQUMsUUFBUTtZQVNZLGFBQWE7a0JBQXZDLEtBQUs7bUJBQUMsa0JBQWtCO1lBMkJGLE1BQU07a0JBQTVCLEtBQUs7bUJBQUMsVUFBVTtZQThCTSxNQUFNO2tCQUE1QixLQUFLO21CQUFDLFVBQVU7WUFtQlEsT0FBTztrQkFBL0IsS0FBSzttQkFBQyxZQUFZIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5wdXQsIERpcmVjdGl2ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBQb1BhZ2VCbG9ja2VkVXNlclJlYXNvbiB9IGZyb20gJy4vZW51bXMvcG8tcGFnZS1ibG9ja2VkLXVzZXItcmVhc29uLmVudW0nO1xuaW1wb3J0IHsgUG9QYWdlQmxvY2tlZFVzZXJSZWFzb25QYXJhbXMgfSBmcm9tICcuL2ludGVyZmFjZXMvcG8tcGFnZS1ibG9ja2VkLXVzZXItcmVhc29uLXBhcmFtcy5pbnRlcmZhY2UnO1xuXG5jb25zdCBQb1BhZ2VCbG9ja2VkVXNlclJlYXNvbkRlZmF1bHQ6IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uID0gUG9QYWdlQmxvY2tlZFVzZXJSZWFzb24uTm9uZTtcbmNvbnN0IFBvUGFnZUJsb2NrZWRVc2VyUGFyYW1zRGVmYXVsdDogUG9QYWdlQmxvY2tlZFVzZXJSZWFzb25QYXJhbXMgPSB7IGF0dGVtcHRzOiA1LCBkYXlzOiA5MCwgaG91cnM6IDI0IH07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTyBjb21wb25lbnRlIGBwby1wYWdlLWJsb2NrZWQtdXNlcmAgw6kgdXRpbGl6YWRvIGNvbW8gdGVtcGxhdGUgcGFyYSB0ZWxhIGRlIGJsb3F1ZWlvIGRlIHVzdcOhcmlvLlxuICogw4kgcG9zc8OtdmVsIGRlZmluaXIgZW50cmUgdHLDqnMgdGlwb3MgZGUgdGVsYXMgcGFyYSBhbGVydGFyIG8gdXN1w6FyaW8gc29icmUgdW0gZXZlbnR1YWwgYmxvcXVlaW8gZGUgbG9naW4uXG4gKlxuICogQ2FkYSBtb2RlbG8gZGUgYmxvcXVlaW8gcG9zc3VpIHVtYSBpbWFnZW0gZSB0ZXh0byBhZGVxdWFkb3Mgw6Agc2l0dWHDp8Ojby5cbiAqIE9zIHRleHRvcyBkYXMgdGVsYXMgc8OjbyBwcsOpLWRlZmluaWRvcyBlIGltdXTDoXZlaXMsIHBvcsOpbSxcbiAqIMOpIHBvc3PDrXZlbCBlc3RpcHVsYXIgcGFyw6JtZXRyb3MgY29tbyBkaWFzLCBob3JhcyBlIHRlbnRhdGl2YXMgZGUgYWNlc3NvIGVzZ290YWRhcy5cbiAqXG4gKiBQb3IgZmltLCBow6EgcHJvcHJpZWRhZGVzIHBhcmEgYWRpw6fDo28gZGUgdGVsZWZvbmUgZS9vdSBlbWFpbCBwYXJhIGNvbnRhdG8gZSB0YW1iw6ltIGEgZGVmaW5pw6fDo28gcGFyYSBhIHVybCBkZSByZXRvcm5vLlxuICpcbiAqIFBhcmEgcXVlIGFzIGltYWdlbnMgc2VqYW0gZXhpYmlkYXMgY29ycmV0YW1lbnRlLCDDqSBuZWNlc3PDoXJpbyBpbmNsdWlyIG8gY2FtaW5obyBkZWxhcyBhbyBwcm9qZXRvLiBQYXJhIGlzc28sIGVkaXRlXG4gKiBvICphc3NldHMqIG5vIGFycXVpdm8gKiphbmd1bGFyLmpzb24qKiBkYSBhcGxpY2HDp8OjbyBuYSBzZWd1aW50ZSBvcmRlbTpcbiAqIGBgYFxuICogICBcImFzc2V0c1wiOiBbXG4gKiAgICAgXCJzcmMvYXNzZXRzXCIsXG4gKiAgICAgXCJzcmMvZmF2aWNvbi5pY29cIixcbiAqICAgICB7XG4gKiAgICAgICBcImdsb2JcIjogXCIqKlxcLypcIixcbiAqICAgICAgIFwiaW5wdXRcIjogXCJub2RlX21vZHVsZXMvQHBvLXVpL3N0eWxlL2ltYWdlc1wiLFxuICogICAgICAgXCJvdXRwdXRcIjogXCJhc3NldHMvaW1hZ2VzXCJcbiAqICAgICB9XG4gKiAgIF1cbiAqIGBgYFxuICpcbiAqIF9fX19fX19fX19fX19fX1xuICpcbiAqICMjIyMgUHJhdGljaWRhZGVcbiAqIE8gYHBvLXBhZ2UtYmxvY2tlZC11c2VyYCwgYXNzaW0gY29tbyBzdWFzIHByb3ByaWVkYWRlcywgcG9kZSB0YW1iw6ltIHNlciB0cmFuc21pdGlkbyBkaXJldGFtZW50ZSBwZWxhcyBjb25maWd1cmHDp8Ojb3MgZGUgcm90YSBlLFxuICogZGVzdGEgbWFuZWlyYSwgZGlzcGVuc2Etc2UgcXVhbHF1ZXIgbWVuw6fDo28gZS9vdSBpbXBvcnRhw6fDo28gbm8gcmVzdGFudGUgZGEgYXBsaWNhw6fDo28uIE8gZXhlbXBsbyBhYmFpeG8gZXhlbXBsaWZpY2FcbiAqIGEgZm9ybWEgZGluw6JtaWNhIGNvbSBhIHF1YWwgbyB0ZW1wbGF0ZSBwb2RlIHNlciBnZXJhZG8gc2UgbmF2ZWdhc3NlIHBhcmEgdW1hIHJvdGEgZGVub21pbmFkYSBjb21vIGAvYWNjZXNzLWRlbmllZGA6XG4gKlxuICpcbiAqIGBgYFxuICogICBpbXBvcnQgeyBQb1BhZ2VCbG9ja2VkVXNlckNvbXBvbmVudCwgUG9QYWdlQmxvY2tlZFVzZXJSZWFzb24gfSBmcm9tICdAcG8tdWkvbmctdGVtcGxhdGVzJztcbiAqXG4gKiAgIC4uLlxuICogICBjb25zdCByb3V0ZXM6IFJvdXRlcyA9IFtcbiAqICAgICB7XG4gKiAgICAgICBwYXRoOiAnYWNjZXNzLWRlbmllZCcsIGNvbXBvbmVudDogUG9QYWdlQmxvY2tlZFVzZXJDb21wb25lbnQsIGRhdGE6IHtcbiAqICAgICAgICAgY29udGFjdEVtYWlsOiAnZGV2LnBvQHBvLXVpLmNvbScsXG4gKiAgICAgICAgIGNvbnRhY3RQaG9uZTogJzA4MDAgMTIzNCAwMDAnLFxuICogICAgICAgICByZWFzb246IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uLkV4cGlyZWRQYXNzd29yZCxcbiAqICAgICAgICAgdXJsQmFjazogJy9ob21lJ1xuICogICAgICAgfVxuICogICAgIH1cbiAqICAgICAuLi5cbiAqICAgXTtcbiAqXG4gKiAgIEBOZ01vZHVsZSh7XG4gKiAgICAgaW1wb3J0czogW1JvdXRlck1vZHVsZS5mb3JSb290KHJvdXRlcyldLFxuICogICAgIGV4cG9ydHM6IFtSb3V0ZXJNb2R1bGVdXG4gKiAgIH0pXG4gKiAgIGV4cG9ydCBjbGFzcyBBcHBSb3V0aW5nTW9kdWxlIHsgfVxuICogYGBgXG4gKlxuICogPiDDiSBlc3NlbmNpYWwgcXVlIHNpZ2EgYSBub21lbmNsYXR1cmEgZG9zIGF0cmlidXRvcyBleGVtcGxpZmljYWRvcyBhY2ltYSBwYXJhIHN1YSBlZmV0aXZhIGZ1bmNpb25hbGlkYWRlLlxuICpcbiAqL1xuQERpcmVjdGl2ZSgpXG5leHBvcnQgY2xhc3MgUG9QYWdlQmxvY2tlZFVzZXJCYXNlQ29tcG9uZW50IHtcbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogVmFsb3IgcGFyYSBvIGVtYWlsIGRlIGNvbnRhdG8gcXVlIGRldmUgc2VyIGV4aWJpZG8uIEEgYcOnw6NvIGVzdMOhIGRlIGFjb3JkbyBjb20gbyBwcm90b2NvbG8gTUFJTFRPIGUgw6kgcG9zc8OtdmVsIGRlZmluaXJcbiAgICogdGFudG8gcm90YXMgaW50ZXJuYXMgcXVhbnRvIGV4dGVybmFzLlxuICAgKi9cbiAgQElucHV0KCdwLWNvbnRhY3QtZW1haWwnKSBjb250YWN0RW1haWw6IHN0cmluZztcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBWYWxvciBwYXJhIG8gdGVsZWZvbmUgZGUgY29udGF0byBxdWUgZGV2ZSBzZXIgZXhpYmlkby4gQSBhw6fDo28gZXN0w6EgZGUgYWNvcmRvIGNvbSBvIHByb3RvY29sbyBURUwuXG4gICAqXG4gICAqID4gQSBwcm9wcmllZGFkZSBuw6NvIGNvbnRlbSB0cmF0YW1lbnRvIGRlIG3DoXNjYXJhLCBmaWNhIGEgY3JpdMOpcmlvIGRvIGRlc2Vudm9sdmVkb3IgZGVmaW5pLWxhLlxuICAgKi9cbiAgQElucHV0KCdwLWNvbnRhY3QtcGhvbmUnKSBjb250YWN0UGhvbmU6IHN0cmluZztcblxuICAvKiogQ2FtaW5obyBwYXJhIGEgbG9nb21hcmNhIGxvY2FsaXphZGEgbmEgcGFydGUgc3VwZXJpb3IsIGNhc28gbsOjbyBzZWphIGRlZmluaWRhIG91IHNlamEgaW52w6FsaWRhIGFzc3VtZSBhIGxvZ28gcGFkcsOjbyBkbyBQTyBVSS4gKi9cbiAgQElucHV0KCdwLWxvZ28nKSBsb2dvPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIENhbWluaG8gcGFyYSBhIGxvZ29tYXJjYSBsb2NhbGl6YWRhIG5vIHJvZGFww6kuXG4gICAqL1xuICBASW5wdXQoJ3Atc2Vjb25kYXJ5LWxvZ28nKSBzZWNvbmRhcnlMb2dvPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgX3BhcmFtczogUG9QYWdlQmxvY2tlZFVzZXJSZWFzb25QYXJhbXMgPSB7IC4uLlBvUGFnZUJsb2NrZWRVc2VyUGFyYW1zRGVmYXVsdCB9O1xuICBwcml2YXRlIF9yZWFzb246IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uID0gUG9QYWdlQmxvY2tlZFVzZXJSZWFzb24uTm9uZTtcbiAgcHJpdmF0ZSBfdXJsQmFjazogc3RyaW5nID0gJy8nO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlc2lnbmHDp8OjbyBkZSB2YWxvcmVzIHVzYWRvcyBwYXJhIGEgY3VzdG9taXphw6fDo28gZGEgbWVuc2FnZW0gZGUgYmxvcXVlaW8uXG4gICAqIENvbmZpcmEgYWJhaXhvIG9zIHZhbG9yZXMgcHLDqS1kZWZpbmlkb3MuXG4gICAqXG4gICAqIGBgYFxuICAgKiAgY29uc3QgY3VzdG9tTGl0ZXJhbHM6IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uUGFyYW1zID0ge1xuICAgKiAgICBhdHRlbXB0czogNSxcbiAgICogICAgZGF5czogOTAsXG4gICAqICAgIGhvdXJzOiAyNFxuICAgKiAgfTtcbiAgICogYGBgXG4gICAqXG4gICAqID4gU2FsaWVudGFtb3MgYSBpbXBvcnTDom5jaWEgZSBhdGVuw6fDo28gcGFyYSBjb25maWd1cmHDp8OjbyBkZXNzZXMgdmFsb3JlcyBjb25mb3JtZSBkZWZpbmlkb3Mgbm8gcHJvamV0by5cbiAgICpcbiAgICogPiBWZWphIG9zIHBhcsOibWV0cm9zIGN1c3RvbWl6w6F2ZWlzIG5hIGludGVyZmFjZSBgUG9QYWdlQmxvY2tlZFVzZXJSZWFzb25QYXJhbXNgLlxuICAgKlxuICAgKi9cbiAgQElucHV0KCdwLXBhcmFtcycpIHNldCBwYXJhbXModmFsdWU6IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uUGFyYW1zKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICAgICAgY29uc3QgbmV3UGFyYW1zID0geyAuLi5Qb1BhZ2VCbG9ja2VkVXNlclBhcmFtc0RlZmF1bHQgfTtcblxuICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIG5ld1BhcmFtc1trZXldID0gdmFsdWVba2V5XTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9wYXJhbXMgPSBuZXdQYXJhbXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3BhcmFtcyA9IHsgLi4uUG9QYWdlQmxvY2tlZFVzZXJQYXJhbXNEZWZhdWx0IH07XG4gICAgfVxuICB9XG5cbiAgZ2V0IHBhcmFtcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyYW1zO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVmaW5pw6fDo28gZGUgbW90aXZvIGRlIGJsb3F1ZWlvIGRlIHVzdcOhcmlvLiBBcyBpbmZvcm1hw6fDtWVzIG1vZGlmaWNhbSBjb25mb3JtZSBvIG1vdGl2byBzZWxlY2lvbmFkby5cbiAgICpcbiAgICogPiBWZWphIG9zIHZhbG9yZXMgdsOhbGlkb3Mgbm8gKmVudW0qIGBQb1BhZ2VCbG9ja2VkVXNlclJlYXNvbmAuXG4gICAqXG4gICAqIEBkZWZhdWx0IGBQb1BhZ2VCbG9ja2VkVXNlclJlYXNvbi5Ob25lYFxuICAgKi9cbiAgQElucHV0KCdwLXJlYXNvbicpIHNldCByZWFzb24odmFsdWU6IFBvUGFnZUJsb2NrZWRVc2VyUmVhc29uKSB7XG4gICAgdGhpcy5fcmVhc29uID0gKDxhbnk+T2JqZWN0KS52YWx1ZXMoUG9QYWdlQmxvY2tlZFVzZXJSZWFzb24pLmluY2x1ZGVzKHZhbHVlKVxuICAgICAgPyB2YWx1ZVxuICAgICAgOiBQb1BhZ2VCbG9ja2VkVXNlclJlYXNvbkRlZmF1bHQ7XG4gIH1cblxuICBnZXQgcmVhc29uKCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFzb247XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBVUkwgcGFyYSBhIGHDp8OjbyBkZSByZXRvcm5vIGRhIHDDoWdpbmEuXG4gICAqXG4gICAqIEBkZWZhdWx0IGAvYFxuICAgKi9cbiAgQElucHV0KCdwLXVybC1iYWNrJykgc2V0IHVybEJhY2sodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLl91cmxCYWNrID0gdXJsO1xuICB9XG5cbiAgZ2V0IHVybEJhY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VybEJhY2s7XG4gIH1cbn1cbiJdfQ==