import { Component } from '@angular/core';
import { poLocaleDefault } from '@po-ui/ng-components';
import { isExternalLink } from '../../utils/util';
import { PoPageBlockedUserBaseComponent } from './po-page-blocked-user-base.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@po-ui/ng-components";
import * as i3 from "../po-page-background/po-page-background.component";
import * as i4 from "./po-page-blocked-user-contacts/po-page-blocked-user-contacts.component";
import * as i5 from "./po-page-blocked-user-reason/po-page-blocked-user-reason.component";
export const poPageBlockedUserButtonLiterals = {
    en: {
        primaryButton: 'Back to home screen'
    },
    es: {
        primaryButton: 'Volver al inicio'
    },
    pt: {
        primaryButton: 'Voltar para o início'
    },
    ru: {
        primaryButton: 'Перейти к началу страницы'
    }
};
/**
 * @docsExtends PoPageBlockedUserBaseComponent
 *
 * @example
 *
 * <example name="po-page-blocked-user-basic" title="PO Page Blocked User Basic">
 *  <file name="sample-po-page-blocked-user-basic/sample-po-page-blocked-user-basic.component.html"> </file>
 *  <file name="sample-po-page-blocked-user-basic/sample-po-page-blocked-user-basic.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-blocked-user-labs" title="PO Page Blocked User Labs">
 *  <file name="sample-po-page-blocked-user-labs/sample-po-page-blocked-user-labs.component.html"> </file>
 *  <file name="sample-po-page-blocked-user-labs/sample-po-page-blocked-user-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-blocked-user-exceeded-attempts" title="PO Page Blocked User Exceeded Attempts">
 *  <file name="sample-po-page-blocked-user-exceeded-attempts/sample-po-page-blocked-user-exceeded-attempts.component.html"> </file>
 *  <file name="sample-po-page-blocked-user-exceeded-attempts/sample-po-page-blocked-user-exceeded-attempts.component.ts"> </file>
 * </example>
 *
 * <example name="po-page-blocked-user-expired-password" title="PO Page Blocked User Expired Password">
 *  <file name="sample-po-page-blocked-user-expired-password/sample-po-page-blocked-user-expired-password.component.html"> </file>
 *  <file name="sample-po-page-blocked-user-expired-password/sample-po-page-blocked-user-expired-password.component.ts"> </file>
 * </example>
 */
export class PoPageBlockedUserComponent extends PoPageBlockedUserBaseComponent {
    activatedRoute;
    router;
    literals;
    constructor(activatedRoute, router, languageService) {
        super();
        this.activatedRoute = activatedRoute;
        this.router = router;
        const language = languageService.getShortLanguage();
        this.literals = {
            ...poPageBlockedUserButtonLiterals[poLocaleDefault],
            ...poPageBlockedUserButtonLiterals[language]
        };
    }
    ngOnInit() {
        this.checkingForRouteMetadata(this.activatedRoute.snapshot.data);
    }
    navigateTo(url) {
        isExternalLink(url) ? window.open(url) : this.router.navigate([url || '/']);
    }
    checkingForMetadataProperty(object, property) {
        if (Object.prototype.hasOwnProperty.call(object, property)) {
            return object[property];
        }
    }
    checkingForRouteMetadata(data) {
        if (Object.keys(data).length !== 0) {
            this.contactEmail = this.checkingForMetadataProperty(data, 'contactEmail') || this.contactEmail;
            this.contactPhone = this.checkingForMetadataProperty(data, 'contactPhone') || this.contactPhone;
            this.reason = this.checkingForMetadataProperty(data, 'reason') || this.reason;
            this.urlBack = this.checkingForMetadataProperty(data, 'urlBack') || this.urlBack;
        }
    }
    static ɵfac = function PoPageBlockedUserComponent_Factory(t) { return new (t || PoPageBlockedUserComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PoLanguageService)); };
    static ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoPageBlockedUserComponent, selectors: [["po-page-blocked-user"]], features: [i0.ɵɵInheritDefinitionFeature], decls: 8, vars: 8, consts: [[1, "po-page-blocked-user-wrapper"], [1, "po-page-background-wrap"], [3, "p-hide-logo", "p-logo", "p-secondary-logo"], [3, "p-params", "p-reason"], [1, "po-page-blocked-user-mobile-bottom-alignment"], [3, "p-email", "p-phone"], [1, "po-row"], ["p-kind", "primary", 1, "po-lg-12", "po-sm-12", "po-page-blocked-user-button", 3, "p-label", "p-click"]], template: function PoPageBlockedUserComponent_Template(rf, ctx) { if (rf & 1) {
            i0.ɵɵelementStart(0, "div", 0)(1, "div", 1)(2, "po-page-background", 2);
            i0.ɵɵelement(3, "po-page-blocked-user-reason", 3);
            i0.ɵɵelementStart(4, "div", 4);
            i0.ɵɵelement(5, "po-page-blocked-user-contacts", 5);
            i0.ɵɵelementStart(6, "div", 6)(7, "po-button", 7);
            i0.ɵɵlistener("p-click", function PoPageBlockedUserComponent_Template_po_button_p_click_7_listener() { return ctx.navigateTo(ctx.urlBack); });
            i0.ɵɵelementEnd()()()()()();
        } if (rf & 2) {
            i0.ɵɵadvance(2);
            i0.ɵɵproperty("p-hide-logo", true)("p-logo", ctx.logo)("p-secondary-logo", ctx.secondaryLogo);
            i0.ɵɵadvance();
            i0.ɵɵproperty("p-params", ctx.params)("p-reason", ctx.reason);
            i0.ɵɵadvance(2);
            i0.ɵɵproperty("p-email", ctx.contactEmail)("p-phone", ctx.contactPhone);
            i0.ɵɵadvance(2);
            i0.ɵɵproperty("p-label", ctx.literals == null ? null : ctx.literals.primaryButton);
        } }, dependencies: [i2.PoButtonComponent, i3.PoPageBackgroundComponent, i4.PoPageBlockedUserContactsComponent, i5.PoPageBlockedUserReasonComponent], encapsulation: 2 });
}
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoPageBlockedUserComponent, [{
        type: Component,
        args: [{ selector: 'po-page-blocked-user', template: "<div class=\"po-page-blocked-user-wrapper\">\n  <div class=\"po-page-background-wrap\">\n    <po-page-background [p-hide-logo]=\"true\" [p-logo]=\"logo\" [p-secondary-logo]=\"secondaryLogo\">\n      <po-page-blocked-user-reason [p-params]=\"params\" [p-reason]=\"reason\"> </po-page-blocked-user-reason>\n\n      <div class=\"po-page-blocked-user-mobile-bottom-alignment\">\n        <po-page-blocked-user-contacts [p-email]=\"contactEmail\" [p-phone]=\"contactPhone\">\n        </po-page-blocked-user-contacts>\n\n        <div class=\"po-row\">\n          <po-button\n            class=\"po-lg-12 po-sm-12 po-page-blocked-user-button\"\n            p-kind=\"primary\"\n            [p-label]=\"literals?.primaryButton\"\n            (p-click)=\"navigateTo(urlBack)\"\n          >\n          </po-button>\n        </div>\n      </div>\n    </po-page-background>\n  </div>\n</div>\n" }]
    }], () => [{ type: i1.ActivatedRoute }, { type: i1.Router }, { type: i2.PoLanguageService }], null); })();
(() => { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassDebugInfo(PoPageBlockedUserComponent, { className: "PoPageBlockedUserComponent", filePath: "lib/components/po-page-blocked-user/po-page-blocked-user.component.ts", lineNumber: 55 }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcGFnZS1ibG9ja2VkLXVzZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGVtcGxhdGVzL3NyYy9saWIvY29tcG9uZW50cy9wby1wYWdlLWJsb2NrZWQtdXNlci9wby1wYWdlLWJsb2NrZWQtdXNlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy90ZW1wbGF0ZXMvc3JjL2xpYi9jb21wb25lbnRzL3BvLXBhZ2UtYmxvY2tlZC11c2VyL3BvLXBhZ2UtYmxvY2tlZC11c2VyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFFbEQsT0FBTyxFQUFxQixlQUFlLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUUxRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFbEQsT0FBTyxFQUFFLDhCQUE4QixFQUFFLE1BQU0sdUNBQXVDLENBQUM7Ozs7Ozs7QUFFdkYsTUFBTSxDQUFDLE1BQU0sK0JBQStCLEdBQVc7SUFDckQsRUFBRSxFQUFPO1FBQ1AsYUFBYSxFQUFFLHFCQUFxQjtLQUNyQztJQUNELEVBQUUsRUFBTztRQUNQLGFBQWEsRUFBRSxrQkFBa0I7S0FDbEM7SUFDRCxFQUFFLEVBQU87UUFDUCxhQUFhLEVBQUUsc0JBQXNCO0tBQ3RDO0lBQ0QsRUFBRSxFQUFPO1FBQ1AsYUFBYSxFQUFFLDJCQUEyQjtLQUMzQztDQUNGLENBQUM7QUFFRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBd0JHO0FBTUgsTUFBTSxPQUFPLDBCQUEyQixTQUFRLDhCQUE4QjtJQUlsRTtJQUNBO0lBSlYsUUFBUSxDQUFDO0lBRVQsWUFDVSxjQUE4QixFQUM5QixNQUFjLEVBQ3RCLGVBQWtDO1FBRWxDLEtBQUssRUFBRSxDQUFDO1FBSkEsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBQzlCLFdBQU0sR0FBTixNQUFNLENBQVE7UUFLdEIsTUFBTSxRQUFRLEdBQUcsZUFBZSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFFcEQsSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNkLEdBQUcsK0JBQStCLENBQUMsZUFBZSxDQUFDO1lBQ25ELEdBQUcsK0JBQStCLENBQUMsUUFBUSxDQUFDO1NBQzdDLENBQUM7SUFDSixDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRUQsVUFBVSxDQUFDLEdBQVc7UUFDcEIsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzlFLENBQUM7SUFFTywyQkFBMkIsQ0FBQyxNQUFNLEVBQUUsUUFBUTtRQUNsRCxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLEVBQUU7WUFDMUQsT0FBTyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDekI7SUFDSCxDQUFDO0lBRU8sd0JBQXdCLENBQUMsSUFBSTtRQUNuQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUNsQyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLEVBQUUsY0FBYyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNoRyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLEVBQUUsY0FBYyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQztZQUNoRyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUM5RSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQztTQUNsRjtJQUNILENBQUM7b0ZBdkNVLDBCQUEwQjs2REFBMUIsMEJBQTBCO1lDdER2Qyw4QkFBMEMsYUFBQSw0QkFBQTtZQUdwQyxpREFBb0c7WUFFcEcsOEJBQTBEO1lBQ3hELG1EQUNnQztZQUVoQyw4QkFBb0IsbUJBQUE7WUFLaEIsOEdBQVcsMkJBQW1CLElBQUM7WUFFakMsaUJBQVksRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBOztZQWRFLGVBQW9CO1lBQXBCLGtDQUFvQixvQkFBQSx1Q0FBQTtZQUNULGNBQW1CO1lBQW5CLHFDQUFtQix3QkFBQTtZQUdmLGVBQXdCO1lBQXhCLDBDQUF3Qiw2QkFBQTtZQU9uRCxlQUFtQztZQUFuQyxrRkFBbUM7OztpRkR5Q2xDLDBCQUEwQjtjQUp0QyxTQUFTOzJCQUNFLHNCQUFzQjs7a0ZBR3JCLDBCQUEwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGl2YXRlZFJvdXRlLCBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgUG9MYW5ndWFnZVNlcnZpY2UsIHBvTG9jYWxlRGVmYXVsdCB9IGZyb20gJ0Bwby11aS9uZy1jb21wb25lbnRzJztcblxuaW1wb3J0IHsgaXNFeHRlcm5hbExpbmsgfSBmcm9tICcuLi8uLi91dGlscy91dGlsJztcblxuaW1wb3J0IHsgUG9QYWdlQmxvY2tlZFVzZXJCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi9wby1wYWdlLWJsb2NrZWQtdXNlci1iYXNlLmNvbXBvbmVudCc7XG5cbmV4cG9ydCBjb25zdCBwb1BhZ2VCbG9ja2VkVXNlckJ1dHRvbkxpdGVyYWxzOiBPYmplY3QgPSB7XG4gIGVuOiA8YW55PntcbiAgICBwcmltYXJ5QnV0dG9uOiAnQmFjayB0byBob21lIHNjcmVlbidcbiAgfSxcbiAgZXM6IDxhbnk+e1xuICAgIHByaW1hcnlCdXR0b246ICdWb2x2ZXIgYWwgaW5pY2lvJ1xuICB9LFxuICBwdDogPGFueT57XG4gICAgcHJpbWFyeUJ1dHRvbjogJ1ZvbHRhciBwYXJhIG8gaW7DrWNpbydcbiAgfSxcbiAgcnU6IDxhbnk+e1xuICAgIHByaW1hcnlCdXR0b246ICfQn9C10YDQtdC50YLQuCDQuiDQvdCw0YfQsNC70YMg0YHRgtGA0LDQvdC40YbRiydcbiAgfVxufTtcblxuLyoqXG4gKiBAZG9jc0V4dGVuZHMgUG9QYWdlQmxvY2tlZFVzZXJCYXNlQ29tcG9uZW50XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8tcGFnZS1ibG9ja2VkLXVzZXItYmFzaWNcIiB0aXRsZT1cIlBPIFBhZ2UgQmxvY2tlZCBVc2VyIEJhc2ljXCI+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWJsb2NrZWQtdXNlci1iYXNpYy9zYW1wbGUtcG8tcGFnZS1ibG9ja2VkLXVzZXItYmFzaWMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1ibG9ja2VkLXVzZXItYmFzaWMvc2FtcGxlLXBvLXBhZ2UtYmxvY2tlZC11c2VyLWJhc2ljLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLXBhZ2UtYmxvY2tlZC11c2VyLWxhYnNcIiB0aXRsZT1cIlBPIFBhZ2UgQmxvY2tlZCBVc2VyIExhYnNcIj5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtYmxvY2tlZC11c2VyLWxhYnMvc2FtcGxlLXBvLXBhZ2UtYmxvY2tlZC11c2VyLWxhYnMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1ibG9ja2VkLXVzZXItbGFicy9zYW1wbGUtcG8tcGFnZS1ibG9ja2VkLXVzZXItbGFicy5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1wYWdlLWJsb2NrZWQtdXNlci1leGNlZWRlZC1hdHRlbXB0c1wiIHRpdGxlPVwiUE8gUGFnZSBCbG9ja2VkIFVzZXIgRXhjZWVkZWQgQXR0ZW1wdHNcIj5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLXBhZ2UtYmxvY2tlZC11c2VyLWV4Y2VlZGVkLWF0dGVtcHRzL3NhbXBsZS1wby1wYWdlLWJsb2NrZWQtdXNlci1leGNlZWRlZC1hdHRlbXB0cy5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWJsb2NrZWQtdXNlci1leGNlZWRlZC1hdHRlbXB0cy9zYW1wbGUtcG8tcGFnZS1ibG9ja2VkLXVzZXItZXhjZWVkZWQtYXR0ZW1wdHMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8tcGFnZS1ibG9ja2VkLXVzZXItZXhwaXJlZC1wYXNzd29yZFwiIHRpdGxlPVwiUE8gUGFnZSBCbG9ja2VkIFVzZXIgRXhwaXJlZCBQYXNzd29yZFwiPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tcGFnZS1ibG9ja2VkLXVzZXItZXhwaXJlZC1wYXNzd29yZC9zYW1wbGUtcG8tcGFnZS1ibG9ja2VkLXVzZXItZXhwaXJlZC1wYXNzd29yZC5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1wYWdlLWJsb2NrZWQtdXNlci1leHBpcmVkLXBhc3N3b3JkL3NhbXBsZS1wby1wYWdlLWJsb2NrZWQtdXNlci1leHBpcmVkLXBhc3N3b3JkLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncG8tcGFnZS1ibG9ja2VkLXVzZXInLFxuICB0ZW1wbGF0ZVVybDogJy4vcG8tcGFnZS1ibG9ja2VkLXVzZXIuY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIFBvUGFnZUJsb2NrZWRVc2VyQ29tcG9uZW50IGV4dGVuZHMgUG9QYWdlQmxvY2tlZFVzZXJCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgbGl0ZXJhbHM7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhY3RpdmF0ZWRSb3V0ZTogQWN0aXZhdGVkUm91dGUsXG4gICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcbiAgICBsYW5ndWFnZVNlcnZpY2U6IFBvTGFuZ3VhZ2VTZXJ2aWNlXG4gICkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBjb25zdCBsYW5ndWFnZSA9IGxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCk7XG5cbiAgICB0aGlzLmxpdGVyYWxzID0ge1xuICAgICAgLi4ucG9QYWdlQmxvY2tlZFVzZXJCdXR0b25MaXRlcmFsc1twb0xvY2FsZURlZmF1bHRdLFxuICAgICAgLi4ucG9QYWdlQmxvY2tlZFVzZXJCdXR0b25MaXRlcmFsc1tsYW5ndWFnZV1cbiAgICB9O1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5jaGVja2luZ0ZvclJvdXRlTWV0YWRhdGEodGhpcy5hY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdC5kYXRhKTtcbiAgfVxuXG4gIG5hdmlnYXRlVG8odXJsOiBzdHJpbmcpIHtcbiAgICBpc0V4dGVybmFsTGluayh1cmwpID8gd2luZG93Lm9wZW4odXJsKSA6IHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmwgfHwgJy8nXSk7XG4gIH1cblxuICBwcml2YXRlIGNoZWNraW5nRm9yTWV0YWRhdGFQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja2luZ0ZvclJvdXRlTWV0YWRhdGEoZGF0YSkge1xuICAgIGlmIChPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggIT09IDApIHtcbiAgICAgIHRoaXMuY29udGFjdEVtYWlsID0gdGhpcy5jaGVja2luZ0Zvck1ldGFkYXRhUHJvcGVydHkoZGF0YSwgJ2NvbnRhY3RFbWFpbCcpIHx8IHRoaXMuY29udGFjdEVtYWlsO1xuICAgICAgdGhpcy5jb250YWN0UGhvbmUgPSB0aGlzLmNoZWNraW5nRm9yTWV0YWRhdGFQcm9wZXJ0eShkYXRhLCAnY29udGFjdFBob25lJykgfHwgdGhpcy5jb250YWN0UGhvbmU7XG4gICAgICB0aGlzLnJlYXNvbiA9IHRoaXMuY2hlY2tpbmdGb3JNZXRhZGF0YVByb3BlcnR5KGRhdGEsICdyZWFzb24nKSB8fCB0aGlzLnJlYXNvbjtcbiAgICAgIHRoaXMudXJsQmFjayA9IHRoaXMuY2hlY2tpbmdGb3JNZXRhZGF0YVByb3BlcnR5KGRhdGEsICd1cmxCYWNrJykgfHwgdGhpcy51cmxCYWNrO1xuICAgIH1cbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cInBvLXBhZ2UtYmxvY2tlZC11c2VyLXdyYXBwZXJcIj5cbiAgPGRpdiBjbGFzcz1cInBvLXBhZ2UtYmFja2dyb3VuZC13cmFwXCI+XG4gICAgPHBvLXBhZ2UtYmFja2dyb3VuZCBbcC1oaWRlLWxvZ29dPVwidHJ1ZVwiIFtwLWxvZ29dPVwibG9nb1wiIFtwLXNlY29uZGFyeS1sb2dvXT1cInNlY29uZGFyeUxvZ29cIj5cbiAgICAgIDxwby1wYWdlLWJsb2NrZWQtdXNlci1yZWFzb24gW3AtcGFyYW1zXT1cInBhcmFtc1wiIFtwLXJlYXNvbl09XCJyZWFzb25cIj4gPC9wby1wYWdlLWJsb2NrZWQtdXNlci1yZWFzb24+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWJsb2NrZWQtdXNlci1tb2JpbGUtYm90dG9tLWFsaWdubWVudFwiPlxuICAgICAgICA8cG8tcGFnZS1ibG9ja2VkLXVzZXItY29udGFjdHMgW3AtZW1haWxdPVwiY29udGFjdEVtYWlsXCIgW3AtcGhvbmVdPVwiY29udGFjdFBob25lXCI+XG4gICAgICAgIDwvcG8tcGFnZS1ibG9ja2VkLXVzZXItY29udGFjdHM+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBvLXJvd1wiPlxuICAgICAgICAgIDxwby1idXR0b25cbiAgICAgICAgICAgIGNsYXNzPVwicG8tbGctMTIgcG8tc20tMTIgcG8tcGFnZS1ibG9ja2VkLXVzZXItYnV0dG9uXCJcbiAgICAgICAgICAgIHAta2luZD1cInByaW1hcnlcIlxuICAgICAgICAgICAgW3AtbGFiZWxdPVwibGl0ZXJhbHM/LnByaW1hcnlCdXR0b25cIlxuICAgICAgICAgICAgKHAtY2xpY2spPVwibmF2aWdhdGVUbyh1cmxCYWNrKVwiXG4gICAgICAgICAgPlxuICAgICAgICAgIDwvcG8tYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvcG8tcGFnZS1iYWNrZ3JvdW5kPlxuICA8L2Rpdj5cbjwvZGl2PlxuIl19