import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { PoLookupComponent } from '@po-ui/ng-components';
import * as i0 from "@angular/core";
import * as i1 from "./pro-company-lookup.service";
import * as i2 from "@angular/forms";
import * as i3 from "@po-ui/ng-components";
/**
 * @description
 *
 * Componente que disponibiliza um campo para lookup para grupo de empresa.
 * O nome do field no formulário será company_code
 */
export class ProCompanyLookupComponent {
    /**
     * @description Construtor da classe
     * @param service Serviço de Lookup do grupo de empresas
     */
    constructor(service) {
        this.service = service;
        this.companySetted = new EventEmitter();
        this.branchSetted = new EventEmitter();
        this.started = false;
        this.firstPass = true;
    }
    fieldFormat(value) {
        return value.Code;
    }
    setCompanyFocus() {
        this.lookup.focus();
    }
    setStarted(started) {
        this.started = started;
    }
    /*
    trecho para mostrar a consulta pelo atalho do F3
    mantido aqui para servir de base caso venha a ser necessário utilizar isso no futuro.
  
    // Registre o HostListener para a tecla F3
    @HostListener('document:keydown.F3', ['$event'])
    handleF3Key(event: KeyboardEvent): void {
      console.log("f3 out");
      if (this.lookup.inputEl.nativeElement == document.activeElement){
        console.log("f3 in");
        event.preventDefault(); // Isso impede que a ação padrão da tecla F3 (geralmente abrir a busca) seja executada
        this.lookup.openLookup();
      }
    } */
    /**
     * @description Efetua o set do grupo de empresas para o serviço, atualiza o parent e disparada o evento
     * @param company Objeto do grupo de empresas
     */
    setCompany(company) {
        if (Object.keys(company).length > 0) {
            this.parent.patchValue({
                company_description: company.CorporateName,
                branch_code: '',
                branch_description: '',
                companyLayout: company.Layout
            });
            this.service.setCompany(company);
            this.companySetted.emit(company);
            const hasBranch = !!company.FirstBranchCode && !!company.FirstBranchDescription;
            if (this.started && hasBranch && !this.firstPass) {
                this.parent.patchValue({
                    branch_code: company.FirstBranchCode,
                    branch_description: company.FirstBranchDescription
                });
                setTimeout(() => {
                    // evento para forçar o foco no lookup de branch
                    // por algum motivo obscuro o patchValue no branch retira o foco do elemento
                    this.branchSetted.emit();
                }, 200);
            }
            if (this.firstPass) {
                this.firstPass = false;
            }
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.9", ngImport: i0, type: ProCompanyLookupComponent, deps: [{ token: i1.ProCompanyLookupService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.9", type: ProCompanyLookupComponent, selector: "pro-company-lookup", inputs: { parent: "parent", pLabel: ["p-label", "pLabel"], pHint: ["p-hint", "pHint"], columns: ["pro-columns", "columns"] }, outputs: { companySetted: "companySetted", branchSetted: "branchSetted" }, viewQueries: [{ propertyName: "lookup", first: true, predicate: PoLookupComponent, descendants: true, static: true }], ngImport: i0, template: "<div [formGroup]=\"parent\" class=\"po-page-login-info-container\">\r\n  <po-lookup\r\n    class=\"po-md-6\"\r\n    name=\"company_code\"\r\n    formControlName=\"company_code\"\r\n    p-field-label=\"Code\"\r\n    p-field-value=\"Code\"\r\n    [p-label]=\"pLabel\"\r\n    [p-columns]=\"columns\"\r\n    [p-field-format]=\"fieldFormat\"\r\n    [p-filter-service]=\"service\"\r\n    (p-selected)=\"setCompany($event)\"\r\n  >\r\n  </po-lookup>\r\n  <po-input\r\n    class=\"po-md-6\"\r\n    name=\"company_description\"\r\n    formControlName=\"company_description\"\r\n    p-label=\"&nbsp;\"\r\n    p-disabled=\"true\"\r\n  >\r\n  </po-input>\r\n  <div class=\"po-page-login-info-icon-container tooltip-bigscreen-adjust\">\r\n    <span\r\n      class=\"po-icon po-field-icon po-icon-info\"\r\n      [p-tooltip]=\"pHint\"\r\n      p-tooltip-position=\"right\"\r\n    >\r\n    </span>\r\n  </div>\r\n</div>\r\n", styles: ["@media (min-width: 1367px){.tooltip-bigscreen-adjust{padding-left:0}}\n"], dependencies: [{ kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i2.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "component", type: i3.PoInputComponent, selector: "po-input" }, { kind: "component", type: i3.PoLookupComponent, selector: "po-lookup" }, { kind: "directive", type: i3.PoTooltipDirective, selector: "[p-tooltip]" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.9", ngImport: i0, type: ProCompanyLookupComponent, decorators: [{
            type: Component,
            args: [{ selector: 'pro-company-lookup', template: "<div [formGroup]=\"parent\" class=\"po-page-login-info-container\">\r\n  <po-lookup\r\n    class=\"po-md-6\"\r\n    name=\"company_code\"\r\n    formControlName=\"company_code\"\r\n    p-field-label=\"Code\"\r\n    p-field-value=\"Code\"\r\n    [p-label]=\"pLabel\"\r\n    [p-columns]=\"columns\"\r\n    [p-field-format]=\"fieldFormat\"\r\n    [p-filter-service]=\"service\"\r\n    (p-selected)=\"setCompany($event)\"\r\n  >\r\n  </po-lookup>\r\n  <po-input\r\n    class=\"po-md-6\"\r\n    name=\"company_description\"\r\n    formControlName=\"company_description\"\r\n    p-label=\"&nbsp;\"\r\n    p-disabled=\"true\"\r\n  >\r\n  </po-input>\r\n  <div class=\"po-page-login-info-icon-container tooltip-bigscreen-adjust\">\r\n    <span\r\n      class=\"po-icon po-field-icon po-icon-info\"\r\n      [p-tooltip]=\"pHint\"\r\n      p-tooltip-position=\"right\"\r\n    >\r\n    </span>\r\n  </div>\r\n</div>\r\n", styles: ["@media (min-width: 1367px){.tooltip-bigscreen-adjust{padding-left:0}}\n"] }]
        }], ctorParameters: () => [{ type: i1.ProCompanyLookupService }], propDecorators: { parent: [{
                type: Input
            }], companySetted: [{
                type: Output
            }], branchSetted: [{
                type: Output
            }], pLabel: [{
                type: Input,
                args: ['p-label']
            }], pHint: [{
                type: Input,
                args: ['p-hint']
            }], columns: [{
                type: Input,
                args: ['pro-columns']
            }], lookup: [{
                type: ViewChild,
                args: [PoLookupComponent, { static: true }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvLWNvbXBhbnktbG9va3VwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3Byb3RoZXVzLWxpYi1jb3JlL3NyYy9jb21wb25lbnRzL3Byby1maWVsZHMvcHJvLWNvbXBhbnktbG9va3VwL3Byby1jb21wYW55LWxvb2t1cC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wcm90aGV1cy1saWItY29yZS9zcmMvY29tcG9uZW50cy9wcm8tZmllbGRzL3Byby1jb21wYW55LWxvb2t1cC9wcm8tY29tcGFueS1sb29rdXAuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbEYsT0FBTyxFQUFrQixpQkFBaUIsRUFBRSxNQUFNLHNCQUFzQixDQUFDOzs7OztBQUt6RTs7Ozs7R0FLRztBQU1ILE1BQU0sT0FBTyx5QkFBeUI7SUFrQnBDOzs7T0FHRztJQUNILFlBQW1CLE9BQWdDO1FBQWhDLFlBQU8sR0FBUCxPQUFPLENBQXlCO1FBbkJ6QyxrQkFBYSxHQUFHLElBQUksWUFBWSxFQUFjLENBQUM7UUFDL0MsaUJBQVksR0FBRyxJQUFJLFlBQVksRUFBUSxDQUFDO1FBVzFDLFlBQU8sR0FBWSxLQUFLLENBQUM7UUFDakMsY0FBUyxHQUFZLElBQUksQ0FBQztJQU02QixDQUFDO0lBRWpELFdBQVcsQ0FBQyxLQUFpQjtRQUNsQyxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUM7SUFDcEIsQ0FBQztJQUVELGVBQWU7UUFDYixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxVQUFVLENBQUMsT0FBZ0I7UUFDekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDekIsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7O1FBYUk7SUFFSjs7O09BR0c7SUFDSCxVQUFVLENBQUMsT0FBbUI7UUFDNUIsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDbkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7Z0JBQ3JCLG1CQUFtQixFQUFFLE9BQU8sQ0FBQyxhQUFhO2dCQUMxQyxXQUFXLEVBQUUsRUFBRTtnQkFDZixrQkFBa0IsRUFBRSxFQUFFO2dCQUN0QixhQUFhLEVBQUUsT0FBTyxDQUFDLE1BQU07YUFDOUIsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFFakMsTUFBTSxTQUFTLEdBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxlQUFlLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztZQUN6RixJQUFJLElBQUksQ0FBQyxPQUFPLElBQUksU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQztnQkFFL0MsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7b0JBQ3JCLFdBQVcsRUFBRSxPQUFPLENBQUMsZUFBZTtvQkFDcEMsa0JBQWtCLEVBQUUsT0FBTyxDQUFDLHNCQUFzQjtpQkFDbkQsQ0FBQyxDQUFDO2dCQUVILFVBQVUsQ0FBQyxHQUFHLEVBQUU7b0JBQ2QsZ0RBQWdEO29CQUNoRCw0RUFBNEU7b0JBQzVFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQzNCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUVUO1lBQ0QsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFDO2dCQUNqQixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQzthQUN4QjtTQUNGO0lBQ0gsQ0FBQzs4R0FyRlUseUJBQXlCO2tHQUF6Qix5QkFBeUIsMlNBY3pCLGlCQUFpQiw4REMvQjlCLDg0QkErQkE7OzJGRGRhLHlCQUF5QjtrQkFMckMsU0FBUzsrQkFDRSxvQkFBb0I7NEZBTXJCLE1BQU07c0JBQWQsS0FBSztnQkFDSSxhQUFhO3NCQUF0QixNQUFNO2dCQUNHLFlBQVk7c0JBQXJCLE1BQU07Z0JBR1csTUFBTTtzQkFBdkIsS0FBSzt1QkFBQyxTQUFTO2dCQUVDLEtBQUs7c0JBQXJCLEtBQUs7dUJBQUMsUUFBUTtnQkFHTyxPQUFPO3NCQUE1QixLQUFLO3VCQUFDLGFBQWE7Z0JBRTRCLE1BQU07c0JBQXJELFNBQVM7dUJBQUMsaUJBQWlCLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBQb0xvb2t1cENvbHVtbiwgUG9Mb29rdXBDb21wb25lbnQgfSBmcm9tICdAcG8tdWkvbmctY29tcG9uZW50cyc7XHJcblxyXG5pbXBvcnQgeyBQcm9Db21wYW55IH0gZnJvbSAnLi8uLi8uLi8uLi9zZXJ2aWNlcy9wcm8tdGVuYW50L3Byby1jb21wYW55L21vZGVscy9wcm8tY29tcGFueSc7XHJcbmltcG9ydCB7IFByb0NvbXBhbnlMb29rdXBTZXJ2aWNlIH0gZnJvbSAnLi9wcm8tY29tcGFueS1sb29rdXAuc2VydmljZSc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIENvbXBvbmVudGUgcXVlIGRpc3BvbmliaWxpemEgdW0gY2FtcG8gcGFyYSBsb29rdXAgcGFyYSBncnVwbyBkZSBlbXByZXNhLlxyXG4gKiBPIG5vbWUgZG8gZmllbGQgbm8gZm9ybXVsw6FyaW8gc2Vyw6EgY29tcGFueV9jb2RlXHJcbiAqL1xyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3Byby1jb21wYW55LWxvb2t1cCcsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3Byby1jb21wYW55LWxvb2t1cC5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4uL3Byby1maWVsZHMtbG9va3VwLmNvbXBvbmVudC5jc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUHJvQ29tcGFueUxvb2t1cENvbXBvbmVudCB7XHJcbiAgLyoqIEZvcm11bMOhcmlvIHBhaSBkbyBjb21wb25lbnRlLiBQYXJhIGZvcm11bMOhcmlvcyB0ZW1wbGF0ZS1kcml2ZW4gcGFzc2UgbyBuZ01vZGVsLiAgKi9cclxuICBASW5wdXQoKSBwYXJlbnQ7XHJcbiAgQE91dHB1dCgpIGNvbXBhbnlTZXR0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPFByb0NvbXBhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGJyYW5jaFNldHRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcclxuXHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1pbnB1dC1yZW5hbWVcclxuICBASW5wdXQoJ3AtbGFiZWwnKSBwTGFiZWw/OiBzdHJpbmc7XHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1pbnB1dC1yZW5hbWVcclxuICBASW5wdXQoJ3AtaGludCcpIHBIaW50Pzogc3RyaW5nO1xyXG5cclxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWlucHV0LXJlbmFtZVxyXG4gIEBJbnB1dCgncHJvLWNvbHVtbnMnKSBjb2x1bW5zPzogQXJyYXk8UG9Mb29rdXBDb2x1bW4+O1xyXG5cclxuICBAVmlld0NoaWxkKFBvTG9va3VwQ29tcG9uZW50LCB7IHN0YXRpYzogdHJ1ZSB9KSBsb29rdXA6IFBvTG9va3VwQ29tcG9uZW50O1xyXG4gIHByaXZhdGUgc3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIGZpcnN0UGFzczogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb25zdHJ1dG9yIGRhIGNsYXNzZVxyXG4gICAqIEBwYXJhbSBzZXJ2aWNlIFNlcnZpw6dvIGRlIExvb2t1cCBkbyBncnVwbyBkZSBlbXByZXNhc1xyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzZXJ2aWNlOiBQcm9Db21wYW55TG9va3VwU2VydmljZSkgeyB9XHJcblxyXG4gIHB1YmxpYyBmaWVsZEZvcm1hdCh2YWx1ZTogUHJvQ29tcGFueSkge1xyXG4gICAgcmV0dXJuIHZhbHVlLkNvZGU7XHJcbiAgfVxyXG5cclxuICBzZXRDb21wYW55Rm9jdXMoKTogdm9pZHtcclxuICAgIHRoaXMubG9va3VwLmZvY3VzKCk7XHJcbiAgfVxyXG5cclxuICBzZXRTdGFydGVkKHN0YXJ0ZWQ6IGJvb2xlYW4pOiB2b2lke1xyXG4gICAgdGhpcy5zdGFydGVkID0gc3RhcnRlZDtcclxuICB9XHJcblxyXG4gIC8qXHJcbiAgdHJlY2hvIHBhcmEgbW9zdHJhciBhIGNvbnN1bHRhIHBlbG8gYXRhbGhvIGRvIEYzXHJcbiAgbWFudGlkbyBhcXVpIHBhcmEgc2VydmlyIGRlIGJhc2UgY2FzbyB2ZW5oYSBhIHNlciBuZWNlc3PDoXJpbyB1dGlsaXphciBpc3NvIG5vIGZ1dHVyby5cclxuXHJcbiAgLy8gUmVnaXN0cmUgbyBIb3N0TGlzdGVuZXIgcGFyYSBhIHRlY2xhIEYzXHJcbiAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6a2V5ZG93bi5GMycsIFsnJGV2ZW50J10pXHJcbiAgaGFuZGxlRjNLZXkoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnNvbGUubG9nKFwiZjMgb3V0XCIpO1xyXG4gICAgaWYgKHRoaXMubG9va3VwLmlucHV0RWwubmF0aXZlRWxlbWVudCA9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KXtcclxuICAgICAgY29uc29sZS5sb2coXCJmMyBpblwiKTtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gSXNzbyBpbXBlZGUgcXVlIGEgYcOnw6NvIHBhZHLDo28gZGEgdGVjbGEgRjMgKGdlcmFsbWVudGUgYWJyaXIgYSBidXNjYSkgc2VqYSBleGVjdXRhZGFcclxuICAgICAgdGhpcy5sb29rdXAub3Blbkxvb2t1cCgpO1xyXG4gICAgfVxyXG4gIH0gKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uIEVmZXR1YSBvIHNldCBkbyBncnVwbyBkZSBlbXByZXNhcyBwYXJhIG8gc2VydmnDp28sIGF0dWFsaXphIG8gcGFyZW50IGUgZGlzcGFyYWRhIG8gZXZlbnRvXHJcbiAgICogQHBhcmFtIGNvbXBhbnkgT2JqZXRvIGRvIGdydXBvIGRlIGVtcHJlc2FzXHJcbiAgICovXHJcbiAgc2V0Q29tcGFueShjb21wYW55OiBQcm9Db21wYW55KTogdm9pZCB7XHJcbiAgICBpZiAoT2JqZWN0LmtleXMoY29tcGFueSkubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLnBhcmVudC5wYXRjaFZhbHVlKHtcclxuICAgICAgICBjb21wYW55X2Rlc2NyaXB0aW9uOiBjb21wYW55LkNvcnBvcmF0ZU5hbWUsXHJcbiAgICAgICAgYnJhbmNoX2NvZGU6ICcnLFxyXG4gICAgICAgIGJyYW5jaF9kZXNjcmlwdGlvbjogJycsXHJcbiAgICAgICAgY29tcGFueUxheW91dDogY29tcGFueS5MYXlvdXRcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuc2VydmljZS5zZXRDb21wYW55KGNvbXBhbnkpO1xyXG4gICAgICB0aGlzLmNvbXBhbnlTZXR0ZWQuZW1pdChjb21wYW55KTtcclxuXHJcbiAgICAgIGNvbnN0IGhhc0JyYW5jaDogYm9vbGVhbiA9ICEhY29tcGFueS5GaXJzdEJyYW5jaENvZGUgJiYgISFjb21wYW55LkZpcnN0QnJhbmNoRGVzY3JpcHRpb247XHJcbiAgICAgIGlmICh0aGlzLnN0YXJ0ZWQgJiYgaGFzQnJhbmNoICYmICF0aGlzLmZpcnN0UGFzcyl7XHJcblxyXG4gICAgICAgIHRoaXMucGFyZW50LnBhdGNoVmFsdWUoe1xyXG4gICAgICAgICAgYnJhbmNoX2NvZGU6IGNvbXBhbnkuRmlyc3RCcmFuY2hDb2RlLFxyXG4gICAgICAgICAgYnJhbmNoX2Rlc2NyaXB0aW9uOiBjb21wYW55LkZpcnN0QnJhbmNoRGVzY3JpcHRpb25cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAvLyBldmVudG8gcGFyYSBmb3LDp2FyIG8gZm9jbyBubyBsb29rdXAgZGUgYnJhbmNoXHJcbiAgICAgICAgICAvLyBwb3IgYWxndW0gbW90aXZvIG9ic2N1cm8gbyBwYXRjaFZhbHVlIG5vIGJyYW5jaCByZXRpcmEgbyBmb2NvIGRvIGVsZW1lbnRvXHJcbiAgICAgICAgICB0aGlzLmJyYW5jaFNldHRlZC5lbWl0KCk7XHJcbiAgICAgICAgfSwgMjAwKTtcclxuXHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuZmlyc3RQYXNzKXtcclxuICAgICAgICB0aGlzLmZpcnN0UGFzcyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIjxkaXYgW2Zvcm1Hcm91cF09XCJwYXJlbnRcIiBjbGFzcz1cInBvLXBhZ2UtbG9naW4taW5mby1jb250YWluZXJcIj5cclxuICA8cG8tbG9va3VwXHJcbiAgICBjbGFzcz1cInBvLW1kLTZcIlxyXG4gICAgbmFtZT1cImNvbXBhbnlfY29kZVwiXHJcbiAgICBmb3JtQ29udHJvbE5hbWU9XCJjb21wYW55X2NvZGVcIlxyXG4gICAgcC1maWVsZC1sYWJlbD1cIkNvZGVcIlxyXG4gICAgcC1maWVsZC12YWx1ZT1cIkNvZGVcIlxyXG4gICAgW3AtbGFiZWxdPVwicExhYmVsXCJcclxuICAgIFtwLWNvbHVtbnNdPVwiY29sdW1uc1wiXHJcbiAgICBbcC1maWVsZC1mb3JtYXRdPVwiZmllbGRGb3JtYXRcIlxyXG4gICAgW3AtZmlsdGVyLXNlcnZpY2VdPVwic2VydmljZVwiXHJcbiAgICAocC1zZWxlY3RlZCk9XCJzZXRDb21wYW55KCRldmVudClcIlxyXG4gID5cclxuICA8L3BvLWxvb2t1cD5cclxuICA8cG8taW5wdXRcclxuICAgIGNsYXNzPVwicG8tbWQtNlwiXHJcbiAgICBuYW1lPVwiY29tcGFueV9kZXNjcmlwdGlvblwiXHJcbiAgICBmb3JtQ29udHJvbE5hbWU9XCJjb21wYW55X2Rlc2NyaXB0aW9uXCJcclxuICAgIHAtbGFiZWw9XCImbmJzcDtcIlxyXG4gICAgcC1kaXNhYmxlZD1cInRydWVcIlxyXG4gID5cclxuICA8L3BvLWlucHV0PlxyXG4gIDxkaXYgY2xhc3M9XCJwby1wYWdlLWxvZ2luLWluZm8taWNvbi1jb250YWluZXIgdG9vbHRpcC1iaWdzY3JlZW4tYWRqdXN0XCI+XHJcbiAgICA8c3BhblxyXG4gICAgICBjbGFzcz1cInBvLWljb24gcG8tZmllbGQtaWNvbiBwby1pY29uLWluZm9cIlxyXG4gICAgICBbcC10b29sdGlwXT1cInBIaW50XCJcclxuICAgICAgcC10b29sdGlwLXBvc2l0aW9uPVwicmlnaHRcIlxyXG4gICAgPlxyXG4gICAgPC9zcGFuPlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19