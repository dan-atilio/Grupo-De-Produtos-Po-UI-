import { Component, Input, ViewChild } from '@angular/core';
import { Validators } from '@angular/forms';
import { of } from 'rxjs';
import { delay, retry, tap } from 'rxjs/operators';
import { SubSink } from 'subsink';
import { environment } from '../../../environments/environment';
import { isExternalLink } from '../../../util';
import { ProBranchLookupComponent } from '../../pro-fields/pro-branch-lookup/pro-branch-lookup.component';
import { ProCompanyLookupComponent } from '../../pro-fields/pro-company-lookup/pro-company-lookup.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@angular/router";
import * as i3 from "./../../../services/pro-messages/services/pro-message.service";
import * as i4 from "./services/pro-session-settings.service";
import * as i5 from "./../../../services/pro-tenant/pro-company/services/pro-company.service";
import * as i6 from "./../../../services/pro-role/pro-role-modules/services/pro-role.service";
import * as i7 from "./../../../services/pro-tenant/pro-branch/services/pro-branch.service";
import * as i8 from "@po-ui/ng-components";
import * as i9 from "../../../services/pro-translate-string/services/pro-translate-string.service";
import * as i10 from "../../../services/pro-brand/services/pro-brand.service";
import * as i11 from "./../../../services/pro-system-info/pro-system-modules/services/pro-system-modules.service";
import * as i12 from "@angular/common";
import * as i13 from "../pro-page-background/pro-page-background.component";
import * as i14 from "../../pro-fields/pro-company-lookup/pro-company-lookup.component";
import * as i15 from "../../pro-fields/pro-branch-lookup/pro-branch-lookup.component";
import * as i16 from "../../pro-fields/pro-role-lookup/pro-role-lookup.component";
import * as i17 from "../../pro-fields/pro-system-module-lookup/pro-system-module-lookup.component";
export class ProSessionSettingsComponent {
    /**
     * @description metodo chamado na mudança do combox de idioma da tela de parametros da sessão
     * @param language opção de idioma escolhido pelo usuário
     * @returns void
     */
    onSelectedLanguage(language) {
        this.poI18nService.setLanguage(language, false);
        this.poI18nService
            .getLiterals({ language, context: 'session' })
            .subscribe(literals => {
            this.updLiterals(literals);
            this.updateProductName();
        });
        this.messageService.changeLanguage(language).subscribe({
            next: () => { this.updateModuleDescription(); }
        });
    }
    /**
     * @description Atualiza as strings traduzíveis da interface
     * @param literals Objeto de literais, contendo as traduções da interface
     */
    updLiterals(literals) {
        this.literals = literals;
        this.companyColumns[0].label = this.literals.str0020; // 'Código'
        this.companyColumns[1].label = this.literals.str0021; // 'Descrição'
        this.moduleColumns[0].label = this.literals.str0020; // 'Código'
        this.moduleColumns[1].label = this.literals.str0022; // 'Nome'
        this.moduleColumns[2].label = this.literals.str0021; // 'Descrição'
        this.roleColumns[0].label = this.literals.str0020; // 'Código'
        this.roleColumns[1].label = this.literals.str0021; // 'Descrição'
        this.updateBranchLiterals();
    }
    /**
     * @description Atualiza as strings de tradução as colunas do Lookup de filial
     */
    updateBranchLiterals() {
        this.branchColumns[0].label = this.literals.str0020; // 'Código'
        this.branchColumns[1].label = this.literals.str0021; // 'Descrição'
        this.branchColumns[2].label = this.literals.str0026; // 'CNPJ'
        this.branchColumns[3].label = this.literals.str0025; // 'Nome comercial'
        this.updateCnpjTitleColumn();
    }
    activateSupport(url = this.getSupportLink()) {
        this.setUrlRedirect(url);
    }
    /**
     * @description Método para obter o link de suporte
     * @returns Retorna uma string contendo o link de suporte do ERP
     */
    getSupportLink() {
        const language = this.poI18nService.getShortLanguage();
        let supportLink = 'http://suporte.totvs.com/';
        if (this.brand == 'MA3') {
            supportLink = language === 'en' ? 'https://www.national-platform.com/' : 'https://www.national-platform.ru/';
        }
        else {
            if (language === 'es') {
                supportLink = 'https://totvscst.zendesk.com/hc/es#home';
            }
            else if (language === 'en') {
                supportLink = 'https://totvscst.zendesk.com/hc/en-us#home';
            }
        }
        return supportLink;
    }
    /**
     * @description Efetua o redirect conforme a URL recebida
     * @param url URL que será verificada, podendo abrir uma janela ou mudar a rota
     */
    setUrlRedirect(url) {
        isExternalLink(url)
            ? window.open(url, '_blank')
            : this.router.navigate([url]);
    }
    /**
     * @description Construtor da classe
     * @param formBuilder Objeto FormBuilder para controle do formulário
     * @param router Objeto Router para controle da rota
     * @param messageService Serviço ProMessageService para exibição de notificações
     * @param route Objeto ActivatedRoute para controle da rota atual
     * @param proSessionSettingsService Serviço ProSessionSettingsService para obter os dados de login salvos
     * @param proCompanyService Serviço ProCompanyService para obter dados do grupo de empresas
     * @param proRoleService Serviço ProRoleService para obter dados de papel de trabalho
     * @param proBranchService Serviço ProBranchService para obter dados da filial
     * @param poI18nService Serviço PoI18nService para tradução da interface via dados locais
     * @param proTranslateStringService Serviço ProTranslateStringService para tradução da interface via API do Protheus
     * @param proBrandService Serviço para identificação da marca, MA3 na russia
     */
    constructor(formBuilder, router, messageService, route, proSessionSettingsService, proCompanyService, proRoleService, proBranchService, poI18nService, proTranslateStringService, proBrandService, proSystemModuleService) {
        this.formBuilder = formBuilder;
        this.router = router;
        this.messageService = messageService;
        this.route = route;
        this.proSessionSettingsService = proSessionSettingsService;
        this.proCompanyService = proCompanyService;
        this.proRoleService = proRoleService;
        this.proBranchService = proBranchService;
        this.poI18nService = poI18nService;
        this.proTranslateStringService = proTranslateStringService;
        this.proBrandService = proBrandService;
        this.proSystemModuleService = proSystemModuleService;
        this.useHTTP = environment.useHTTP;
        this.subs = new SubSink();
        this.companyColumns = [
            { property: 'Code', label: '' },
            { property: 'CorporateName', label: '' }
        ];
        this.branchColumns = this.getDefaultBranchColumns();
        this.moduleColumns = [
            { property: 'id', label: '' },
            { property: 'name', label: '' },
            { property: 'description', label: '' }
        ];
        this.roleColumns = [
            { property: 'Code', label: '' },
            { property: 'Description', label: '' }
        ];
        const language = poI18nService.getShortLanguage();
        poI18nService
            .getLiterals({ language, context: 'session' })
            .subscribe(literals => {
            this.updLiterals(literals);
            this.updateBrand();
        });
        this.messageService.changeLanguage(language);
        this.changeServicesChannel();
    }
    /**
     * @description Lista de colunas do Lookup de filiais
     * @returns Retorna uma lista de PoLookupColumn, contendo as colunas padrões do Lookup de filiais
     */
    getDefaultBranchColumns() {
        return [
            { property: 'Code', label: '', width: '140px' },
            { property: 'Description', label: '', width: '200px' },
            { property: 'Cgc', label: '', width: '180px' },
            { property: 'CommercialName', label: '', width: '200px' },
        ];
    }
    /**
     * @description metodo disparado a partir de um evento no lookup de company
     * utilizado para forçar o foco no lookup de branch
     */
    branchSettedEvent() {
        this.proBranchLookupComponent.setBranchFocus();
    }
    /**
     * @description Método disparado via o evento de troca de grupo de empresas
     * @param event Evento do formulário
     */
    changeBranchColumns(event) {
        this.updateCnpjTitle();
        const layout = event.layout || this.settingForm.value.companyLayout;
        if (layout) {
            this.branchColumns = this.getDefaultBranchColumns();
            this.updateBranchLiterals();
            const company = layout.includes('E');
            const unit = layout.includes('U');
            if (company) {
                this.branchColumns.push({ property: 'CompanyCode', label: this.literals.str0027, width: '100px' });
            }
            if (unit) {
                this.branchColumns.push({ property: 'UnitOfBusiness', label: this.literals.str0028, width: '100px' });
            }
            if ((unit || company) && layout.includes('F')) {
                this.branchColumns.push({ property: 'ParentCode', label: this.literals.str0012, width: '100px' });
            }
        }
    }
    /**
     * @description Método do ciclo de vida do Angular, esse método é chamado após o construtor da classe
     */
    ngOnInit() {
        this.showGoEmpFil = false;
        this.showMDIMenuInfo = false;
        this.isLoading = false;
        this.settingForm = this.buildForm();
        this.subs.sink = this.subscribeToResolver();
        this.logo = './assets/images/totvs/totvs.svg';
        this.secondaryLogo = './assets/images/totvs/totvs.svg';
        this.updateCnpjTitle();
    }
    /**
     * @description Responda depois que o Angular inicializar as visualizações do componente e as visualizações filhas ou a visualização que contém a diretiva.
     * utilizado aqui para setar o foco no componente de grupo de empresa na abertura da tela
     * e definir a variavel started para true do componente company
     */
    ngAfterViewInit() {
        setTimeout(() => {
            this.proCompanyLookupComponent.setCompanyFocus();
            this.proCompanyLookupComponent.setStarted(true);
        }, 500);
    }
    /**
     * @description Atualiza o título da coluna de CNPJ da consulta de filiais conforme API
     */
    updateCnpjTitle() {
        let unsubscribe;
        unsubscribe = this.proTranslateStringService.getStrList('fwfilial').subscribe({
            next: (strs) => {
                if (strs && strs.str0010) {
                    this.cnpjTitle = strs.str0010;
                    if (this.literals) {
                        this.updateCnpjTitleColumn();
                    }
                }
            },
            complete: () => unsubscribe ? unsubscribe.unsubscribe() : null
        });
    }
    /**
     * @description Atualiza o título da coluna de CNPJ no objeto da coluna da interface já criada
     */
    updateCnpjTitleColumn() {
        //A prioridade é o valor da API, caso contrário, utiliza o valor de tradução local
        this.cnpjTitle = this.cnpjTitle || this.literals.str0026; // 'CNPJ'
        this.branchColumns[2].label = this.cnpjTitle;
    }
    /**
     * @description Atualiza a descrição do modulo selecionado
     */
    updateModuleDescription() {
        this.proSystemModuleService.getSystemModule(this.settingForm.get('environment_code').value).subscribe((systemModule) => {
            this.settingForm.get('environment_description').patchValue(systemModule.description);
        });
    }
    /**
     * @description Cria e retorna o dados de controle de formulário das configurações de login
     * @returns Retorna o FormGroup do formulário de dados de login
     */
    buildForm() {
        return this.formBuilder.group({
            base_date: [null, [Validators.required]],
            company_code: [null, [Validators.required]],
            company_description: [null, [Validators.required]],
            branch_code: [null, [Validators.required]],
            branch_description: [null, [Validators.required]],
            environment_code: [
                null,
                [this.moduleValidator.bind(this), Validators.required]
            ],
            environment_description: [null, [Validators.required]],
            role_code: [null, []],
            role_description: [null, []],
            mdi_menu_info: [false, []],
            go_emp_fil: [false, []],
            companyLayout: [null, []],
        });
    }
    moduleValidator(control) {
        if (!this.fixedModule && parseInt(control.value, 10) === 99) {
            return {
                configurador: this.literals.str0019
            };
        }
        else {
            return Validators.required(control);
        }
    }
    subscribeToResolver() {
        return this.route.data.subscribe(resultOfResolver => {
            this.validateResolverData(resultOfResolver);
        });
    }
    validateResolverData(resolveData) {
        if (resolveData.defaultsSettings) {
            this.sessionSettingsDefaults = resolveData.defaultsSettings;
            this.fixedModule =
                typeof resolveData.defaultsSettings.environment_when === 'undefined'
                    ? false
                    : !resolveData.defaultsSettings.environment_when;
            this.fixedRole = !resolveData.defaultsSettings.role_when;
            this.disableBackButton = resolveData.defaultsSettings.disable_back_button;
            this.showMDIMenuInfo = resolveData.defaultsSettings.show_mdi_menu_info;
            this.showGoEmpFil = resolveData.defaultsSettings.show_go_emp_fil;
            this.loadSettingForm();
        }
        if (resolveData.userInfo) {
            this.displayName = resolveData.userInfo.displayName;
        }
    }
    set sessionSettingsDefaults(defaults) {
        if (defaults.base_date) {
            defaults.base_date = this.convertDateforPoDatePicker(defaults.base_date);
        }
        else {
            defaults.base_date = new Date();
        }
        this._ProSessionSettingsDefaults = defaults;
    }
    get sessionSettingsDefaults() {
        return this._ProSessionSettingsDefaults;
    }
    convertDateforPoDatePicker(base_date) {
        let convertedDate = base_date;
        if (base_date && !(base_date instanceof Date)) {
            convertedDate = `${base_date}T00:00:00-02:00`;
        }
        return convertedDate;
    }
    loadSettingForm() {
        // Carrega o campo de empresa primeiro, pois ele é utilizado no campo de filial.
        this.settingForm
            .get('company_code')
            .patchValue(this.sessionSettingsDefaults.company_code);
        this.settingForm.patchValue(this.sessionSettingsDefaults);
        this.proCompanyService.company = {
            Code: this.sessionSettingsDefaults.company_code
        };
        this.proBranchService.branch = {
            Code: this.sessionSettingsDefaults.branch_code
        };
        this.proRoleService.role = {
            Code: this.sessionSettingsDefaults.role_code,
            Description: this.sessionSettingsDefaults.role_description
        };
    }
    onSessionSettingBack() {
        this.proSessionSettingsService.clearSettingsDefaults();
        this.router.navigate(['/login']);
    }
    onSessionSettingSubmit() {
        this.isLoading = true;
        of(true)
            .pipe(delay(100), tap(() => {
            if (this.settingForm.pending) {
                throw new Error();
            }
        }), retry(25), tap(() => {
            this.submitForm();
        }))
            .subscribe({
            error: () => {
                this.isLoading = false;
                this.onErrorSubmit(this.literals.str0024);
            }
        });
    }
    submitForm() {
        if (this.settingForm.valid) {
            this.subs.sink = this.saveSettings(this.settingForm).subscribe({
                next: () => {
                    this.messageService.changeLanguage(this.poI18nService.getShortLanguage());
                    this.router.navigate(['/home']);
                },
                error: () => {
                    this.onErrorSubmit();
                }
            });
        }
        else {
            this.onErrorSubmit(this.literals.str0019); // 'Formulário inválido'
        }
    }
    ngOnDestroy() {
        this.subs.unsubscribe();
    }
    onErrorSubmit(message) {
        this.isLoading = false;
        if (message) {
            this.messageService.showMessage(message, 2);
        }
        this.router.navigate(['/session-settings']);
    }
    saveSettings(form) {
        const newSession = {
            base_date: form.get('base_date').value,
            company_code: form.get('company_code').value,
            branch_code: form.get('branch_code').value,
            environment_code: form.get('environment_code').value,
            role_code: form.get('role_code').value,
            mdi_menu_info: form.get('mdi_menu_info').value,
            go_emp_fil: form.get('go_emp_fil').value
        };
        return this.proSessionSettingsService.saveSettingsDefaults(newSession);
    }
    setChannelAsHTTP(value) {
        this.useHTTP = value;
        this.changeServicesChannel();
    }
    isChannelHTTP() {
        return this.useHTTP;
    }
    /**
     * @description Atualiza o Canal de comunicação
     * dos serviços utilizados pelo componente
     * @returns void
     */
    changeServicesChannel() {
        this.proCompanyService.setChannelAsHTTP(this.useHTTP);
        this.proBranchService.setChannelAsHTTP(this.useHTTP);
        this.proTranslateStringService.setChannelAsHTTP(this.useHTTP);
        this.proSystemModuleService.setChannelAsHTTP(this.useHTTP);
    }
    /**
     * @description Atualiza as variaveis a partir da marca
     * ma3 na russia e protheus nas demais
     * @returns void
     */
    updateResourceByBrand() {
        if (this.brand == "MA3") {
            this.logo = './assets/images/nationalplatform/nationalplatform.svg';
            this.secondaryLogo = './assets/images/nationalplatform/nationalplatform.svg';
            this.productName = 'Ma-3 Line';
        }
        else {
            this.logo = './assets/images/totvs/totvs.svg';
            this.secondaryLogo = './assets/images/totvs/totvs.svg';
            this.productName = this.literals.str0001;
        }
    }
    /**
     * @description atualiza a variavel productName.
     * quando não for MA3 precisa atualziar com a literals cada vez que muda o idioma
     * @returns void
     */
    updateProductName() {
        if (this.brand != "MA3") {
            this.productName = this.literals.str0001;
        }
    }
    /**
     * @description atualiza a variavel de marca
     * @returns void
     */
    updateBrand() {
        this.proBrandService.setChannelAsHTTP(environment.useHTTP);
        this.proBrandService.getERPBrand().subscribe({
            next: (brand) => {
                this.brand = brand;
                this.updateResourceByBrand();
            },
            error: (error) => {
                this.brand = "TOTVS";
                this.updateResourceByBrand();
            }
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.9", ngImport: i0, type: ProSessionSettingsComponent, deps: [{ token: i1.UntypedFormBuilder }, { token: i2.Router }, { token: i3.ProMessageService }, { token: i2.ActivatedRoute }, { token: i4.ProSessionSettingsService }, { token: i5.ProCompanyService }, { token: i6.ProRoleService }, { token: i7.ProBranchService }, { token: i8.PoI18nService }, { token: i9.ProTranslateStringService }, { token: i10.ProBrandService }, { token: i11.ProSystemModuleService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.9", type: ProSessionSettingsComponent, selector: "pro-session-settings", inputs: { environment: ["p-environment", "environment"], background: ["p-background", "background"], hideLogo: ["p-hide-logo", "hideLogo"], highlightInfo: ["p-highlight-info", "highlightInfo"] }, viewQueries: [{ propertyName: "proBranchLookupComponent", first: true, predicate: ProBranchLookupComponent, descendants: true }, { propertyName: "proCompanyLookupComponent", first: true, predicate: ProCompanyLookupComponent, descendants: true }], ngImport: i0, template: "<button\r\n  class=\"po-page-login-support\"\r\n  (click)=\"activateSupport()\"\r\n  [hidden]=\"!literals?.str0004\"\r\n>\r\n  <span class=\"po-icon po-icon-help\"></span>\r\n  {{ literals?.str0004 }}\r\n  <!-- Suporte -->\r\n</button>\r\n\r\n<pro-page-background\r\n  p-show-select-language\r\n  [p-background]=\"background\"\r\n  [p-highlight-info]=\"highlightInfo\"\r\n  [p-logo]=\"logo\"\r\n  [p-secondary-logo]=\"secondaryLogo\"\r\n  (p-selected-language)=\"onSelectedLanguage($event)\"\r\n>\r\n  <header class=\"po-page-login-header\">\r\n    <div class=\"session-display-top session-display-bot\">\r\n      <div class=\"po-page-login-header-product-name\">\r\n        <h1>{{ productName }}</h1>\r\n        <!-- Linha Protheus -->\r\n      </div>\r\n      <po-tag *ngIf=\"environment\" p-type=\"warning\" [p-value]=\"environment\">\r\n      </po-tag>\r\n    </div>\r\n    <div class=\"po-page-login-header-welcome session-display-bot\">\r\n      {{\r\n        displayName\r\n          ? (literals?.str0009 | poI18n: [displayName])\r\n          : literals?.str0006\r\n      }}<!-- Boas-vindas, {0}. --><!-- Carregando... -->\r\n    </div>\r\n  </header>\r\n  <form class=\"session-settings-form\" [formGroup]=\"settingForm\">\r\n    <div class=\"po-row\">\r\n      <div class=\"po-md-12 po-lg-12 po-xl-12 po-page-login-info-container session-date-container\">\r\n        <po-datepicker\r\n          class=\"po-md-7 po-lg-7 po-xl-7\"\r\n          name=\"base_date\"\r\n          formControlName=\"base_date\"\r\n          p-clean\r\n          p-format=\"dd/mm/yyyy\"\r\n          [p-label]=\"literals?.str0018\"\r\n          p-required\r\n        ></po-datepicker\r\n        ><!-- Data base -->\r\n        <div class=\"po-page-login-info-icon-container session-hint-div\">\r\n          <span\r\n            class=\"po-icon po-field-icon po-icon-info\"\r\n            [p-tooltip]=\"literals?.str0002\"\r\n            p-tooltip-position=\"right\"\r\n            ><!-- Escolha a data base do sistema. -->\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <pro-company-lookup\r\n        class=\"po-md-12\"\r\n        [parent]=\"settingForm\"\r\n        [p-label]=\"literals?.str0010\"\r\n        [p-hint]=\"literals?.str0011\"\r\n        [pro-columns]=\"companyColumns\"\r\n        (companySetted)=\"changeBranchColumns($event)\"\r\n        (branchSetted)=\"branchSettedEvent()\"\r\n      ></pro-company-lookup\r\n      ><!-- Grupo --><!-- Selecione o Grupo de Empresas. -->\r\n      <pro-branch-lookup\r\n        [p-label]=\"literals?.str0012\"\r\n        [p-hint]=\"literals?.str0013\"\r\n        [pro-columns]=\"branchColumns\"\r\n        class=\"po-md-12\"\r\n        [parent]=\"settingForm\"\r\n        ><!-- Filial --><!-- Selecione a Filial. -->\r\n      </pro-branch-lookup>\r\n      <pro-system-module-lookup\r\n        [p-label]=\"literals?.str0014\"\r\n        [p-disabled]=\"fixedModule\"\r\n        [p-hint]=\"literals?.str0015\"\r\n        [pro-columns]=\"moduleColumns\"\r\n        class=\"po-md-12\"\r\n        [parent]=\"settingForm\"\r\n        ><!-- Ambiente --><!-- Selecione o m\u00F3dulo do sistema. -->\r\n      </pro-system-module-lookup>\r\n      <pro-role-lookup\r\n        [p-label]=\"literals?.str0016\"\r\n        [p-disabled]=\"fixedRole\"\r\n        [p-hint]=\"literals?.str0017\"\r\n        class=\"po-md-12\"\r\n        [parent]=\"settingForm\"\r\n      ></pro-role-lookup\r\n      ><!-- Papel de trabalho --><!-- Selecione um Papel de trabalho. -->\r\n      <div *ngIf=\"showGoEmpFil\" class=\"session-reminder-container\">\r\n        <po-switch\r\n          class=\"session-remider-switch\"\r\n          name=\"mdi_menu_info\"\r\n          formControlName=\"mdi_menu_info\"\r\n          p-label=\" \"\r\n          [p-label-off]=\"literals?.str0005\"\r\n          [p-label-on]=\"literals?.str0005\"\r\n        ></po-switch\r\n        ><!-- Usar as informa\u00E7\u00F5es acima em todas as sess\u00F5es. -->\r\n      </div>\r\n      <div *ngIf=\"showMDIMenuInfo\" class=\"session-reminder-container\">\r\n        <po-switch\r\n          class=\"session-remider-switch\"\r\n          name=\"go_emp_fil\"\r\n          formControlName=\"go_emp_fil\"\r\n          p-label=\" \"\r\n          [p-label-off]=\"literals?.str0023\"\r\n          [p-label-on]=\"literals?.str0023\"\r\n        ></po-switch\r\n        ><!-- Iniciar com as informa\u00E7\u00F5es da \u00FAltima sess\u00E3o. -->\r\n        <span\r\n          class=\"po-icon po-field-icon po-icon-info session-reminder-tooltip\"\r\n          [p-tooltip]=\"literals?.str0003\"\r\n          p-tooltip-position=\"right\"\r\n          ><!-- Voc\u00EA pode desabilitar essa op\u00E7\u00E3o no menu do sistema. -->\r\n        </span>\r\n      </div>\r\n      <div\r\n        class=\"po-md-12 po-page-login-info-container session-settings-buttons\"\r\n      >\r\n        <po-button\r\n          class=\"po-md-6\"\r\n          name=\"back\"\r\n          [p-disabled]=\"isLoading || disableBackButton\"\r\n          [p-label]=\"literals?.str0008\"\r\n          (p-click)=\"onSessionSettingBack()\"\r\n          ><!-- Voltar -->\r\n        </po-button>\r\n        <po-button\r\n          class=\"po-md-6 session-settings-button-enter\"\r\n          name=\"submmit\"\r\n          p-kind=\"primary\"\r\n          [p-disabled]=\"\r\n            !(\r\n              this.settingForm.get('company_code').value &&\r\n              this.settingForm.get('branch_code').value &&\r\n              this.settingForm.get('environment_code').value\r\n            )\r\n          \"\r\n          [p-label]=\"isLoading ? literals?.str0006 : literals?.str0007\"\r\n          [p-loading]=\"isLoading\"\r\n          (p-click)=\"onSessionSettingSubmit()\"\r\n          ><!-- Carregando... --><!-- Entrar -->\r\n        </po-button>\r\n        <div class=\"po-page-login-info-icon-container session-empty-div\"></div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</pro-page-background>\r\n", styles: [".session-hint-div{padding:37px 0 0}.session-empty-div{width:30px}.session-info-diff{width:191px}.session-date-container{display:inline-block}.session-reminder-container{padding:0 16px;display:flex;margin-top:0}.session-reminder-tooltip{padding:27px 0 0 20px}.session-display-top{padding-top:3%}.session-display-bot{padding-bottom:2.2%}.session-settings-buttons{padding-top:10px}@media (min-width: 1367px){.session-empty-div{width:33px}.session-info-diff{width:187px}}@media (min-width: 768px){.session-settings-form{padding-top:0}}@media (max-width: 480px){.session-settings-button-enter{padding-top:15px}}\n"], dependencies: [{ kind: "directive", type: i12.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i8.PoButtonComponent, selector: "po-button" }, { kind: "component", type: i8.PoDatepickerComponent, selector: "po-datepicker", inputs: ["p-label", "p-help"] }, { kind: "component", type: i8.PoSwitchComponent, selector: "po-switch", inputs: ["p-value", "p-format-model", "p-label-position", "p-label-off", "p-label-on"] }, { kind: "component", type: i8.PoTagComponent, selector: "po-tag" }, { kind: "component", type: i13.ProPageBackgroundComponent, selector: "pro-page-background", inputs: ["p-background", "p-hide-logo", "p-highlight-info", "p-logo", "p-secondary-logo", "p-show-select-language"], outputs: ["p-selected-language"] }, { kind: "directive", type: i8.PoTooltipDirective, selector: "[p-tooltip]" }, { kind: "component", type: i14.ProCompanyLookupComponent, selector: "pro-company-lookup", inputs: ["parent", "p-label", "p-hint", "pro-columns"], outputs: ["companySetted", "branchSetted"] }, { kind: "component", type: i15.ProBranchLookupComponent, selector: "pro-branch-lookup", inputs: ["parent", "p-label", "p-hint", "pro-columns"], outputs: ["branchSetted"] }, { kind: "component", type: i16.ProRoleLookupComponent, selector: "pro-role-lookup", inputs: ["parent", "p-label", "p-hint", "pro-columns", "p-disabled"], outputs: ["roleSetted"] }, { kind: "component", type: i17.ProSystemModuleLookupComponent, selector: "pro-system-module-lookup", inputs: ["parent", "p-label", "p-disabled", "p-hint", "pro-columns"], outputs: ["systeModuleSetted"] }, { kind: "directive", type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i1.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "pipe", type: i8.PoI18nPipe, name: "poI18n" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.9", ngImport: i0, type: ProSessionSettingsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'pro-session-settings', template: "<button\r\n  class=\"po-page-login-support\"\r\n  (click)=\"activateSupport()\"\r\n  [hidden]=\"!literals?.str0004\"\r\n>\r\n  <span class=\"po-icon po-icon-help\"></span>\r\n  {{ literals?.str0004 }}\r\n  <!-- Suporte -->\r\n</button>\r\n\r\n<pro-page-background\r\n  p-show-select-language\r\n  [p-background]=\"background\"\r\n  [p-highlight-info]=\"highlightInfo\"\r\n  [p-logo]=\"logo\"\r\n  [p-secondary-logo]=\"secondaryLogo\"\r\n  (p-selected-language)=\"onSelectedLanguage($event)\"\r\n>\r\n  <header class=\"po-page-login-header\">\r\n    <div class=\"session-display-top session-display-bot\">\r\n      <div class=\"po-page-login-header-product-name\">\r\n        <h1>{{ productName }}</h1>\r\n        <!-- Linha Protheus -->\r\n      </div>\r\n      <po-tag *ngIf=\"environment\" p-type=\"warning\" [p-value]=\"environment\">\r\n      </po-tag>\r\n    </div>\r\n    <div class=\"po-page-login-header-welcome session-display-bot\">\r\n      {{\r\n        displayName\r\n          ? (literals?.str0009 | poI18n: [displayName])\r\n          : literals?.str0006\r\n      }}<!-- Boas-vindas, {0}. --><!-- Carregando... -->\r\n    </div>\r\n  </header>\r\n  <form class=\"session-settings-form\" [formGroup]=\"settingForm\">\r\n    <div class=\"po-row\">\r\n      <div class=\"po-md-12 po-lg-12 po-xl-12 po-page-login-info-container session-date-container\">\r\n        <po-datepicker\r\n          class=\"po-md-7 po-lg-7 po-xl-7\"\r\n          name=\"base_date\"\r\n          formControlName=\"base_date\"\r\n          p-clean\r\n          p-format=\"dd/mm/yyyy\"\r\n          [p-label]=\"literals?.str0018\"\r\n          p-required\r\n        ></po-datepicker\r\n        ><!-- Data base -->\r\n        <div class=\"po-page-login-info-icon-container session-hint-div\">\r\n          <span\r\n            class=\"po-icon po-field-icon po-icon-info\"\r\n            [p-tooltip]=\"literals?.str0002\"\r\n            p-tooltip-position=\"right\"\r\n            ><!-- Escolha a data base do sistema. -->\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <pro-company-lookup\r\n        class=\"po-md-12\"\r\n        [parent]=\"settingForm\"\r\n        [p-label]=\"literals?.str0010\"\r\n        [p-hint]=\"literals?.str0011\"\r\n        [pro-columns]=\"companyColumns\"\r\n        (companySetted)=\"changeBranchColumns($event)\"\r\n        (branchSetted)=\"branchSettedEvent()\"\r\n      ></pro-company-lookup\r\n      ><!-- Grupo --><!-- Selecione o Grupo de Empresas. -->\r\n      <pro-branch-lookup\r\n        [p-label]=\"literals?.str0012\"\r\n        [p-hint]=\"literals?.str0013\"\r\n        [pro-columns]=\"branchColumns\"\r\n        class=\"po-md-12\"\r\n        [parent]=\"settingForm\"\r\n        ><!-- Filial --><!-- Selecione a Filial. -->\r\n      </pro-branch-lookup>\r\n      <pro-system-module-lookup\r\n        [p-label]=\"literals?.str0014\"\r\n        [p-disabled]=\"fixedModule\"\r\n        [p-hint]=\"literals?.str0015\"\r\n        [pro-columns]=\"moduleColumns\"\r\n        class=\"po-md-12\"\r\n        [parent]=\"settingForm\"\r\n        ><!-- Ambiente --><!-- Selecione o m\u00F3dulo do sistema. -->\r\n      </pro-system-module-lookup>\r\n      <pro-role-lookup\r\n        [p-label]=\"literals?.str0016\"\r\n        [p-disabled]=\"fixedRole\"\r\n        [p-hint]=\"literals?.str0017\"\r\n        class=\"po-md-12\"\r\n        [parent]=\"settingForm\"\r\n      ></pro-role-lookup\r\n      ><!-- Papel de trabalho --><!-- Selecione um Papel de trabalho. -->\r\n      <div *ngIf=\"showGoEmpFil\" class=\"session-reminder-container\">\r\n        <po-switch\r\n          class=\"session-remider-switch\"\r\n          name=\"mdi_menu_info\"\r\n          formControlName=\"mdi_menu_info\"\r\n          p-label=\" \"\r\n          [p-label-off]=\"literals?.str0005\"\r\n          [p-label-on]=\"literals?.str0005\"\r\n        ></po-switch\r\n        ><!-- Usar as informa\u00E7\u00F5es acima em todas as sess\u00F5es. -->\r\n      </div>\r\n      <div *ngIf=\"showMDIMenuInfo\" class=\"session-reminder-container\">\r\n        <po-switch\r\n          class=\"session-remider-switch\"\r\n          name=\"go_emp_fil\"\r\n          formControlName=\"go_emp_fil\"\r\n          p-label=\" \"\r\n          [p-label-off]=\"literals?.str0023\"\r\n          [p-label-on]=\"literals?.str0023\"\r\n        ></po-switch\r\n        ><!-- Iniciar com as informa\u00E7\u00F5es da \u00FAltima sess\u00E3o. -->\r\n        <span\r\n          class=\"po-icon po-field-icon po-icon-info session-reminder-tooltip\"\r\n          [p-tooltip]=\"literals?.str0003\"\r\n          p-tooltip-position=\"right\"\r\n          ><!-- Voc\u00EA pode desabilitar essa op\u00E7\u00E3o no menu do sistema. -->\r\n        </span>\r\n      </div>\r\n      <div\r\n        class=\"po-md-12 po-page-login-info-container session-settings-buttons\"\r\n      >\r\n        <po-button\r\n          class=\"po-md-6\"\r\n          name=\"back\"\r\n          [p-disabled]=\"isLoading || disableBackButton\"\r\n          [p-label]=\"literals?.str0008\"\r\n          (p-click)=\"onSessionSettingBack()\"\r\n          ><!-- Voltar -->\r\n        </po-button>\r\n        <po-button\r\n          class=\"po-md-6 session-settings-button-enter\"\r\n          name=\"submmit\"\r\n          p-kind=\"primary\"\r\n          [p-disabled]=\"\r\n            !(\r\n              this.settingForm.get('company_code').value &&\r\n              this.settingForm.get('branch_code').value &&\r\n              this.settingForm.get('environment_code').value\r\n            )\r\n          \"\r\n          [p-label]=\"isLoading ? literals?.str0006 : literals?.str0007\"\r\n          [p-loading]=\"isLoading\"\r\n          (p-click)=\"onSessionSettingSubmit()\"\r\n          ><!-- Carregando... --><!-- Entrar -->\r\n        </po-button>\r\n        <div class=\"po-page-login-info-icon-container session-empty-div\"></div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</pro-page-background>\r\n", styles: [".session-hint-div{padding:37px 0 0}.session-empty-div{width:30px}.session-info-diff{width:191px}.session-date-container{display:inline-block}.session-reminder-container{padding:0 16px;display:flex;margin-top:0}.session-reminder-tooltip{padding:27px 0 0 20px}.session-display-top{padding-top:3%}.session-display-bot{padding-bottom:2.2%}.session-settings-buttons{padding-top:10px}@media (min-width: 1367px){.session-empty-div{width:33px}.session-info-diff{width:187px}}@media (min-width: 768px){.session-settings-form{padding-top:0}}@media (max-width: 480px){.session-settings-button-enter{padding-top:15px}}\n"] }]
        }], ctorParameters: () => [{ type: i1.UntypedFormBuilder }, { type: i2.Router }, { type: i3.ProMessageService }, { type: i2.ActivatedRoute }, { type: i4.ProSessionSettingsService }, { type: i5.ProCompanyService }, { type: i6.ProRoleService }, { type: i7.ProBranchService }, { type: i8.PoI18nService }, { type: i9.ProTranslateStringService }, { type: i10.ProBrandService }, { type: i11.ProSystemModuleService }], propDecorators: { environment: [{
                type: Input,
                args: ['p-environment']
            }], background: [{
                type: Input,
                args: ['p-background']
            }], hideLogo: [{
                type: Input,
                args: ['p-hide-logo']
            }], highlightInfo: [{
                type: Input,
                args: ['p-highlight-info']
            }], proBranchLookupComponent: [{
                type: ViewChild,
                args: [ProBranchLookupComponent]
            }], proCompanyLookupComponent: [{
                type: ViewChild,
                args: [ProCompanyLookupComponent]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvLXNlc3Npb24tc2V0dGluZ3MuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcHJvdGhldXMtbGliLWNvcmUvc3JjL2NvbXBvbmVudHMvcHJvLXBhZ2VzL3Byby1zZXNzaW9uLXNldHRpbmdzL3Byby1zZXNzaW9uLXNldHRpbmdzLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3Byb3RoZXVzLWxpYi1jb3JlL3NyYy9jb21wb25lbnRzL3Byby1wYWdlcy9wcm8tc2Vzc2lvbi1zZXR0aW5ncy9wcm8tc2Vzc2lvbi1zZXR0aW5ncy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBcUIsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBOEUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFHeEgsT0FBTyxFQUFjLEVBQUUsRUFBZ0IsTUFBTSxNQUFNLENBQUM7QUFDcEQsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDbkQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUVsQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFHaEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMvQyxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxnRUFBZ0UsQ0FBQztBQUMxRyxPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxrRUFBa0UsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWU3RyxNQUFNLE9BQU8sMkJBQTJCO0lBeUR0Qzs7OztPQUlHO0lBQ0gsa0JBQWtCLENBQUMsUUFBZ0I7UUFDakMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENB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QixnRENqRXRDLHMwTEF3SkE7OzJGRDVIYSwyQkFBMkI7a0JBTHZDLFNBQVM7K0JBQ0Usc0JBQXNCO3NiQTBCUixXQUFXO3NCQUFsQyxLQUFLO3VCQUFDLGVBQWU7Z0JBSUMsVUFBVTtzQkFBaEMsS0FBSzt1QkFBQyxjQUFjO2dCQUlDLFFBQVE7c0JBQTdCLEtBQUs7dUJBQUMsYUFBYTtnQkFJTyxhQUFhO3NCQUF2QyxLQUFLO3VCQUFDLGtCQUFrQjtnQkFFWSx3QkFBd0I7c0JBQTVELFNBQVM7dUJBQUMsd0JBQXdCO2dCQUNHLHlCQUF5QjtzQkFBOUQsU0FBUzt1QkFBQyx5QkFBeUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFVudHlwZWRGb3JtQnVpbGRlciwgVW50eXBlZEZvcm1Db250cm9sLCBVbnR5cGVkRm9ybUdyb3VwLCBWYWxpZGF0aW9uRXJyb3JzLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgRGF0YSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgUG9JMThuU2VydmljZSwgUG9Mb29rdXBDb2x1bW4gfSBmcm9tICdAcG8tdWkvbmctY29tcG9uZW50cyc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIG9mLCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgZGVsYXksIHJldHJ5LCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcbmltcG9ydCB7IFN1YlNpbmsgfSBmcm9tICdzdWJzaW5rJztcclxuXHJcbmltcG9ydCB7IGVudmlyb25tZW50IH0gZnJvbSAnLi4vLi4vLi4vZW52aXJvbm1lbnRzL2Vudmlyb25tZW50JztcclxuaW1wb3J0IHsgUHJvQnJhbmRTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvcHJvLWJyYW5kL3NlcnZpY2VzL3Byby1icmFuZC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUHJvVHJhbnNsYXRlU3RyaW5nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL3Byby10cmFuc2xhdGUtc3RyaW5nL3NlcnZpY2VzL3Byby10cmFuc2xhdGUtc3RyaW5nLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBpc0V4dGVybmFsTGluayB9IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQgeyBQcm9CcmFuY2hMb29rdXBDb21wb25lbnQgfSBmcm9tICcuLi8uLi9wcm8tZmllbGRzL3Byby1icmFuY2gtbG9va3VwL3Byby1icmFuY2gtbG9va3VwLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFByb0NvbXBhbnlMb29rdXBDb21wb25lbnQgfSBmcm9tICcuLi8uLi9wcm8tZmllbGRzL3Byby1jb21wYW55LWxvb2t1cC9wcm8tY29tcGFueS1sb29rdXAuY29tcG9uZW50JztcclxuaW1wb3J0IHsgUHJvTWVzc2FnZVNlcnZpY2UgfSBmcm9tICcuLy4uLy4uLy4uL3NlcnZpY2VzL3Byby1tZXNzYWdlcy9zZXJ2aWNlcy9wcm8tbWVzc2FnZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUHJvUm9sZVNlcnZpY2UgfSBmcm9tICcuLy4uLy4uLy4uL3NlcnZpY2VzL3Byby1yb2xlL3Byby1yb2xlLW1vZHVsZXMvc2VydmljZXMvcHJvLXJvbGUuc2VydmljZSc7XHJcbmltcG9ydCB7IFByb0JyYW5jaFNlcnZpY2UgfSBmcm9tICcuLy4uLy4uLy4uL3NlcnZpY2VzL3Byby10ZW5hbnQvcHJvLWJyYW5jaC9zZXJ2aWNlcy9wcm8tYnJhbmNoLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBQcm9Db21wYW55U2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vc2VydmljZXMvcHJvLXRlbmFudC9wcm8tY29tcGFueS9zZXJ2aWNlcy9wcm8tY29tcGFueS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUHJvU2Vzc2lvblNldHRpbmdzIH0gZnJvbSAnLi9tb2RlbHMvcHJvLXNlc3Npb24tc2V0dGluZ3MnO1xyXG5pbXBvcnQgeyBQcm9TZXNzaW9uU2V0dGluZ3NTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9wcm8tc2Vzc2lvbi1zZXR0aW5ncy5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUHJvU3lzdGVtTW9kdWxlU2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vc2VydmljZXMvcHJvLXN5c3RlbS1pbmZvL3Byby1zeXN0ZW0tbW9kdWxlcy9zZXJ2aWNlcy9wcm8tc3lzdGVtLW1vZHVsZXMuc2VydmljZSc7XHJcbmltcG9ydCB7IFByb1N5c3RlbU1vZHVsZXMgfSBmcm9tICcuLy4uLy4uLy4uL3NlcnZpY2VzJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAncHJvLXNlc3Npb24tc2V0dGluZ3MnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9wcm8tc2Vzc2lvbi1zZXR0aW5ncy5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vcHJvLXNlc3Npb24tc2V0dGluZ3MuY29tcG9uZW50LmNzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBQcm9TZXNzaW9uU2V0dGluZ3NDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XHJcbiAgcHVibGljIGRpc3BsYXlOYW1lOiBzdHJpbmc7XHJcbiAgcHVibGljIHNldHRpbmdGb3JtOiBVbnR5cGVkRm9ybUdyb3VwO1xyXG4gIHB1YmxpYyBpc0xvYWRpbmc6IGJvb2xlYW47XHJcbiAgcHVibGljIGxvZ286IHN0cmluZztcclxuICBwdWJsaWMgc2Vjb25kYXJ5TG9nbzogc3RyaW5nO1xyXG4gIHB1YmxpYyBwcm9kdWN0TmFtZTogc3RyaW5nO1xyXG4gIHB1YmxpYyBicmFuZDogc3RyaW5nO1xyXG4gIHB1YmxpYyBsaXRlcmFsczogYW55O1xyXG4gIHB1YmxpYyBmaXhlZE1vZHVsZTogYm9vbGVhbjtcclxuICBwdWJsaWMgZml4ZWRSb2xlOiBib29sZWFuO1xyXG4gIHB1YmxpYyBkaXNhYmxlQmFja0J1dHRvbjogYm9vbGVhbjtcclxuICBwdWJsaWMgc2hvd01ESU1lbnVJbmZvOiBib29sZWFuO1xyXG4gIHB1YmxpYyBzaG93R29FbXBGaWw6IGJvb2xlYW47XHJcbiAgcHVibGljIHVzZUhUVFAgPSBlbnZpcm9ubWVudC51c2VIVFRQO1xyXG5cclxuICBwcml2YXRlIF9Qcm9TZXNzaW9uU2V0dGluZ3NEZWZhdWx0czogUHJvU2Vzc2lvblNldHRpbmdzO1xyXG4gIHByaXZhdGUgc3VicyA9IG5ldyBTdWJTaW5rKCk7XHJcbiAgcHJpdmF0ZSBjbnBqVGl0bGU6IHN0cmluZztcclxuXHJcbiAgLyoqIEluc2VyZSB1bWEgVGFnIGNvbSBvIGFtYmllbnRlIGVtIGV4ZWN1YcOnw6NvLiAqL1xyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8taW5wdXQtcmVuYW1lXHJcbiAgQElucHV0KCdwLWVudmlyb25tZW50JykgZW52aXJvbm1lbnQ/OiBzdHJpbmc7XHJcblxyXG4gIC8qKiBJbnNlcmUgdW1hIGltYWdlbSBkZSBkZXN0YXF1ZSBhbyBsYWRvIGRpcmVpdG8gZG8gY29udGFpbmVyLiAqL1xyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8taW5wdXQtcmVuYW1lXHJcbiAgQElucHV0KCdwLWJhY2tncm91bmQnKSBiYWNrZ3JvdW5kPzogc3RyaW5nO1xyXG5cclxuICAvKiogRGVzaWduYSBzZSBvIGxvZ290aXBvIGRldmUgZGVzYXBhcmVjZXIgZW0gcmVzb2x1w6fDtWVzIG1lbm9yZXMuICovXHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1pbnB1dC1yZW5hbWVcclxuICBASW5wdXQoJ3AtaGlkZS1sb2dvJykgaGlkZUxvZ28/OiBib29sZWFuO1xyXG5cclxuICAvKiogVGV4dG8gZGUgZGVzdGFxdWUgc29icmVwb3N0byDDoCBpbWFnZW0gZGUgZGVzdGFxdWUuIEVzc2Egb3DDp8OjbyDDqSB1dGlsaXphZGEgZW0gY29uanVudG8gY29tIG8gYXRyaWJ1dG8gYHAtYmFja2dyb3VuZGAuICovXHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1pbnB1dC1yZW5hbWVcclxuICBASW5wdXQoJ3AtaGlnaGxpZ2h0LWluZm8nKSBoaWdobGlnaHRJbmZvPzogc3RyaW5nO1xyXG5cclxuICBAVmlld0NoaWxkKFByb0JyYW5jaExvb2t1cENvbXBvbmVudCkgcHJvQnJhbmNoTG9va3VwQ29tcG9uZW50ITogUHJvQnJhbmNoTG9va3VwQ29tcG9uZW50O1xyXG4gIEBWaWV3Q2hpbGQoUHJvQ29tcGFueUxvb2t1cENvbXBvbmVudCkgcHJvQ29tcGFueUxvb2t1cENvbXBvbmVudCE6IFByb0NvbXBhbnlMb29rdXBDb21wb25lbnQ7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBjb21wYW55Q29sdW1uczogQXJyYXk8UG9Mb29rdXBDb2x1bW4+ID0gW1xyXG4gICAgeyBwcm9wZXJ0eTogJ0NvZGUnLCBsYWJlbDogJycgfSxcclxuICAgIHsgcHJvcGVydHk6ICdDb3Jwb3JhdGVOYW1lJywgbGFiZWw6ICcnIH1cclxuICBdO1xyXG5cclxuICBwdWJsaWMgYnJhbmNoQ29sdW1uczogQXJyYXk8UG9Mb29rdXBDb2x1bW4+ID0gdGhpcy5nZXREZWZhdWx0QnJhbmNoQ29sdW1ucygpO1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgbW9kdWxlQ29sdW1uczogQXJyYXk8UG9Mb29rdXBDb2x1bW4+ID0gW1xyXG4gICAgeyBwcm9wZXJ0eTogJ2lkJywgbGFiZWw6ICcnIH0sXHJcbiAgICB7IHByb3BlcnR5OiAnbmFtZScsIGxhYmVsOiAnJyB9LFxyXG4gICAgeyBwcm9wZXJ0eTogJ2Rlc2NyaXB0aW9uJywgbGFiZWw6ICcnIH1cclxuICBdO1xyXG5cclxuICBwdWJsaWMgcmVhZG9ubHkgcm9sZUNvbHVtbnM6IEFycmF5PFBvTG9va3VwQ29sdW1uPiA9IFtcclxuICAgIHsgcHJvcGVydHk6ICdDb2RlJywgbGFiZWw6ICcnIH0sXHJcbiAgICB7IHByb3BlcnR5OiAnRGVzY3JpcHRpb24nLCBsYWJlbDogJycgfVxyXG4gIF07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBtZXRvZG8gY2hhbWFkbyBuYSBtdWRhbsOnYSBkbyBjb21ib3ggZGUgaWRpb21hIGRhIHRlbGEgZGUgcGFyYW1ldHJvcyBkYSBzZXNzw6NvXHJcbiAgICogQHBhcmFtIGxhbmd1YWdlIG9ww6fDo28gZGUgaWRpb21hIGVzY29saGlkbyBwZWxvIHVzdcOhcmlvXHJcbiAgICogQHJldHVybnMgdm9pZFxyXG4gICAqL1xyXG4gIG9uU2VsZWN0ZWRMYW5ndWFnZShsYW5ndWFnZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLnBvSTE4blNlcnZpY2Uuc2V0TGFuZ3VhZ2UobGFuZ3VhZ2UsIGZhbHNlKTtcclxuICAgIHRoaXMucG9JMThuU2VydmljZVxyXG4gICAgICAuZ2V0TGl0ZXJhbHMoeyBsYW5ndWFnZSwgY29udGV4dDogJ3Nlc3Npb24nIH0pXHJcbiAgICAgIC5zdWJzY3JpYmUobGl0ZXJhbHMgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkTGl0ZXJhbHMobGl0ZXJhbHMpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUHJvZHVjdE5hbWUoKTtcclxuICAgICAgfSk7XHJcbiAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLmNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlKS5zdWJzY3JpYmUoe1xyXG4gICAgICBuZXh0OigpID0+eyB0aGlzLnVwZGF0ZU1vZHVsZURlc2NyaXB0aW9uKCk7IH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uIEF0dWFsaXphIGFzIHN0cmluZ3MgdHJhZHV6w612ZWlzIGRhIGludGVyZmFjZVxyXG4gICAqIEBwYXJhbSBsaXRlcmFscyBPYmpldG8gZGUgbGl0ZXJhaXMsIGNvbnRlbmRvIGFzIHRyYWR1w6fDtWVzIGRhIGludGVyZmFjZVxyXG4gICAqL1xyXG4gIHVwZExpdGVyYWxzKGxpdGVyYWxzOiBhbnkpOiB2b2lkIHtcclxuICAgIHRoaXMubGl0ZXJhbHMgPSBsaXRlcmFscztcclxuICAgIHRoaXMuY29tcGFueUNvbHVtbnNbMF0ubGFiZWwgPSB0aGlzLmxpdGVyYWxzLnN0cjAwMjA7IC8vICdDw7NkaWdvJ1xyXG4gICAgdGhpcy5jb21wYW55Q29sdW1uc1sxXS5sYWJlbCA9IHRoaXMubGl0ZXJhbHMuc3RyMDAyMTsgLy8gJ0Rlc2NyacOnw6NvJ1xyXG4gICAgdGhpcy5tb2R1bGVDb2x1bW5zWzBdLmxhYmVsID0gdGhpcy5saXRlcmFscy5zdHIwMDIwOyAvLyAnQ8OzZGlnbydcclxuICAgIHRoaXMubW9kdWxlQ29sdW1uc1sxXS5sYWJlbCA9IHRoaXMubGl0ZXJhbHMuc3RyMDAyMjsgLy8gJ05vbWUnXHJcbiAgICB0aGlzLm1vZHVsZUNvbHVtbnNbMl0ubGFiZWwgPSB0aGlzLmxpdGVyYWxzLnN0cjAwMjE7IC8vICdEZXNjcmnDp8OjbydcclxuICAgIHRoaXMucm9sZUNvbHVtbnNbMF0ubGFiZWwgPSB0aGlzLmxpdGVyYWxzLnN0cjAwMjA7IC8vICdDw7NkaWdvJ1xyXG4gICAgdGhpcy5yb2xlQ29sdW1uc1sxXS5sYWJlbCA9IHRoaXMubGl0ZXJhbHMuc3RyMDAyMTsgLy8gJ0Rlc2NyacOnw6NvJ1xyXG5cclxuICAgIHRoaXMudXBkYXRlQnJhbmNoTGl0ZXJhbHMoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBdHVhbGl6YSBhcyBzdHJpbmdzIGRlIHRyYWR1w6fDo28gYXMgY29sdW5hcyBkbyBMb29rdXAgZGUgZmlsaWFsXHJcbiAgICovXHJcbiAgdXBkYXRlQnJhbmNoTGl0ZXJhbHMoKTogdm9pZCB7XHJcbiAgICB0aGlzLmJyYW5jaENvbHVtbnNbMF0ubGFiZWwgPSB0aGlzLmxpdGVyYWxzLnN0cjAwMjA7IC8vICdDw7NkaWdvJ1xyXG4gICAgdGhpcy5icmFuY2hDb2x1bW5zWzFdLmxhYmVsID0gdGhpcy5saXRlcmFscy5zdHIwMDIxOyAvLyAnRGVzY3Jpw6fDo28nXHJcbiAgICB0aGlzLmJyYW5jaENvbHVtbnNbMl0ubGFiZWwgPSB0aGlzLmxpdGVyYWxzLnN0cjAwMjY7IC8vICdDTlBKJ1xyXG4gICAgdGhpcy5icmFuY2hDb2x1bW5zWzNdLmxhYmVsID0gdGhpcy5saXRlcmFscy5zdHIwMDI1OyAvLyAnTm9tZSBjb21lcmNpYWwnXHJcblxyXG4gICAgdGhpcy51cGRhdGVDbnBqVGl0bGVDb2x1bW4oKTtcclxuICB9XHJcblxyXG4gIGFjdGl2YXRlU3VwcG9ydCh1cmwgPSB0aGlzLmdldFN1cHBvcnRMaW5rKCkpIHtcclxuICAgIHRoaXMuc2V0VXJsUmVkaXJlY3QodXJsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNw6l0b2RvIHBhcmEgb2J0ZXIgbyBsaW5rIGRlIHN1cG9ydGVcclxuICAgKiBAcmV0dXJucyBSZXRvcm5hIHVtYSBzdHJpbmcgY29udGVuZG8gbyBsaW5rIGRlIHN1cG9ydGUgZG8gRVJQXHJcbiAgICovXHJcbiAgZ2V0U3VwcG9ydExpbmsoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGxhbmd1YWdlID0gdGhpcy5wb0kxOG5TZXJ2aWNlLmdldFNob3J0TGFuZ3VhZ2UoKTtcclxuICAgIGxldCBzdXBwb3J0TGluayA9ICdodHRwOi8vc3Vwb3J0ZS50b3R2cy5jb20vJztcclxuXHJcbiAgICBpZiAodGhpcy5icmFuZCA9PSAnTUEzJykge1xyXG4gICAgICBzdXBwb3J0TGluayA9IGxhbmd1YWdlID09PSAnZW4nID8gJ2h0dHBzOi8vd3d3Lm5hdGlvbmFsLXBsYXRmb3JtLmNvbS8nIDogJ2h0dHBzOi8vd3d3Lm5hdGlvbmFsLXBsYXRmb3JtLnJ1Lyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAobGFuZ3VhZ2UgPT09ICdlcycpIHtcclxuICAgICAgICBzdXBwb3J0TGluayA9ICdodHRwczovL3RvdHZzY3N0LnplbmRlc2suY29tL2hjL2VzI2hvbWUnO1xyXG4gICAgICB9IGVsc2UgaWYgKGxhbmd1YWdlID09PSAnZW4nKSB7XHJcbiAgICAgICAgc3VwcG9ydExpbmsgPSAnaHR0cHM6Ly90b3R2c2NzdC56ZW5kZXNrLmNvbS9oYy9lbi11cyNob21lJztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdXBwb3J0TGluaztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBFZmV0dWEgbyByZWRpcmVjdCBjb25mb3JtZSBhIFVSTCByZWNlYmlkYVxyXG4gICAqIEBwYXJhbSB1cmwgVVJMIHF1ZSBzZXLDoSB2ZXJpZmljYWRhLCBwb2RlbmRvIGFicmlyIHVtYSBqYW5lbGEgb3UgbXVkYXIgYSByb3RhXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzZXRVcmxSZWRpcmVjdCh1cmwpOiB2b2lkIHtcclxuICAgIGlzRXh0ZXJuYWxMaW5rKHVybClcclxuICAgICAgPyB3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKVxyXG4gICAgICA6IHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb25zdHJ1dG9yIGRhIGNsYXNzZVxyXG4gICAqIEBwYXJhbSBmb3JtQnVpbGRlciBPYmpldG8gRm9ybUJ1aWxkZXIgcGFyYSBjb250cm9sZSBkbyBmb3JtdWzDoXJpb1xyXG4gICAqIEBwYXJhbSByb3V0ZXIgT2JqZXRvIFJvdXRlciBwYXJhIGNvbnRyb2xlIGRhIHJvdGFcclxuICAgKiBAcGFyYW0gbWVzc2FnZVNlcnZpY2UgU2VydmnDp28gUHJvTWVzc2FnZVNlcnZpY2UgcGFyYSBleGliacOnw6NvIGRlIG5vdGlmaWNhw6fDtWVzXHJcbiAgICogQHBhcmFtIHJvdXRlIE9iamV0byBBY3RpdmF0ZWRSb3V0ZSBwYXJhIGNvbnRyb2xlIGRhIHJvdGEgYXR1YWxcclxuICAgKiBAcGFyYW0gcHJvU2Vzc2lvblNldHRpbmdzU2VydmljZSBTZXJ2acOnbyBQcm9TZXNzaW9uU2V0dGluZ3NTZXJ2aWNlIHBhcmEgb2J0ZXIgb3MgZGFkb3MgZGUgbG9naW4gc2Fsdm9zXHJcbiAgICogQHBhcmFtIHByb0NvbXBhbnlTZXJ2aWNlIFNlcnZpw6dvIFByb0NvbXBhbnlTZXJ2aWNlIHBhcmEgb2J0ZXIgZGFkb3MgZG8gZ3J1cG8gZGUgZW1wcmVzYXNcclxuICAgKiBAcGFyYW0gcHJvUm9sZVNlcnZpY2UgU2VydmnDp28gUHJvUm9sZVNlcnZpY2UgcGFyYSBvYnRlciBkYWRvcyBkZSBwYXBlbCBkZSB0cmFiYWxob1xyXG4gICAqIEBwYXJhbSBwcm9CcmFuY2hTZXJ2aWNlIFNlcnZpw6dvIFByb0JyYW5jaFNlcnZpY2UgcGFyYSBvYnRlciBkYWRvcyBkYSBmaWxpYWxcclxuICAgKiBAcGFyYW0gcG9JMThuU2VydmljZSBTZXJ2acOnbyBQb0kxOG5TZXJ2aWNlIHBhcmEgdHJhZHXDp8OjbyBkYSBpbnRlcmZhY2UgdmlhIGRhZG9zIGxvY2Fpc1xyXG4gICAqIEBwYXJhbSBwcm9UcmFuc2xhdGVTdHJpbmdTZXJ2aWNlIFNlcnZpw6dvIFByb1RyYW5zbGF0ZVN0cmluZ1NlcnZpY2UgcGFyYSB0cmFkdcOnw6NvIGRhIGludGVyZmFjZSB2aWEgQVBJIGRvIFByb3RoZXVzXHJcbiAgICogQHBhcmFtIHByb0JyYW5kU2VydmljZSBTZXJ2acOnbyBwYXJhIGlkZW50aWZpY2HDp8OjbyBkYSBtYXJjYSwgTUEzIG5hIHJ1c3NpYVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBmb3JtQnVpbGRlcjogVW50eXBlZEZvcm1CdWlsZGVyLFxyXG4gICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcclxuICAgIHByaXZhdGUgbWVzc2FnZVNlcnZpY2U6IFByb01lc3NhZ2VTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSByb3V0ZTogQWN0aXZhdGVkUm91dGUsXHJcbiAgICBwcml2YXRlIHByb1Nlc3Npb25TZXR0aW5nc1NlcnZpY2U6IFByb1Nlc3Npb25TZXR0aW5nc1NlcnZpY2UsXHJcbiAgICBwcml2YXRlIHByb0NvbXBhbnlTZXJ2aWNlOiBQcm9Db21wYW55U2VydmljZSxcclxuICAgIHByaXZhdGUgcHJvUm9sZVNlcnZpY2U6IFByb1JvbGVTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBwcm9CcmFuY2hTZXJ2aWNlOiBQcm9CcmFuY2hTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBwb0kxOG5TZXJ2aWNlOiBQb0kxOG5TZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBwcm9UcmFuc2xhdGVTdHJpbmdTZXJ2aWNlOiBQcm9UcmFuc2xhdGVTdHJpbmdTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBwcm9CcmFuZFNlcnZpY2U6IFByb0JyYW5kU2VydmljZSxcclxuICAgIHByaXZhdGUgcHJvU3lzdGVtTW9kdWxlU2VydmljZTogUHJvU3lzdGVtTW9kdWxlU2VydmljZSxcclxuICApIHtcclxuICAgIGNvbnN0IGxhbmd1YWdlID0gcG9JMThuU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCk7XHJcbiAgICBwb0kxOG5TZXJ2aWNlXHJcbiAgICAgIC5nZXRMaXRlcmFscyh7IGxhbmd1YWdlLCBjb250ZXh0OiAnc2Vzc2lvbicgfSlcclxuICAgICAgLnN1YnNjcmliZShsaXRlcmFscyA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRMaXRlcmFscyhsaXRlcmFscyk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVCcmFuZCgpO1xyXG4gICAgICB9KTtcclxuICAgIHRoaXMubWVzc2FnZVNlcnZpY2UuY2hhbmdlTGFuZ3VhZ2UobGFuZ3VhZ2UpO1xyXG4gICAgdGhpcy5jaGFuZ2VTZXJ2aWNlc0NoYW5uZWwoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBMaXN0YSBkZSBjb2x1bmFzIGRvIExvb2t1cCBkZSBmaWxpYWlzXHJcbiAgICogQHJldHVybnMgUmV0b3JuYSB1bWEgbGlzdGEgZGUgUG9Mb29rdXBDb2x1bW4sIGNvbnRlbmRvIGFzIGNvbHVuYXMgcGFkcsO1ZXMgZG8gTG9va3VwIGRlIGZpbGlhaXNcclxuICAgKi9cclxuICBnZXREZWZhdWx0QnJhbmNoQ29sdW1ucygpOiBBcnJheTxQb0xvb2t1cENvbHVtbj4ge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgeyBwcm9wZXJ0eTogJ0NvZGUnLCBsYWJlbDogJycsIHdpZHRoOiAnMTQwcHgnIH0sXHJcbiAgICAgIHsgcHJvcGVydHk6ICdEZXNjcmlwdGlvbicsIGxhYmVsOiAnJywgd2lkdGg6ICcyMDBweCcgfSxcclxuICAgICAgeyBwcm9wZXJ0eTogJ0NnYycsIGxhYmVsOiAnJywgd2lkdGg6ICcxODBweCcgfSxcclxuICAgICAgeyBwcm9wZXJ0eTogJ0NvbW1lcmNpYWxOYW1lJywgbGFiZWw6ICcnLCB3aWR0aDogJzIwMHB4JyB9LFxyXG4gICAgXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBtZXRvZG8gZGlzcGFyYWRvIGEgcGFydGlyIGRlIHVtIGV2ZW50byBubyBsb29rdXAgZGUgY29tcGFueVxyXG4gICAqIHV0aWxpemFkbyBwYXJhIGZvcsOnYXIgbyBmb2NvIG5vIGxvb2t1cCBkZSBicmFuY2hcclxuICAgKi9cclxuICBicmFuY2hTZXR0ZWRFdmVudCgpOiB2b2lke1xyXG4gICAgdGhpcy5wcm9CcmFuY2hMb29rdXBDb21wb25lbnQuc2V0QnJhbmNoRm9jdXMoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNw6l0b2RvIGRpc3BhcmFkbyB2aWEgbyBldmVudG8gZGUgdHJvY2EgZGUgZ3J1cG8gZGUgZW1wcmVzYXNcclxuICAgKiBAcGFyYW0gZXZlbnQgRXZlbnRvIGRvIGZvcm11bMOhcmlvXHJcbiAgICovXHJcbiAgY2hhbmdlQnJhbmNoQ29sdW1ucyhldmVudDogYW55KSB7XHJcbiAgICB0aGlzLnVwZGF0ZUNucGpUaXRsZSgpO1xyXG5cclxuICAgIGNvbnN0IGxheW91dDogc3RyaW5nID0gZXZlbnQubGF5b3V0IHx8IHRoaXMuc2V0dGluZ0Zvcm0udmFsdWUuY29tcGFueUxheW91dDtcclxuXHJcbiAgICBpZiAobGF5b3V0KSB7XHJcbiAgICAgIHRoaXMuYnJhbmNoQ29sdW1ucyA9IHRoaXMuZ2V0RGVmYXVsdEJyYW5jaENvbHVtbnMoKTtcclxuICAgICAgdGhpcy51cGRhdGVCcmFuY2hMaXRlcmFscygpO1xyXG5cclxuICAgICAgY29uc3QgY29tcGFueTogYm9vbGVhbiA9IGxheW91dC5pbmNsdWRlcygnRScpO1xyXG4gICAgICBjb25zdCB1bml0OiBib29sZWFuID0gbGF5b3V0LmluY2x1ZGVzKCdVJyk7XHJcblxyXG4gICAgICBpZiAoY29tcGFueSkge1xyXG4gICAgICAgIHRoaXMuYnJhbmNoQ29sdW1ucy5wdXNoKHsgcHJvcGVydHk6ICdDb21wYW55Q29kZScsIGxhYmVsOiB0aGlzLmxpdGVyYWxzLnN0cjAwMjcsIHdpZHRoOiAnMTAwcHgnIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh1bml0KSB7XHJcbiAgICAgICAgdGhpcy5icmFuY2hDb2x1bW5zLnB1c2goeyBwcm9wZXJ0eTogJ1VuaXRPZkJ1c2luZXNzJywgbGFiZWw6IHRoaXMubGl0ZXJhbHMuc3RyMDAyOCwgd2lkdGg6ICcxMDBweCcgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCh1bml0IHx8IGNvbXBhbnkpICYmIGxheW91dC5pbmNsdWRlcygnRicpKSB7XHJcbiAgICAgICAgdGhpcy5icmFuY2hDb2x1bW5zLnB1c2goeyBwcm9wZXJ0eTogJ1BhcmVudENvZGUnLCBsYWJlbDogdGhpcy5saXRlcmFscy5zdHIwMDEyLCB3aWR0aDogJzEwMHB4JyB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gTcOpdG9kbyBkbyBjaWNsbyBkZSB2aWRhIGRvIEFuZ3VsYXIsIGVzc2UgbcOpdG9kbyDDqSBjaGFtYWRvIGFww7NzIG8gY29uc3RydXRvciBkYSBjbGFzc2VcclxuICAgKi9cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuc2hvd0dvRW1wRmlsID0gZmFsc2U7XHJcbiAgICB0aGlzLnNob3dNRElNZW51SW5mbyA9IGZhbHNlO1xyXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuc2V0dGluZ0Zvcm0gPSB0aGlzLmJ1aWxkRm9ybSgpO1xyXG4gICAgdGhpcy5zdWJzLnNpbmsgPSB0aGlzLnN1YnNjcmliZVRvUmVzb2x2ZXIoKTtcclxuICAgIHRoaXMubG9nbyA9ICcuL2Fzc2V0cy9pbWFnZXMvdG90dnMvdG90dnMuc3ZnJztcclxuICAgIHRoaXMuc2Vjb25kYXJ5TG9nbyA9ICcuL2Fzc2V0cy9pbWFnZXMvdG90dnMvdG90dnMuc3ZnJztcclxuICAgIHRoaXMudXBkYXRlQ25walRpdGxlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gUmVzcG9uZGEgZGVwb2lzIHF1ZSBvIEFuZ3VsYXIgaW5pY2lhbGl6YXIgYXMgdmlzdWFsaXphw6fDtWVzIGRvIGNvbXBvbmVudGUgZSBhcyB2aXN1YWxpemHDp8O1ZXMgZmlsaGFzIG91IGEgdmlzdWFsaXphw6fDo28gcXVlIGNvbnTDqW0gYSBkaXJldGl2YS5cclxuICAgKiB1dGlsaXphZG8gYXF1aSBwYXJhIHNldGFyIG8gZm9jbyBubyBjb21wb25lbnRlIGRlIGdydXBvIGRlIGVtcHJlc2EgbmEgYWJlcnR1cmEgZGEgdGVsYVxyXG4gICAqIGUgZGVmaW5pciBhIHZhcmlhdmVsIHN0YXJ0ZWQgcGFyYSB0cnVlIGRvIGNvbXBvbmVudGUgY29tcGFueVxyXG4gICAqL1xyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnByb0NvbXBhbnlMb29rdXBDb21wb25lbnQuc2V0Q29tcGFueUZvY3VzKCk7XHJcbiAgICAgIHRoaXMucHJvQ29tcGFueUxvb2t1cENvbXBvbmVudC5zZXRTdGFydGVkKHRydWUpO1xyXG4gICAgfSwgNTAwKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBdHVhbGl6YSBvIHTDrXR1bG8gZGEgY29sdW5hIGRlIENOUEogZGEgY29uc3VsdGEgZGUgZmlsaWFpcyBjb25mb3JtZSBBUElcclxuICAgKi9cclxuICB1cGRhdGVDbnBqVGl0bGUoKTogdm9pZCB7XHJcbiAgICBsZXQgdW5zdWJzY3JpYmU6IFN1YnNjcmlwdGlvbjtcclxuXHJcbiAgICB1bnN1YnNjcmliZSA9IHRoaXMucHJvVHJhbnNsYXRlU3RyaW5nU2VydmljZS5nZXRTdHJMaXN0KCdmd2ZpbGlhbCcpLnN1YnNjcmliZShcclxuICAgICAge1xyXG4gICAgICAgIG5leHQ6IChzdHJzOiBhbnkpID0+IHtcclxuICAgICAgICAgIGlmIChzdHJzICYmIHN0cnMuc3RyMDAxMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNucGpUaXRsZSA9IHN0cnMuc3RyMDAxMDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxpdGVyYWxzKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGVDbnBqVGl0bGVDb2x1bW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29tcGxldGU6ICgpID0+IHVuc3Vic2NyaWJlID8gdW5zdWJzY3JpYmUudW5zdWJzY3JpYmUoKSA6IG51bGxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBdHVhbGl6YSBvIHTDrXR1bG8gZGEgY29sdW5hIGRlIENOUEogbm8gb2JqZXRvIGRhIGNvbHVuYSBkYSBpbnRlcmZhY2UgasOhIGNyaWFkYVxyXG4gICAqL1xyXG4gIHVwZGF0ZUNucGpUaXRsZUNvbHVtbigpOiB2b2lkIHtcclxuICAgIC8vQSBwcmlvcmlkYWRlIMOpIG8gdmFsb3IgZGEgQVBJLCBjYXNvIGNvbnRyw6FyaW8sIHV0aWxpemEgbyB2YWxvciBkZSB0cmFkdcOnw6NvIGxvY2FsXHJcbiAgICB0aGlzLmNucGpUaXRsZSA9IHRoaXMuY25walRpdGxlIHx8IHRoaXMubGl0ZXJhbHMuc3RyMDAyNjsgLy8gJ0NOUEonXHJcbiAgICB0aGlzLmJyYW5jaENvbHVtbnNbMl0ubGFiZWwgPSB0aGlzLmNucGpUaXRsZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBdHVhbGl6YSBhIGRlc2NyacOnw6NvIGRvIG1vZHVsbyBzZWxlY2lvbmFkb1xyXG4gICAqL1xyXG4gIHVwZGF0ZU1vZHVsZURlc2NyaXB0aW9uKCk6IHZvaWQge1xyXG4gICAgdGhpcy5wcm9TeXN0ZW1Nb2R1bGVTZXJ2aWNlLmdldFN5c3RlbU1vZHVsZSggdGhpcy5zZXR0aW5nRm9ybS5nZXQoJ2Vudmlyb25tZW50X2NvZGUnKS52YWx1ZSApLnN1YnNjcmliZSggXHJcbiAgICAgIChzeXN0ZW1Nb2R1bGU6IFByb1N5c3RlbU1vZHVsZXMpID0+IHsgXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nRm9ybS5nZXQoJ2Vudmlyb25tZW50X2Rlc2NyaXB0aW9uJykucGF0Y2hWYWx1ZShzeXN0ZW1Nb2R1bGUuZGVzY3JpcHRpb24pO1xyXG4gICAgICB9XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gQ3JpYSBlIHJldG9ybmEgbyBkYWRvcyBkZSBjb250cm9sZSBkZSBmb3JtdWzDoXJpbyBkYXMgY29uZmlndXJhw6fDtWVzIGRlIGxvZ2luXHJcbiAgICogQHJldHVybnMgUmV0b3JuYSBvIEZvcm1Hcm91cCBkbyBmb3JtdWzDoXJpbyBkZSBkYWRvcyBkZSBsb2dpblxyXG4gICAqL1xyXG4gIHByaXZhdGUgYnVpbGRGb3JtKCk6IFVudHlwZWRGb3JtR3JvdXAge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICBiYXNlX2RhdGU6IFtudWxsLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxyXG4gICAgICBjb21wYW55X2NvZGU6IFtudWxsLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxyXG4gICAgICBjb21wYW55X2Rlc2NyaXB0aW9uOiBbbnVsbCwgW1ZhbGlkYXRvcnMucmVxdWlyZWRdXSxcclxuICAgICAgYnJhbmNoX2NvZGU6IFtudWxsLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxyXG4gICAgICBicmFuY2hfZGVzY3JpcHRpb246IFtudWxsLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxyXG4gICAgICBlbnZpcm9ubWVudF9jb2RlOiBbXHJcbiAgICAgICAgbnVsbCxcclxuICAgICAgICBbdGhpcy5tb2R1bGVWYWxpZGF0b3IuYmluZCh0aGlzKSwgVmFsaWRhdG9ycy5yZXF1aXJlZF1cclxuICAgICAgXSxcclxuICAgICAgZW52aXJvbm1lbnRfZGVzY3JpcHRpb246IFtudWxsLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF1dLFxyXG4gICAgICByb2xlX2NvZGU6IFtudWxsLCBbXV0sXHJcbiAgICAgIHJvbGVfZGVzY3JpcHRpb246IFtudWxsLCBbXV0sXHJcbiAgICAgIG1kaV9tZW51X2luZm86IFtmYWxzZSwgW11dLFxyXG4gICAgICBnb19lbXBfZmlsOiBbZmFsc2UsIFtdXSxcclxuICAgICAgY29tcGFueUxheW91dDogW251bGwsIFtdXSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbW9kdWxlVmFsaWRhdG9yKGNvbnRyb2w6IFVudHlwZWRGb3JtQ29udHJvbCk6IFZhbGlkYXRpb25FcnJvcnMge1xyXG4gICAgaWYgKCF0aGlzLmZpeGVkTW9kdWxlICYmIHBhcnNlSW50KGNvbnRyb2wudmFsdWUsIDEwKSA9PT0gOTkpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBjb25maWd1cmFkb3I6IHRoaXMubGl0ZXJhbHMuc3RyMDAxOVxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFZhbGlkYXRvcnMucmVxdWlyZWQoY29udHJvbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN1YnNjcmliZVRvUmVzb2x2ZXIoKTogU3Vic2NyaXB0aW9uIHtcclxuICAgIHJldHVybiB0aGlzLnJvdXRlLmRhdGEuc3Vic2NyaWJlKHJlc3VsdE9mUmVzb2x2ZXIgPT4ge1xyXG4gICAgICB0aGlzLnZhbGlkYXRlUmVzb2x2ZXJEYXRhKHJlc3VsdE9mUmVzb2x2ZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB2YWxpZGF0ZVJlc29sdmVyRGF0YShyZXNvbHZlRGF0YTogRGF0YSkge1xyXG4gICAgaWYgKHJlc29sdmVEYXRhLmRlZmF1bHRzU2V0dGluZ3MpIHtcclxuICAgICAgdGhpcy5zZXNzaW9uU2V0dGluZ3NEZWZhdWx0cyA9IHJlc29sdmVEYXRhLmRlZmF1bHRzU2V0dGluZ3M7XHJcbiAgICAgIHRoaXMuZml4ZWRNb2R1bGUgPVxyXG4gICAgICAgIHR5cGVvZiByZXNvbHZlRGF0YS5kZWZhdWx0c1NldHRpbmdzLmVudmlyb25tZW50X3doZW4gPT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICA/IGZhbHNlXHJcbiAgICAgICAgICA6ICFyZXNvbHZlRGF0YS5kZWZhdWx0c1NldHRpbmdzLmVudmlyb25tZW50X3doZW47XHJcbiAgICAgIHRoaXMuZml4ZWRSb2xlID0gIXJlc29sdmVEYXRhLmRlZmF1bHRzU2V0dGluZ3Mucm9sZV93aGVuO1xyXG4gICAgICB0aGlzLmRpc2FibGVCYWNrQnV0dG9uID0gcmVzb2x2ZURhdGEuZGVmYXVsdHNTZXR0aW5ncy5kaXNhYmxlX2JhY2tfYnV0dG9uO1xyXG4gICAgICB0aGlzLnNob3dNRElNZW51SW5mbyA9IHJlc29sdmVEYXRhLmRlZmF1bHRzU2V0dGluZ3Muc2hvd19tZGlfbWVudV9pbmZvO1xyXG4gICAgICB0aGlzLnNob3dHb0VtcEZpbCA9IHJlc29sdmVEYXRhLmRlZmF1bHRzU2V0dGluZ3Muc2hvd19nb19lbXBfZmlsO1xyXG4gICAgICB0aGlzLmxvYWRTZXR0aW5nRm9ybSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlc29sdmVEYXRhLnVzZXJJbmZvKSB7XHJcbiAgICAgIHRoaXMuZGlzcGxheU5hbWUgPSByZXNvbHZlRGF0YS51c2VySW5mby5kaXNwbGF5TmFtZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldCBzZXNzaW9uU2V0dGluZ3NEZWZhdWx0cyhkZWZhdWx0czogUHJvU2Vzc2lvblNldHRpbmdzKSB7XHJcbiAgICBpZiAoZGVmYXVsdHMuYmFzZV9kYXRlKSB7XHJcbiAgICAgIGRlZmF1bHRzLmJhc2VfZGF0ZSA9IHRoaXMuY29udmVydERhdGVmb3JQb0RhdGVQaWNrZXIoZGVmYXVsdHMuYmFzZV9kYXRlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlZmF1bHRzLmJhc2VfZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9Qcm9TZXNzaW9uU2V0dGluZ3NEZWZhdWx0cyA9IGRlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHNlc3Npb25TZXR0aW5nc0RlZmF1bHRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX1Byb1Nlc3Npb25TZXR0aW5nc0RlZmF1bHRzO1xyXG4gIH1cclxuXHJcbiAgY29udmVydERhdGVmb3JQb0RhdGVQaWNrZXIoYmFzZV9kYXRlOiBhbnkpIHtcclxuICAgIGxldCBjb252ZXJ0ZWREYXRlID0gYmFzZV9kYXRlO1xyXG4gICAgaWYgKGJhc2VfZGF0ZSAmJiAhKGJhc2VfZGF0ZSBpbnN0YW5jZW9mIERhdGUpKSB7XHJcbiAgICAgIGNvbnZlcnRlZERhdGUgPSBgJHtiYXNlX2RhdGV9VDAwOjAwOjAwLTAyOjAwYDtcclxuICAgIH1cclxuICAgIHJldHVybiBjb252ZXJ0ZWREYXRlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBsb2FkU2V0dGluZ0Zvcm0oKSB7XHJcbiAgICAvLyBDYXJyZWdhIG8gY2FtcG8gZGUgZW1wcmVzYSBwcmltZWlybywgcG9pcyBlbGUgw6kgdXRpbGl6YWRvIG5vIGNhbXBvIGRlIGZpbGlhbC5cclxuICAgIHRoaXMuc2V0dGluZ0Zvcm1cclxuICAgICAgLmdldCgnY29tcGFueV9jb2RlJylcclxuICAgICAgLnBhdGNoVmFsdWUodGhpcy5zZXNzaW9uU2V0dGluZ3NEZWZhdWx0cy5jb21wYW55X2NvZGUpO1xyXG4gICAgdGhpcy5zZXR0aW5nRm9ybS5wYXRjaFZhbHVlKHRoaXMuc2Vzc2lvblNldHRpbmdzRGVmYXVsdHMpO1xyXG4gICAgdGhpcy5wcm9Db21wYW55U2VydmljZS5jb21wYW55ID0ge1xyXG4gICAgICBDb2RlOiB0aGlzLnNlc3Npb25TZXR0aW5nc0RlZmF1bHRzLmNvbXBhbnlfY29kZVxyXG4gICAgfTtcclxuICAgIHRoaXMucHJvQnJhbmNoU2VydmljZS5icmFuY2ggPSB7XHJcbiAgICAgIENvZGU6IHRoaXMuc2Vzc2lvblNldHRpbmdzRGVmYXVsdHMuYnJhbmNoX2NvZGVcclxuICAgIH07XHJcbiAgICB0aGlzLnByb1JvbGVTZXJ2aWNlLnJvbGUgPSB7XHJcbiAgICAgIENvZGU6IHRoaXMuc2Vzc2lvblNldHRpbmdzRGVmYXVsdHMucm9sZV9jb2RlLFxyXG4gICAgICBEZXNjcmlwdGlvbjogdGhpcy5zZXNzaW9uU2V0dGluZ3NEZWZhdWx0cy5yb2xlX2Rlc2NyaXB0aW9uXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgb25TZXNzaW9uU2V0dGluZ0JhY2soKSB7XHJcbiAgICB0aGlzLnByb1Nlc3Npb25TZXR0aW5nc1NlcnZpY2UuY2xlYXJTZXR0aW5nc0RlZmF1bHRzKCk7XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy9sb2dpbiddKTtcclxuICB9XHJcblxyXG4gIG9uU2Vzc2lvblNldHRpbmdTdWJtaXQoKSB7XHJcbiAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgb2YodHJ1ZSlcclxuICAgICAgLnBpcGUoXHJcbiAgICAgICAgZGVsYXkoMTAwKSxcclxuICAgICAgICB0YXAoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ0Zvcm0ucGVuZGluZykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KSxcclxuICAgICAgICByZXRyeSgyNSksXHJcbiAgICAgICAgdGFwKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc3VibWl0Rm9ybSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuICAgICAgLnN1YnNjcmliZSh7XHJcbiAgICAgICAgZXJyb3I6ICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLm9uRXJyb3JTdWJtaXQodGhpcy5saXRlcmFscy5zdHIwMDI0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3VibWl0Rm9ybSgpIHtcclxuICAgIGlmICh0aGlzLnNldHRpbmdGb3JtLnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuc3Vicy5zaW5rID0gdGhpcy5zYXZlU2V0dGluZ3ModGhpcy5zZXR0aW5nRm9ybSkuc3Vic2NyaWJlKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5leHQ6ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlU2VydmljZS5jaGFuZ2VMYW5ndWFnZShcclxuICAgICAgICAgICAgICB0aGlzLnBvSTE4blNlcnZpY2UuZ2V0U2hvcnRMYW5ndWFnZSgpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFsnL2hvbWUnXSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZXJyb3I6ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbkVycm9yU3VibWl0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vbkVycm9yU3VibWl0KHRoaXMubGl0ZXJhbHMuc3RyMDAxOSk7IC8vICdGb3JtdWzDoXJpbyBpbnbDoWxpZG8nXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpIHtcclxuICAgIHRoaXMuc3Vicy51bnN1YnNjcmliZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkVycm9yU3VibWl0KG1lc3NhZ2U/OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XHJcbiAgICBpZiAobWVzc2FnZSkge1xyXG4gICAgICB0aGlzLm1lc3NhZ2VTZXJ2aWNlLnNob3dNZXNzYWdlKG1lc3NhZ2UsIDIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycvc2Vzc2lvbi1zZXR0aW5ncyddKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2F2ZVNldHRpbmdzKGZvcm06IFVudHlwZWRGb3JtR3JvdXApOiBPYnNlcnZhYmxlPFByb1Nlc3Npb25TZXR0aW5ncz4ge1xyXG4gICAgY29uc3QgbmV3U2Vzc2lvbjogUHJvU2Vzc2lvblNldHRpbmdzID0ge1xyXG4gICAgICBiYXNlX2RhdGU6IGZvcm0uZ2V0KCdiYXNlX2RhdGUnKS52YWx1ZSxcclxuICAgICAgY29tcGFueV9jb2RlOiBmb3JtLmdldCgnY29tcGFueV9jb2RlJykudmFsdWUsXHJcbiAgICAgIGJyYW5jaF9jb2RlOiBmb3JtLmdldCgnYnJhbmNoX2NvZGUnKS52YWx1ZSxcclxuICAgICAgZW52aXJvbm1lbnRfY29kZTogZm9ybS5nZXQoJ2Vudmlyb25tZW50X2NvZGUnKS52YWx1ZSxcclxuICAgICAgcm9sZV9jb2RlOiBmb3JtLmdldCgncm9sZV9jb2RlJykudmFsdWUsXHJcbiAgICAgIG1kaV9tZW51X2luZm86IGZvcm0uZ2V0KCdtZGlfbWVudV9pbmZvJykudmFsdWUsXHJcbiAgICAgIGdvX2VtcF9maWw6IGZvcm0uZ2V0KCdnb19lbXBfZmlsJykudmFsdWVcclxuICAgIH07XHJcbiAgICByZXR1cm4gdGhpcy5wcm9TZXNzaW9uU2V0dGluZ3NTZXJ2aWNlLnNhdmVTZXR0aW5nc0RlZmF1bHRzKG5ld1Nlc3Npb24pO1xyXG4gIH1cclxuXHJcbiAgc2V0Q2hhbm5lbEFzSFRUUCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgdGhpcy51c2VIVFRQID0gdmFsdWU7XHJcbiAgICB0aGlzLmNoYW5nZVNlcnZpY2VzQ2hhbm5lbCgpO1xyXG4gIH1cclxuXHJcbiAgaXNDaGFubmVsSFRUUCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnVzZUhUVFA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gQXR1YWxpemEgbyBDYW5hbCBkZSBjb211bmljYcOnw6NvXHJcbiAgICogZG9zIHNlcnZpw6dvcyB1dGlsaXphZG9zIHBlbG8gY29tcG9uZW50ZVxyXG4gICAqIEByZXR1cm5zIHZvaWRcclxuICAgKi9cclxuICBwcml2YXRlIGNoYW5nZVNlcnZpY2VzQ2hhbm5lbCgpOiB2b2lkIHtcclxuICAgIHRoaXMucHJvQ29tcGFueVNlcnZpY2Uuc2V0Q2hhbm5lbEFzSFRUUCh0aGlzLnVzZUhUVFApO1xyXG4gICAgdGhpcy5wcm9CcmFuY2hTZXJ2aWNlLnNldENoYW5uZWxBc0hUVFAodGhpcy51c2VIVFRQKTtcclxuICAgIHRoaXMucHJvVHJhbnNsYXRlU3RyaW5nU2VydmljZS5zZXRDaGFubmVsQXNIVFRQKHRoaXMudXNlSFRUUCk7XHJcbiAgICB0aGlzLnByb1N5c3RlbU1vZHVsZVNlcnZpY2Uuc2V0Q2hhbm5lbEFzSFRUUCh0aGlzLnVzZUhUVFApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uIEF0dWFsaXphIGFzIHZhcmlhdmVpcyBhIHBhcnRpciBkYSBtYXJjYVxyXG4gICAqIG1hMyBuYSBydXNzaWEgZSBwcm90aGV1cyBuYXMgZGVtYWlzXHJcbiAgICogQHJldHVybnMgdm9pZFxyXG4gICAqL1xyXG4gIHVwZGF0ZVJlc291cmNlQnlCcmFuZCgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmJyYW5kID09IFwiTUEzXCIpIHtcclxuICAgICAgdGhpcy5sb2dvID0gJy4vYXNzZXRzL2ltYWdlcy9uYXRpb25hbHBsYXRmb3JtL25hdGlvbmFscGxhdGZvcm0uc3ZnJztcclxuICAgICAgdGhpcy5zZWNvbmRhcnlMb2dvID0gJy4vYXNzZXRzL2ltYWdlcy9uYXRpb25hbHBsYXRmb3JtL25hdGlvbmFscGxhdGZvcm0uc3ZnJztcclxuICAgICAgdGhpcy5wcm9kdWN0TmFtZSA9ICdNYS0zIExpbmUnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5sb2dvID0gJy4vYXNzZXRzL2ltYWdlcy90b3R2cy90b3R2cy5zdmcnO1xyXG4gICAgICB0aGlzLnNlY29uZGFyeUxvZ28gPSAnLi9hc3NldHMvaW1hZ2VzL3RvdHZzL3RvdHZzLnN2Zyc7XHJcbiAgICAgIHRoaXMucHJvZHVjdE5hbWUgPSB0aGlzLmxpdGVyYWxzLnN0cjAwMDE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gYXR1YWxpemEgYSB2YXJpYXZlbCBwcm9kdWN0TmFtZS5cclxuICAgKiBxdWFuZG8gbsOjbyBmb3IgTUEzIHByZWNpc2EgYXR1YWx6aWFyIGNvbSBhIGxpdGVyYWxzIGNhZGEgdmV6IHF1ZSBtdWRhIG8gaWRpb21hXHJcbiAgICogQHJldHVybnMgdm9pZFxyXG4gICAqL1xyXG4gIHVwZGF0ZVByb2R1Y3ROYW1lKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuYnJhbmQgIT0gXCJNQTNcIikge1xyXG4gICAgICB0aGlzLnByb2R1Y3ROYW1lID0gdGhpcy5saXRlcmFscy5zdHIwMDAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uIGF0dWFsaXphIGEgdmFyaWF2ZWwgZGUgbWFyY2FcclxuICAgKiBAcmV0dXJucyB2b2lkXHJcbiAgICovXHJcbiAgdXBkYXRlQnJhbmQoKTogdm9pZCB7XHJcbiAgICB0aGlzLnByb0JyYW5kU2VydmljZS5zZXRDaGFubmVsQXNIVFRQKGVudmlyb25tZW50LnVzZUhUVFApO1xyXG4gICAgdGhpcy5wcm9CcmFuZFNlcnZpY2UuZ2V0RVJQQnJhbmQoKS5zdWJzY3JpYmUoXHJcbiAgICAgIHtcclxuICAgICAgICBuZXh0OiAoYnJhbmQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgdGhpcy5icmFuZCA9IGJyYW5kO1xyXG4gICAgICAgICAgdGhpcy51cGRhdGVSZXNvdXJjZUJ5QnJhbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLFxyXG4gICAgICAgIGVycm9yOiAoZXJyb3I6IGFueSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5icmFuZCA9IFwiVE9UVlNcIjtcclxuICAgICAgICAgIHRoaXMudXBkYXRlUmVzb3VyY2VCeUJyYW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCI8YnV0dG9uXHJcbiAgY2xhc3M9XCJwby1wYWdlLWxvZ2luLXN1cHBvcnRcIlxyXG4gIChjbGljayk9XCJhY3RpdmF0ZVN1cHBvcnQoKVwiXHJcbiAgW2hpZGRlbl09XCIhbGl0ZXJhbHM/LnN0cjAwMDRcIlxyXG4+XHJcbiAgPHNwYW4gY2xhc3M9XCJwby1pY29uIHBvLWljb24taGVscFwiPjwvc3Bhbj5cclxuICB7eyBsaXRlcmFscz8uc3RyMDAwNCB9fVxyXG4gIDwhLS0gU3Vwb3J0ZSAtLT5cclxuPC9idXR0b24+XHJcblxyXG48cHJvLXBhZ2UtYmFja2dyb3VuZFxyXG4gIHAtc2hvdy1zZWxlY3QtbGFuZ3VhZ2VcclxuICBbcC1iYWNrZ3JvdW5kXT1cImJhY2tncm91bmRcIlxyXG4gIFtwLWhpZ2hsaWdodC1pbmZvXT1cImhpZ2hsaWdodEluZm9cIlxyXG4gIFtwLWxvZ29dPVwibG9nb1wiXHJcbiAgW3Atc2Vjb25kYXJ5LWxvZ29dPVwic2Vjb25kYXJ5TG9nb1wiXHJcbiAgKHAtc2VsZWN0ZWQtbGFuZ3VhZ2UpPVwib25TZWxlY3RlZExhbmd1YWdlKCRldmVudClcIlxyXG4+XHJcbiAgPGhlYWRlciBjbGFzcz1cInBvLXBhZ2UtbG9naW4taGVhZGVyXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwic2Vzc2lvbi1kaXNwbGF5LXRvcCBzZXNzaW9uLWRpc3BsYXktYm90XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWxvZ2luLWhlYWRlci1wcm9kdWN0LW5hbWVcIj5cclxuICAgICAgICA8aDE+e3sgcHJvZHVjdE5hbWUgfX08L2gxPlxyXG4gICAgICAgIDwhLS0gTGluaGEgUHJvdGhldXMgLS0+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8cG8tdGFnICpuZ0lmPVwiZW52aXJvbm1lbnRcIiBwLXR5cGU9XCJ3YXJuaW5nXCIgW3AtdmFsdWVdPVwiZW52aXJvbm1lbnRcIj5cclxuICAgICAgPC9wby10YWc+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJwby1wYWdlLWxvZ2luLWhlYWRlci13ZWxjb21lIHNlc3Npb24tZGlzcGxheS1ib3RcIj5cclxuICAgICAge3tcclxuICAgICAgICBkaXNwbGF5TmFtZVxyXG4gICAgICAgICAgPyAobGl0ZXJhbHM/LnN0cjAwMDkgfCBwb0kxOG46IFtkaXNwbGF5TmFtZV0pXHJcbiAgICAgICAgICA6IGxpdGVyYWxzPy5zdHIwMDA2XHJcbiAgICAgIH19PCEtLSBCb2FzLXZpbmRhcywgezB9LiAtLT48IS0tIENhcnJlZ2FuZG8uLi4gLS0+XHJcbiAgICA8L2Rpdj5cclxuICA8L2hlYWRlcj5cclxuICA8Zm9ybSBjbGFzcz1cInNlc3Npb24tc2V0dGluZ3MtZm9ybVwiIFtmb3JtR3JvdXBdPVwic2V0dGluZ0Zvcm1cIj5cclxuICAgIDxkaXYgY2xhc3M9XCJwby1yb3dcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cInBvLW1kLTEyIHBvLWxnLTEyIHBvLXhsLTEyIHBvLXBhZ2UtbG9naW4taW5mby1jb250YWluZXIgc2Vzc2lvbi1kYXRlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgIDxwby1kYXRlcGlja2VyXHJcbiAgICAgICAgICBjbGFzcz1cInBvLW1kLTcgcG8tbGctNyBwby14bC03XCJcclxuICAgICAgICAgIG5hbWU9XCJiYXNlX2RhdGVcIlxyXG4gICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwiYmFzZV9kYXRlXCJcclxuICAgICAgICAgIHAtY2xlYW5cclxuICAgICAgICAgIHAtZm9ybWF0PVwiZGQvbW0veXl5eVwiXHJcbiAgICAgICAgICBbcC1sYWJlbF09XCJsaXRlcmFscz8uc3RyMDAxOFwiXHJcbiAgICAgICAgICBwLXJlcXVpcmVkXHJcbiAgICAgICAgPjwvcG8tZGF0ZXBpY2tlclxyXG4gICAgICAgID48IS0tIERhdGEgYmFzZSAtLT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicG8tcGFnZS1sb2dpbi1pbmZvLWljb24tY29udGFpbmVyIHNlc3Npb24taGludC1kaXZcIj5cclxuICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgIGNsYXNzPVwicG8taWNvbiBwby1maWVsZC1pY29uIHBvLWljb24taW5mb1wiXHJcbiAgICAgICAgICAgIFtwLXRvb2x0aXBdPVwibGl0ZXJhbHM/LnN0cjAwMDJcIlxyXG4gICAgICAgICAgICBwLXRvb2x0aXAtcG9zaXRpb249XCJyaWdodFwiXHJcbiAgICAgICAgICAgID48IS0tIEVzY29saGEgYSBkYXRhIGJhc2UgZG8gc2lzdGVtYS4gLS0+XHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8cHJvLWNvbXBhbnktbG9va3VwXHJcbiAgICAgICAgY2xhc3M9XCJwby1tZC0xMlwiXHJcbiAgICAgICAgW3BhcmVudF09XCJzZXR0aW5nRm9ybVwiXHJcbiAgICAgICAgW3AtbGFiZWxdPVwibGl0ZXJhbHM/LnN0cjAwMTBcIlxyXG4gICAgICAgIFtwLWhpbnRdPVwibGl0ZXJhbHM/LnN0cjAwMTFcIlxyXG4gICAgICAgIFtwcm8tY29sdW1uc109XCJjb21wYW55Q29sdW1uc1wiXHJcbiAgICAgICAgKGNvbXBhbnlTZXR0ZWQpPVwiY2hhbmdlQnJhbmNoQ29sdW1ucygkZXZlbnQpXCJcclxuICAgICAgICAoYnJhbmNoU2V0dGVkKT1cImJyYW5jaFNldHRlZEV2ZW50KClcIlxyXG4gICAgICA+PC9wcm8tY29tcGFueS1sb29rdXBcclxuICAgICAgPjwhLS0gR3J1cG8gLS0+PCEtLSBTZWxlY2lvbmUgbyBHcnVwbyBkZSBFbXByZXNhcy4gLS0+XHJcbiAgICAgIDxwcm8tYnJhbmNoLWxvb2t1cFxyXG4gICAgICAgIFtwLWxhYmVsXT1cImxpdGVyYWxzPy5zdHIwMDEyXCJcclxuICAgICAgICBbcC1oaW50XT1cImxpdGVyYWxzPy5zdHIwMDEzXCJcclxuICAgICAgICBbcHJvLWNvbHVtbnNdPVwiYnJhbmNoQ29sdW1uc1wiXHJcbiAgICAgICAgY2xhc3M9XCJwby1tZC0xMlwiXHJcbiAgICAgICAgW3BhcmVudF09XCJzZXR0aW5nRm9ybVwiXHJcbiAgICAgICAgPjwhLS0gRmlsaWFsIC0tPjwhLS0gU2VsZWNpb25lIGEgRmlsaWFsLiAtLT5cclxuICAgICAgPC9wcm8tYnJhbmNoLWxvb2t1cD5cclxuICAgICAgPHByby1zeXN0ZW0tbW9kdWxlLWxvb2t1cFxyXG4gICAgICAgIFtwLWxhYmVsXT1cImxpdGVyYWxzPy5zdHIwMDE0XCJcclxuICAgICAgICBbcC1kaXNhYmxlZF09XCJmaXhlZE1vZHVsZVwiXHJcbiAgICAgICAgW3AtaGludF09XCJsaXRlcmFscz8uc3RyMDAxNVwiXHJcbiAgICAgICAgW3Byby1jb2x1bW5zXT1cIm1vZHVsZUNvbHVtbnNcIlxyXG4gICAgICAgIGNsYXNzPVwicG8tbWQtMTJcIlxyXG4gICAgICAgIFtwYXJlbnRdPVwic2V0dGluZ0Zvcm1cIlxyXG4gICAgICAgID48IS0tIEFtYmllbnRlIC0tPjwhLS0gU2VsZWNpb25lIG8gbcOzZHVsbyBkbyBzaXN0ZW1hLiAtLT5cclxuICAgICAgPC9wcm8tc3lzdGVtLW1vZHVsZS1sb29rdXA+XHJcbiAgICAgIDxwcm8tcm9sZS1sb29rdXBcclxuICAgICAgICBbcC1sYWJlbF09XCJsaXRlcmFscz8uc3RyMDAxNlwiXHJcbiAgICAgICAgW3AtZGlzYWJsZWRdPVwiZml4ZWRSb2xlXCJcclxuICAgICAgICBbcC1oaW50XT1cImxpdGVyYWxzPy5zdHIwMDE3XCJcclxuICAgICAgICBjbGFzcz1cInBvLW1kLTEyXCJcclxuICAgICAgICBbcGFyZW50XT1cInNldHRpbmdGb3JtXCJcclxuICAgICAgPjwvcHJvLXJvbGUtbG9va3VwXHJcbiAgICAgID48IS0tIFBhcGVsIGRlIHRyYWJhbGhvIC0tPjwhLS0gU2VsZWNpb25lIHVtIFBhcGVsIGRlIHRyYWJhbGhvLiAtLT5cclxuICAgICAgPGRpdiAqbmdJZj1cInNob3dHb0VtcEZpbFwiIGNsYXNzPVwic2Vzc2lvbi1yZW1pbmRlci1jb250YWluZXJcIj5cclxuICAgICAgICA8cG8tc3dpdGNoXHJcbiAgICAgICAgICBjbGFzcz1cInNlc3Npb24tcmVtaWRlci1zd2l0Y2hcIlxyXG4gICAgICAgICAgbmFtZT1cIm1kaV9tZW51X2luZm9cIlxyXG4gICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwibWRpX21lbnVfaW5mb1wiXHJcbiAgICAgICAgICBwLWxhYmVsPVwiIFwiXHJcbiAgICAgICAgICBbcC1sYWJlbC1vZmZdPVwibGl0ZXJhbHM/LnN0cjAwMDVcIlxyXG4gICAgICAgICAgW3AtbGFiZWwtb25dPVwibGl0ZXJhbHM/LnN0cjAwMDVcIlxyXG4gICAgICAgID48L3BvLXN3aXRjaFxyXG4gICAgICAgID48IS0tIFVzYXIgYXMgaW5mb3JtYcOnw7VlcyBhY2ltYSBlbSB0b2RhcyBhcyBzZXNzw7Vlcy4gLS0+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2ICpuZ0lmPVwic2hvd01ESU1lbnVJbmZvXCIgY2xhc3M9XCJzZXNzaW9uLXJlbWluZGVyLWNvbnRhaW5lclwiPlxyXG4gICAgICAgIDxwby1zd2l0Y2hcclxuICAgICAgICAgIGNsYXNzPVwic2Vzc2lvbi1yZW1pZGVyLXN3aXRjaFwiXHJcbiAgICAgICAgICBuYW1lPVwiZ29fZW1wX2ZpbFwiXHJcbiAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJnb19lbXBfZmlsXCJcclxuICAgICAgICAgIHAtbGFiZWw9XCIgXCJcclxuICAgICAgICAgIFtwLWxhYmVsLW9mZl09XCJsaXRlcmFscz8uc3RyMDAyM1wiXHJcbiAgICAgICAgICBbcC1sYWJlbC1vbl09XCJsaXRlcmFscz8uc3RyMDAyM1wiXHJcbiAgICAgICAgPjwvcG8tc3dpdGNoXHJcbiAgICAgICAgPjwhLS0gSW5pY2lhciBjb20gYXMgaW5mb3JtYcOnw7VlcyBkYSDDumx0aW1hIHNlc3PDo28uIC0tPlxyXG4gICAgICAgIDxzcGFuXHJcbiAgICAgICAgICBjbGFzcz1cInBvLWljb24gcG8tZmllbGQtaWNvbiBwby1pY29uLWluZm8gc2Vzc2lvbi1yZW1pbmRlci10b29sdGlwXCJcclxuICAgICAgICAgIFtwLXRvb2x0aXBdPVwibGl0ZXJhbHM/LnN0cjAwMDNcIlxyXG4gICAgICAgICAgcC10b29sdGlwLXBvc2l0aW9uPVwicmlnaHRcIlxyXG4gICAgICAgICAgPjwhLS0gVm9jw6ogcG9kZSBkZXNhYmlsaXRhciBlc3NhIG9ww6fDo28gbm8gbWVudSBkbyBzaXN0ZW1hLiAtLT5cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3M9XCJwby1tZC0xMiBwby1wYWdlLWxvZ2luLWluZm8tY29udGFpbmVyIHNlc3Npb24tc2V0dGluZ3MtYnV0dG9uc1wiXHJcbiAgICAgID5cclxuICAgICAgICA8cG8tYnV0dG9uXHJcbiAgICAgICAgICBjbGFzcz1cInBvLW1kLTZcIlxyXG4gICAgICAgICAgbmFtZT1cImJhY2tcIlxyXG4gICAgICAgICAgW3AtZGlzYWJsZWRdPVwiaXNMb2FkaW5nIHx8IGRpc2FibGVCYWNrQnV0dG9uXCJcclxuICAgICAgICAgIFtwLWxhYmVsXT1cImxpdGVyYWxzPy5zdHIwMDA4XCJcclxuICAgICAgICAgIChwLWNsaWNrKT1cIm9uU2Vzc2lvblNldHRpbmdCYWNrKClcIlxyXG4gICAgICAgICAgPjwhLS0gVm9sdGFyIC0tPlxyXG4gICAgICAgIDwvcG8tYnV0dG9uPlxyXG4gICAgICAgIDxwby1idXR0b25cclxuICAgICAgICAgIGNsYXNzPVwicG8tbWQtNiBzZXNzaW9uLXNldHRpbmdzLWJ1dHRvbi1lbnRlclwiXHJcbiAgICAgICAgICBuYW1lPVwic3VibW1pdFwiXHJcbiAgICAgICAgICBwLWtpbmQ9XCJwcmltYXJ5XCJcclxuICAgICAgICAgIFtwLWRpc2FibGVkXT1cIlxyXG4gICAgICAgICAgICAhKFxyXG4gICAgICAgICAgICAgIHRoaXMuc2V0dGluZ0Zvcm0uZ2V0KCdjb21wYW55X2NvZGUnKS52YWx1ZSAmJlxyXG4gICAgICAgICAgICAgIHRoaXMuc2V0dGluZ0Zvcm0uZ2V0KCdicmFuY2hfY29kZScpLnZhbHVlICYmXHJcbiAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nRm9ybS5nZXQoJ2Vudmlyb25tZW50X2NvZGUnKS52YWx1ZVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICBcIlxyXG4gICAgICAgICAgW3AtbGFiZWxdPVwiaXNMb2FkaW5nID8gbGl0ZXJhbHM/LnN0cjAwMDYgOiBsaXRlcmFscz8uc3RyMDAwN1wiXHJcbiAgICAgICAgICBbcC1sb2FkaW5nXT1cImlzTG9hZGluZ1wiXHJcbiAgICAgICAgICAocC1jbGljayk9XCJvblNlc3Npb25TZXR0aW5nU3VibWl0KClcIlxyXG4gICAgICAgICAgPjwhLS0gQ2FycmVnYW5kby4uLiAtLT48IS0tIEVudHJhciAtLT5cclxuICAgICAgICA8L3BvLWJ1dHRvbj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicG8tcGFnZS1sb2dpbi1pbmZvLWljb24tY29udGFpbmVyIHNlc3Npb24tZW1wdHktZGl2XCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgPC9mb3JtPlxyXG48L3Byby1wYWdlLWJhY2tncm91bmQ+XHJcbiJdfQ==